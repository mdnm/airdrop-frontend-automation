LavaPack.loadBundle([[1324,{"./utils":1329,buffer:2426,tweetnacl:3932,"tweetnacl-util":3931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.getEncryptionPublicKey=n.decryptSafely=n.decrypt=n.encryptSafely=n.encrypt=void 0;const o=i(e("tweetnacl")),a=i(e("tweetnacl-util")),c=e("./utils");function u({publicKey:e,data:t,version:n}){if((0,c.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,c.isNullish)(t))throw new Error("Missing data parameter");if((0,c.isNullish)(n))throw new Error("Missing version parameter");if("x25519-xsalsa20-poly1305"===n){if("string"!=typeof t)throw new Error("Message data must be given as a string");const n=o.box.keyPair();let r;try{r=a.decodeBase64(e)}catch(e){throw new Error("Bad public key")}const s=a.decodeUTF8(t),i=o.randomBytes(o.box.nonceLength),c=o.box(s,i,r,n.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:a.encodeBase64(i),ephemPublicKey:a.encodeBase64(n.publicKey),ciphertext:a.encodeBase64(c)}}throw new Error("Encryption type/version not supported")}function l({encryptedData:e,privateKey:t}){if((0,c.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,c.isNullish)(t))throw new Error("Missing privateKey parameter");if("x25519-xsalsa20-poly1305"===e.version){const n=d(t),r=o.box.keyPair.fromSecretKey(n).secretKey,s=a.decodeBase64(e.nonce),i=a.decodeBase64(e.ciphertext),c=a.decodeBase64(e.ephemPublicKey),u=o.box.open(i,s,c,r);try{if(!u)throw new Error;const e=a.encodeUTF8(u);if(!e)throw new Error;return e}catch(e){if(e&&"string"==typeof e.message&&e.message.length)throw new Error(`Decryption failed: ${e.message}`);throw new Error("Decryption failed.")}}throw new Error("Encryption type/version not supported.")}function d(e){const n=t.from(e,"hex").toString("base64");return a.decodeBase64(n)}n.encrypt=u,n.encryptSafely=function({publicKey:e,data:n,version:r}){if((0,c.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,c.isNullish)(n))throw new Error("Missing data parameter");if((0,c.isNullish)(r))throw new Error("Missing version parameter");if("object"==typeof n&&n&&"toJSON"in n)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const s={data:n,padding:""},i=t.byteLength(JSON.stringify(s),"utf-8")%2048;let o=0;return i>0&&(o=2048-i-16),s.padding="0".repeat(o),u({publicKey:e,data:JSON.stringify(s),version:r})},n.decrypt=l,n.decryptSafely=function({encryptedData:e,privateKey:t}){if((0,c.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,c.isNullish)(t))throw new Error("Missing privateKey parameter");return JSON.parse(l({encryptedData:e,privateKey:t})).data},n.getEncryptionPublicKey=function(e){const t=d(e),n=o.box.keyPair.fromSecretKey(t).publicKey;return a.encodeBase64(n)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/message-manager>@metamask/eth-sig-util",file:"node_modules/@metamask/message-manager/node_modules/@metamask/eth-sig-util/dist/encryption.js"}],[1325,{"./utils":1329,"@ethereumjs/util":393,"bn.js":2377,buffer:2426,"ethjs-util":2818},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.rawEncode=n.parseNumber=n.solidityPack=void 0;const s=e("@ethereumjs/util"),i=r(e("bn.js")),o=e("ethjs-util"),a=e("./utils");function c(e){return e.endsWith("]")}function u(e){const t=e.match(/(.*)\[(.*?)\]$/u);return t?""===t[2]?"dynamic":parseInt(t[2],10):null}function l(e){const t=/^\D+(\d+)$/u.exec(e);if(null===t)throw new Error(`Invalid parseTypeN input "${e}".`);return parseInt(t[1],10)}function d(e){const t=typeof e;if("string"===t)return(0,s.isHexPrefixed)(e)?new i.default((0,o.stripHexPrefix)(e),16):new i.default(e,10);if("number"===t)return new i.default(e);if(e&&Object.prototype.hasOwnProperty.call(e,"toArray")||i.default.isBN(e))return e;throw new Error("Argument is not a number")}function h(e,n,r){if(c(e)){const r=e.replace(/\[.*?\]/u,"");if(!c(r)){const t=u(e);if("dynamic"!==t&&0!==t&&null!==t&&n.length>t)throw new Error(`Elements exceed array size: ${t}`)}const s=n.map((e=>h(r,e,256)));return t.concat(s)}if("bytes"===e)return n;if("string"===e)return t.from(n,"utf8");if("bool"===e){r=r||8;const e=Array(r/4).join("0");return t.from(n?`${e}1`:`${e}0`,"hex")}if("address"===e){let e=20;return r&&(e=r/8),(0,s.setLengthLeft)((0,s.toBuffer)(n),e)}if(e.startsWith("bytes")){const t=l(e);if(t<1||t>32)throw new Error(`Invalid bytes<N> width: ${t}`);return"number"==typeof n&&(n=(0,a.normalize)(n)),(0,s.setLengthRight)((0,s.toBuffer)(n),t)}if(e.startsWith("uint")){const s=l(e);if(s%8||s<8||s>256)throw new Error(`Invalid uint<N> width: ${s}`);const i=d(n);if(i.bitLength()>s)throw new Error(`Supplied uint exceeds width: ${s} vs ${i.bitLength()}`);return r=r||s,i.toArrayLike(t,"be",r/8)}if(e.startsWith("int")){const s=l(e);if(s%8||s<8||s>256)throw new Error(`Invalid int<N> width: ${s}`);const i=d(n);if(i.bitLength()>s)throw new Error(`Supplied int exceeds width: ${s} vs ${i.bitLength()}`);return r=r||s,i.toTwos(s).toArrayLike(t,"be",r/8)}throw new Error(`Unsupported or invalid type: ${JSON.stringify(e)}`)}function p(e){return e.startsWith("int[")?`int256${e.slice(3)}`:"int"===e?"int256":e.startsWith("uint[")?`uint256${e.slice(4)}`:"uint"===e?"uint256":e.startsWith("fixed[")?`fixed128x128${e.slice(5)}`:"fixed"===e?"fixed128x128":e.startsWith("ufixed[")?`ufixed128x128${e.slice(6)}`:"ufixed"===e?"ufixed128x128":e}function f(e,n){if("address"===e)return f("uint160",d(n));if("bool"===e)return f("uint8",n?1:0);if("string"===e)return f("bytes",t.from(n,"utf8"));if(c(e)){if(void 0===n.length)throw new Error("Not an array?");const r=u(e);if("dynamic"!==r&&0!==r&&null!==r&&n.length>r)throw new Error(`Elements exceed array size: ${r}`);const s=[];e=e.slice(0,e.lastIndexOf("[")),"string"==typeof n&&(n=JSON.parse(n));for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&s.push(f(e,n[t]));if("dynamic"===r){const e=f("uint256",n.length);s.unshift(e)}return t.concat(s)}if("bytes"===e){n=t.from(n);let e=t.concat([f("uint256",n.length),n]);return n.length%32!=0&&(e=t.concat([e,(0,s.zeros)(32-n.length%32)])),e}if(e.startsWith("bytes")){const t=l(e);if(t<1||t>32)throw new Error(`Invalid bytes<N> width: ${t}`);const r="number"==typeof n?(0,a.normalize)(n):n;return(0,s.setLengthRight)((0,s.toBuffer)(r),32)}if(e.startsWith("uint")){const r=l(e);if(r%8||r<8||r>256)throw new Error(`Invalid uint<N> width: ${r}`);const s=d(n);if(s.bitLength()>r)throw new Error(`Supplied uint exceeds width: ${r} vs ${s.bitLength()}`);if(s.isNeg())throw new Error("Supplied uint is negative");return s.toArrayLike(t,"be",32)}if(e.startsWith("int")){const r=l(e);if(r%8||r<8||r>256)throw new Error(`Invalid int<N> width: ${r}`);const s=d(n);if(s.bitLength()>r)throw new Error(`Supplied int exceeds width: ${r} vs ${s.bitLength()}`);return s.toTwos(256).toArrayLike(t,"be",32)}if(e.startsWith("ufixed")){const t=g(e),r=d(n);if(r.isNeg())throw new Error("Supplied ufixed is negative");return f("uint256",r.mul(new i.default(2).pow(new i.default(t[1]))))}if(e.startsWith("fixed")){const t=g(e);return f("int256",d(n).mul(new i.default(2).pow(new i.default(t[1]))))}throw new Error(`Unsupported or invalid type: ${JSON.stringify(e)}`)}function m(e){return"string"===e||"bytes"===e||"dynamic"===u(e)}function g(e){const t=/^\D+(\d+)x(\d+)$/u.exec(e);if(null===t||t.length<1)throw new Error(`Invalid parseTypeNxM input "${e}".`);return[parseInt(t[1],10),parseInt(t[2],10)]}n.solidityPack=function(e,n){if(e.length!==n.length)throw new Error("Number of types are not matching the values");const r=[];for(let t=0;t<e.length;t++){const s=p(e[t]),i=n[t];r.push(h(s,i,null))}return t.concat(r)},n.parseNumber=d,n.rawEncode=function(e,n){const r=[],s=[];let i=0;e.forEach((e=>{if(c(e)){const t=u(e);i+="dynamic"!==t&&null!==t?32*t:32}else i+=32}));for(let t=0;t<e.length;t++){const o=p(e[t]),a=f(o,n[t]);m(o)?(r.push(f("uint256",i)),s.push(a),i+=a.length):r.push(a)}return t.concat(r.concat(s))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/message-manager>@metamask/eth-sig-util",file:"node_modules/@metamask/message-manager/node_modules/@metamask/eth-sig-util/dist/ethereumjs-abi-utils.js"}],[1326,{"./encryption":1324,"./personal-sign":1327,"./sign-typed-data":1328,"./utils":1329},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.normalize=n.concatSig=void 0,s(e("./personal-sign"),n),s(e("./sign-typed-data"),n),s(e("./encryption"),n);var i=e("./utils");Object.defineProperty(n,"concatSig",{enumerable:!0,get:function(){return i.concatSig}}),Object.defineProperty(n,"normalize",{enumerable:!0,get:function(){return i.normalize}})}}},{package:"@metamask/message-manager>@metamask/eth-sig-util",file:"node_modules/@metamask/message-manager/node_modules/@metamask/eth-sig-util/dist/index.js"}],[1327,{"./utils":1329,"@ethereumjs/util":393},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.extractPublicKey=n.recoverPersonalSignature=n.personalSign=void 0;const r=e("@ethereumjs/util"),s=e("./utils");function i(e,t){const n=(0,r.hashPersonalMessage)((0,s.legacyToBuffer)(e));return(0,s.recoverPublicKey)(n,t)}n.personalSign=function({privateKey:e,data:t}){if((0,s.isNullish)(t))throw new Error("Missing data parameter");if((0,s.isNullish)(e))throw new Error("Missing privateKey parameter");const n=(0,s.legacyToBuffer)(t),i=(0,r.hashPersonalMessage)(n),o=(0,r.ecsign)(i,e);return(0,s.concatSig)((0,r.toBuffer)(o.v),o.r,o.s)},n.recoverPersonalSignature=function({data:e,signature:t}){if((0,s.isNullish)(e))throw new Error("Missing data parameter");if((0,s.isNullish)(t))throw new Error("Missing signature parameter");const n=i(e,t),o=(0,r.publicToAddress)(n);return(0,r.bufferToHex)(o)},n.extractPublicKey=function({data:e,signature:t}){if((0,s.isNullish)(e))throw new Error("Missing data parameter");if((0,s.isNullish)(t))throw new Error("Missing signature parameter");return`0x${i(e,t).toString("hex")}`}}}},{package:"@metamask/message-manager>@metamask/eth-sig-util",file:"node_modules/@metamask/message-manager/node_modules/@metamask/eth-sig-util/dist/personal-sign.js"}],[1328,{"./ethereumjs-abi-utils":1325,"./utils":1329,"@ethereumjs/util":393,buffer:2426,"ethereum-cryptography/keccak":1330,"ethjs-util":2818},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.recoverTypedSignature=n.signTypedData=n.typedSignatureHash=n.TypedDataUtils=n.TYPED_MESSAGE_SCHEMA=n.SignTypedDataVersion=void 0;const r=e("@ethereumjs/util"),s=e("ethereum-cryptography/keccak"),i=e("ethjs-util"),o=e("./ethereumjs-abi-utils"),a=e("./utils");var c;function u(e,t){if(!Object.keys(c).includes(e))throw new Error(`Invalid version: '${e}'`);if(t&&!t.includes(e))throw new Error(`SignTypedDataVersion not allowed: '${e}'. Allowed versions are: ${t.join(", ")}`)}function l(e,n,h,p,f){if(u(f,[c.V3,c.V4]),e[h]!==undefined)return["bytes32",f===c.V4&&null==p?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,r.arrToBufArr)((0,s.keccak256)(d(h,p,e,f)))];if(p===undefined)throw new Error(`missing value for field ${n} of type ${h}`);if("bytes"===h){if("number"==typeof p)p=(0,a.numberToBuffer)(p);else if((0,i.isHexString)(p)){const e=p.length%2?"0":"";p=t.from(e+p.slice(2),"hex")}else p=t.from(p,"utf8");return["bytes32",(0,r.arrToBufArr)((0,s.keccak256)(p))]}if("string"===h)return p="number"==typeof p?(0,a.numberToBuffer)(p):t.from(null!=p?p:"","utf8"),["bytes32",(0,r.arrToBufArr)((0,s.keccak256)(p))];if(h.endsWith("]")){if(f===c.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const t=h.slice(0,h.lastIndexOf("[")),i=p.map((r=>l(e,n,t,r,f)));return["bytes32",(0,r.arrToBufArr)((0,s.keccak256)((0,o.rawEncode)(i.map((([e])=>e)),i.map((([,e])=>e)))))]}return[h,p]}function d(e,t,n,r){u(r,[c.V3,c.V4]);const s=["bytes32"],i=[m(e,n)];for(const o of n[e]){if(r===c.V3&&t[o.name]===undefined)continue;const[e,a]=l(n,o.name,o.type,t[o.name],r);s.push(e),i.push(a)}return(0,o.rawEncode)(s,i)}function h(e,t){let n="";const r=p(e,t);r.delete(e);const s=[e,...Array.from(r).sort()];for(const e of s){if(!t[e])throw new Error(`No type definition specified: ${e}`);n+=`${e}(${t[e].map((({name:e,type:t})=>`${t} ${e}`)).join(",")})`}return n}function p(e,t,n=new Set){if("string"!=typeof e)throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(e)}`);const r=e.match(/^\w*/u);if([e]=r,n.has(e)||t[e]===undefined)return n;n.add(e);for(const r of t[e])p(r.type,t,n);return n}function f(e,t,n,i){u(i,[c.V3,c.V4]);const o=d(e,t,n,i),a=(0,s.keccak256)(o);return(0,r.arrToBufArr)(a)}function m(e,n){const i=t.from(h(e,n),"utf-8");return(0,r.arrToBufArr)((0,s.keccak256)(i))}function g(e){const t={};for(const r in n.TYPED_MESSAGE_SCHEMA.properties)e[r]&&(t[r]=e[r]);return"types"in t&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t}function y(e,t){u(t,[c.V3,c.V4]);const n=g(e),{domain:r}=n;return f("EIP712Domain",r,{EIP712Domain:n.types.EIP712Domain},t)}function b(e){const t=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!("length"in e)||!e.length)throw t;const n=e.map((function(e){return"bytes"!==e.type?e.value:(0,a.legacyToBuffer)(e.value)})),i=e.map((function(e){return e.type})),c=e.map((function(e){if(!e.name)throw t;return`${e.type} ${e.name}`}));return(0,r.arrToBufArr)((0,s.keccak256)((0,o.solidityPack)(["bytes32","bytes32"],[(0,s.keccak256)((0,o.solidityPack)(new Array(e.length).fill("string"),c)),(0,s.keccak256)((0,o.solidityPack)(i,n))])))}!function(e){e.V1="V1",e.V3="V3",e.V4="V4"}(c=n.SignTypedDataVersion||(n.SignTypedDataVersion={})),n.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},n.TypedDataUtils={encodeData:d,encodeType:h,findTypeDependencies:p,hashStruct:f,hashType:m,sanitizeData:g,eip712Hash:function(e,n){u(n,[c.V3,c.V4]);const i=g(e),o=[t.from("1901","hex")];return o.push(y(e,n)),"EIP712Domain"!==i.primaryType&&o.push(f(i.primaryType,i.message,i.types,n)),(0,r.arrToBufArr)((0,s.keccak256)(t.concat(o)))},eip712DomainHash:y},n.typedSignatureHash=function(e){const t=b(e);return(0,r.bufferToHex)(t)},n.signTypedData=function({privateKey:e,data:t,version:s}){if(u(s),(0,a.isNullish)(t))throw new Error("Missing data parameter");if((0,a.isNullish)(e))throw new Error("Missing private key parameter");const i=s===c.V1?b(t):n.TypedDataUtils.eip712Hash(t,s),o=(0,r.ecsign)(i,e);return(0,a.concatSig)((0,r.toBuffer)(o.v),o.r,o.s)},n.recoverTypedSignature=function({data:e,signature:t,version:s}){if(u(s),(0,a.isNullish)(e))throw new Error("Missing data parameter");if((0,a.isNullish)(t))throw new Error("Missing signature parameter");const i=s===c.V1?b(e):n.TypedDataUtils.eip712Hash(e,s),o=(0,a.recoverPublicKey)(i,t),l=(0,r.publicToAddress)(o);return(0,r.bufferToHex)(l)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/message-manager>@metamask/eth-sig-util",file:"node_modules/@metamask/message-manager/node_modules/@metamask/eth-sig-util/dist/sign-typed-data.js"}],[1329,{"@ethereumjs/util":393,buffer:2426,"ethjs-util":2818},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.numberToBuffer=n.normalize=n.recoverPublicKey=n.concatSig=n.legacyToBuffer=n.isNullish=n.padWithZeroes=void 0;const r=e("@ethereumjs/util"),s=e("ethjs-util");function i(e,t){if(""!==e&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}function o(e){return null===e||e===undefined}n.padWithZeroes=i,n.isNullish=o,n.legacyToBuffer=function(e){return"string"!=typeof e||(0,s.isHexString)(e)?(0,r.toBuffer)(e):t.from(e)},n.concatSig=function(e,t,n){const o=(0,r.fromSigned)(t),a=(0,r.fromSigned)(n),c=(0,r.bufferToInt)(e),u=i((0,r.toUnsigned)(o).toString("hex"),64),l=i((0,r.toUnsigned)(a).toString("hex"),64),d=(0,s.stripHexPrefix)((0,s.intToHex)(c));return(0,r.addHexPrefix)(u.concat(l,d))},n.recoverPublicKey=function(e,t){const n=(0,r.fromRpcSig)(t);return(0,r.ecrecover)(e,n.v,n.r,n.s)},n.normalize=function(e){if(o(e))return undefined;if("number"==typeof e){if(e<0)return"0x";const t=(0,r.toBuffer)(e);e=(0,r.bufferToHex)(t)}if("string"!=typeof e){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return(0,r.addHexPrefix)(e.toLowerCase())},n.numberToBuffer=function(e){const n=e.toString(16),r=n.length%2?"0":"";return t.from(r+n,"hex")}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/message-manager>@metamask/eth-sig-util",file:"node_modules/@metamask/message-manager/node_modules/@metamask/eth-sig-util/dist/utils.js"}],[133,{"../../../shared/constants/transaction":4029,lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("lodash"),s=e("../../../shared/constants/transaction");var i={version:53,async migrate(e){const t=(0,r.cloneDeep)(e);t.meta.version=53;const n=t.data;return t.data=function(e){var t,n;const r=null==e||null===(t=e.TransactionController)||void 0===t?void 0:t.transactions,i=null==e||null===(n=e.IncomingTransactionsController)||void 0===n?void 0:n.incomingTransactions;Array.isArray(r)&&r.forEach((e=>{e&&(e.type!==s.TransactionType.retry&&e.type!==s.TransactionType.cancel&&(e.type=e.transactionCategory),delete e.transactionCategory)}));if(i){Object.entries(i).forEach((([t,n])=>{n&&(delete n.transactionCategory,e.IncomingTransactionsController.incomingTransactions[t]={...n,type:s.TransactionType.incoming})}))}return e}(n),t}};n.default=i}}},{package:"$root$",file:"app/scripts/migrations/053.js"}],[1330,{"./utils":1336,"@noble/hashes/sha3":1334},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.keccak512=n.keccak384=n.keccak256=n.keccak224=void 0;const r=e("@noble/hashes/sha3"),s=e("./utils");n.keccak224=(0,s.wrapHash)(r.keccak_224),n.keccak256=(()=>{const e=(0,s.wrapHash)(r.keccak_256);return e.create=r.keccak_256.create,e})(),n.keccak384=(0,s.wrapHash)(r.keccak_384),n.keccak512=(0,s.wrapHash)(r.keccak_512)}}},{package:"@metamask/message-manager>@metamask/eth-sig-util>ethereum-cryptography",file:"node_modules/@metamask/message-manager/node_modules/ethereum-cryptography/keccak.js"}],[1331,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function s(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function i(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function o(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function a(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function c(e,t){i(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(n,"__esModule",{value:!0}),n.output=n.exists=n.hash=n.bytes=n.bool=n.number=void 0,n.number=r,n.bool=s,n.bytes=i,n.hash=o,n.exists=a,n.output=c;const u={number:r,bool:s,bytes:i,hash:o,exists:a,output:c};n.default=u}}},{package:"@metamask/message-manager>@metamask/eth-sig-util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/message-manager/node_modules/ethereum-cryptography/node_modules/@noble/hashes/_assert.js"}],[1332,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.add=n.toBig=n.split=n.fromBig=void 0;const r=BigInt(2**32-1),s=BigInt(32);function i(e,t=!1){return t?{h:Number(e&r),l:Number(e>>s&r)}:{h:0|Number(e>>s&r),l:0|Number(e&r)}}function o(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:o,l:a}=i(e[s],t);[n[s],r[s]]=[o,a]}return[n,r]}n.fromBig=i,n.split=o;n.toBig=(e,t)=>BigInt(e>>>0)<<s|BigInt(t>>>0);function a(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:0|s}}n.add=a;const c={fromBig:i,split:o,toBig:n.toBig,shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,n)=>e<<n|t>>>32-n,rotlSL:(e,t,n)=>t<<n|e>>>32-n,rotlBH:(e,t,n)=>t<<n-32|e>>>64-n,rotlBL:(e,t,n)=>e<<n-32|t>>>64-n,add:a,add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,add5H:(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,add5L:(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0)};n.default=c}}},{package:"@metamask/message-manager>@metamask/eth-sig-util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/message-manager/node_modules/ethereum-cryptography/node_modules/@noble/hashes/_u64.js"}],[1333,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.crypto=void 0,n.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:undefined}}},{package:"@metamask/message-manager>@metamask/eth-sig-util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/message-manager/node_modules/ethereum-cryptography/node_modules/@noble/hashes/crypto.js"}],[1334,{"./_assert.js":1331,"./_u64.js":1332,"./utils.js":1335},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shake256=n.shake128=n.keccak_512=n.keccak_384=n.keccak_256=n.keccak_224=n.sha3_512=n.sha3_384=n.sha3_256=n.sha3_224=n.Keccak=n.keccakP=void 0;const r=e("./_assert.js"),s=e("./_u64.js"),i=e("./utils.js"),[o,a,c]=[[],[],[]],u=BigInt(0),l=BigInt(1),d=BigInt(2),h=BigInt(7),p=BigInt(256),f=BigInt(113);for(let e=0,t=l,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],o.push(2*(5*r+n)),a.push((e+1)*(e+2)/2%64);let s=u;for(let e=0;e<7;e++)t=(t<<l^(t>>h)*f)%p,t&d&&(s^=l<<(l<<BigInt(e))-l);c.push(s)}const[m,g]=s.default.split(c,!0),y=(e,t,n)=>n>32?s.default.rotlBH(e,t,n):s.default.rotlSH(e,t,n),b=(e,t,n)=>n>32?s.default.rotlBL(e,t,n):s.default.rotlSL(e,t,n);function w(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,s=(t+2)%10,i=n[s],o=n[s+1],a=y(i,o,1)^n[r],c=b(i,o,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=a,e[t+n+1]^=c}let t=e[2],s=e[3];for(let n=0;n<24;n++){const r=a[n],i=y(t,s,r),c=b(t,s,r),u=o[n];t=e[u],s=e[u+1],e[u]=i,e[u+1]=c}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=m[r],e[1]^=g[r]}n.fill(0)}n.keccakP=w;class v extends i.Hash{constructor(e,t,n,s=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=s,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,r.default.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,i.u32)(this.state)}keccak(){w(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){r.default.exists(this);const{blockLen:t,state:n}=this,s=(e=(0,i.toBytes)(e)).length;for(let r=0;r<s;){const i=Math.min(t-this.pos,s-r);for(let t=0;t<i;t++)n[this.pos++]^=e[r++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!=(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){r.default.exists(this,!1),r.default.bytes(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,s=e.length;r<s;){this.posOut>=n&&this.keccak();const i=Math.min(n-this.posOut,s-r);e.set(t.subarray(this.posOut,this.posOut+i),r),this.posOut+=i,r+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return r.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(r.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:s,enableXOF:i}=this;return e||(e=new v(t,n,r,i,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=r,e.enableXOF=i,e.destroyed=this.destroyed,e}}n.Keccak=v;const k=(e,t,n)=>(0,i.wrapConstructor)((()=>new v(t,e,n)));n.sha3_224=k(6,144,28),n.sha3_256=k(6,136,32),n.sha3_384=k(6,104,48),n.sha3_512=k(6,72,64),n.keccak_224=k(1,144,28),n.keccak_256=k(1,136,32),n.keccak_384=k(1,104,48),n.keccak_512=k(1,72,64);const S=(e,t,n)=>(0,i.wrapConstructorWithOpts)(((r={})=>new v(t,e,r.dkLen===undefined?n:r.dkLen,!0)));n.shake128=S(31,168,16),n.shake256=S(31,136,32)}}},{package:"@metamask/message-manager>@metamask/eth-sig-util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/message-manager/node_modules/ethereum-cryptography/node_modules/@noble/hashes/sha3.js"}],[1335,{"@noble/hashes/crypto":1333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(n,"__esModule",{value:!0}),n.randomBytes=n.wrapConstructorWithOpts=n.wrapConstructor=n.checkOpts=n.Hash=n.concatBytes=n.toBytes=n.utf8ToBytes=n.asyncLoop=n.nextTick=n.hexToBytes=n.bytesToHex=n.isLE=n.rotr=n.createView=n.u32=n.u8=void 0;const r=e("@noble/hashes/crypto");n.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);n.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));n.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(n.rotr=(e,t)=>e<<32-t|e>>>t,n.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!n.isLE)throw new Error("Non little-endian hardware is not supported");const s=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));n.bytesToHex=function(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=s[e[n]];return t},n.hexToBytes=function(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,s=e.slice(r,r+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[n]=i}return t};function i(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}function o(e){if("string"==typeof e&&(e=i(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}n.nextTick=async()=>{},n.asyncLoop=async function(e,t,r){let s=Date.now();for(let i=0;i<e;i++){r(i);const e=Date.now()-s;e>=0&&e<t||(await(0,n.nextTick)(),s+=e)}},n.utf8ToBytes=i,n.toBytes=o,n.concatBytes=function(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const s=e[t];n.set(s,r),r+=s.length}return n};n.Hash=class{clone(){return this._cloneInto()}};n.checkOpts=function(e,t){if(t!==undefined&&("object"!=typeof t||(n=t,"[object Object]"!==Object.prototype.toString.call(n)||n.constructor!==Object)))throw new TypeError("Options should be object or undefined");var n;return Object.assign(e,t)},n.wrapConstructor=function(e){const t=t=>e().update(o(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t},n.wrapConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(o(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},n.randomBytes=function(e=32){if(r.crypto&&"function"==typeof r.crypto.getRandomValues)return r.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}}}},{package:"@metamask/message-manager>@metamask/eth-sig-util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/message-manager/node_modules/ethereum-cryptography/node_modules/@noble/hashes/utils.js"}],[1336,{"@noble/hashes/_assert":1331,"@noble/hashes/utils":1335},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.crypto=n.wrapHash=n.equalsBytes=n.hexToBytes=n.bytesToUtf8=n.utf8ToBytes=n.createView=n.concatBytes=n.toHex=n.bytesToHex=n.assertBytes=n.assertBool=void 0;const s=r(e("@noble/hashes/_assert")),i=e("@noble/hashes/utils"),o=s.default.bool;n.assertBool=o;const a=s.default.bytes;n.assertBytes=a;var c=e("@noble/hashes/utils");Object.defineProperty(n,"bytesToHex",{enumerable:!0,get:function(){return c.bytesToHex}}),Object.defineProperty(n,"toHex",{enumerable:!0,get:function(){return c.bytesToHex}}),Object.defineProperty(n,"concatBytes",{enumerable:!0,get:function(){return c.concatBytes}}),Object.defineProperty(n,"createView",{enumerable:!0,get:function(){return c.createView}}),Object.defineProperty(n,"utf8ToBytes",{enumerable:!0,get:function(){return c.utf8ToBytes}}),n.bytesToUtf8=function(e){if(!(e instanceof Uint8Array))throw new TypeError("bytesToUtf8 expected Uint8Array, got "+typeof e);return(new TextDecoder).decode(e)},n.hexToBytes=function(e){const t=e.startsWith("0x")?e.substring(2):e;return(0,i.hexToBytes)(t)},n.equalsBytes=function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},n.wrapHash=function(e){return t=>(s.default.bytes(t),e(t))},n.crypto=(()=>{const e="object"==typeof self&&"crypto"in self?self.crypto:undefined,n=void 0!==t&&"function"==typeof t.require&&t.require.bind(t);return{node:n&&!e?n("crypto"):undefined,web:e}})()}}},{package:"@metamask/message-manager>@metamask/eth-sig-util>ethereum-cryptography",file:"node_modules/@metamask/message-manager/node_modules/ethereum-cryptography/utils.js"}],[1337,{"./helpers":1338},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./helpers"),s=r.ValidatorResult,i=r.SchemaError,o={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,exclusiveMinimum:!0,exclusiveMaximum:!0,additionalItems:!0,$schema:!0,$ref:!0,extends:!0}},a=o.validators={};function c(e,t,n,r,s){var i=t.throwError;t.throwError=!1;var o=this.validateSchema(e,s,t,n);return t.throwError=i,!o.valid&&r instanceof Function&&r(o),o.valid}function u(e,t,n,r,s,i){if(this.types.object(e)&&(!t.properties||t.properties[s]===undefined))if(!1===t.additionalProperties)i.addError({name:"additionalProperties",argument:s,message:"additionalProperty "+JSON.stringify(s)+" exists in instance when not allowed"});else{var o=t.additionalProperties||{};"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,s,o,n,r);var a=this.validateSchema(e[s],o,n,r.makeChild(o,s));a.instance!==i.instance[s]&&(i.instance[s]=a.instance),i.importErrors(a)}}a.type=function(e,t,n,r){if(e===undefined)return null;var i=new s(e,t,n,r),o=Array.isArray(t.type)?t.type:[t.type];if(!o.some(this.testType.bind(this,e,t,n,r))){var a=o.map((function(e){return e.id&&"<"+e.id+">"||e+""}));i.addError({name:"type",argument:a,message:"is not of a type(s) "+a})}return i},a.anyOf=function(e,t,n,r){if(e===undefined)return null;var o=new s(e,t,n,r),a=new s(e,t,n,r);if(!Array.isArray(t.anyOf))throw new i("anyOf must be an array");if(!t.anyOf.some(c.bind(this,e,n,r,(function(e){a.importErrors(e)})))){var u=t.anyOf.map((function(e,t){return e.id&&"<"+e.id+">"||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));n.nestedErrors&&o.importErrors(a),o.addError({name:"anyOf",argument:u,message:"is not any of "+u.join(",")})}return o},a.allOf=function(e,t,n,r){if(e===undefined)return null;if(!Array.isArray(t.allOf))throw new i("allOf must be an array");var o=new s(e,t,n,r),a=this;return t.allOf.forEach((function(t,s){var i=a.validateSchema(e,t,n,r);if(!i.valid){var c=t.id&&"<"+t.id+">"||t.title&&JSON.stringify(t.title)||t.$ref&&"<"+t.$ref+">"||"[subschema "+s+"]";o.addError({name:"allOf",argument:{id:c,length:i.errors.length,valid:i},message:"does not match allOf schema "+c+" with "+i.errors.length+" error[s]:"}),o.importErrors(i)}})),o},a.oneOf=function(e,t,n,r){if(e===undefined)return null;if(!Array.isArray(t.oneOf))throw new i("oneOf must be an array");var o=new s(e,t,n,r),a=new s(e,t,n,r),u=t.oneOf.filter(c.bind(this,e,n,r,(function(e){a.importErrors(e)}))).length,l=t.oneOf.map((function(e,t){return e.id&&"<"+e.id+">"||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));return 1!==u&&(n.nestedErrors&&o.importErrors(a),o.addError({name:"oneOf",argument:l,message:"is not exactly one from "+l.join(",")})),o},a.properties=function(e,t,n,r){if(this.types.object(e)){var i=new s(e,t,n,r),o=t.properties||{};for(var a in o){"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,a,o[a],n,r);var c=Object.hasOwnProperty.call(e,a)?e[a]:undefined,u=this.validateSchema(c,o[a],n,r.makeChild(o[a],a));u.instance!==i.instance[a]&&(i.instance[a]=u.instance),i.importErrors(u)}return i}},a.patternProperties=function(e,t,n,r){if(this.types.object(e)){var i=new s(e,t,n,r),o=t.patternProperties||{};for(var a in e){var c=!0;for(var l in o){if(new RegExp(l).test(a)){c=!1,"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,a,o[l],n,r);var d=this.validateSchema(e[a],o[l],n,r.makeChild(o[l],a));d.instance!==i.instance[a]&&(i.instance[a]=d.instance),i.importErrors(d)}}c&&u.call(this,e,t,n,r,a,i)}return i}},a.additionalProperties=function(e,t,n,r){if(this.types.object(e)){if(t.patternProperties)return null;var i=new s(e,t,n,r);for(var o in e)u.call(this,e,t,n,r,o,i);return i}},a.minProperties=function(e,t,n,r){if(this.types.object(e)){var i=new s(e,t,n,r);return Object.keys(e).length>=t.minProperties||i.addError({name:"minProperties",argument:t.minProperties,message:"does not meet minimum property length of "+t.minProperties}),i}},a.maxProperties=function(e,t,n,r){if(this.types.object(e)){var i=new s(e,t,n,r);return Object.keys(e).length<=t.maxProperties||i.addError({name:"maxProperties",argument:t.maxProperties,message:"does not meet maximum property length of "+t.maxProperties}),i}},a.items=function(e,t,n,r){var i=this;if(this.types.array(e)&&t.items){var o=new s(e,t,n,r);return e.every((function(e,s){var a=Array.isArray(t.items)?t.items[s]||t.additionalItems:t.items;if(a===undefined)return!0;if(!1===a)return o.addError({name:"items",message:"additionalItems not permitted"}),!1;var c=i.validateSchema(e,a,n,r.makeChild(a,s));return c.instance!==o.instance[s]&&(o.instance[s]=c.instance),o.importErrors(c),!0})),o}},a.minimum=function(e,t,n,r){if(this.types.number(e)){var i=new s(e,t,n,r);return(t.exclusiveMinimum&&!0===t.exclusiveMinimum?e>t.minimum:e>=t.minimum)||i.addError({name:"minimum",argument:t.minimum,message:"must have a minimum value of "+t.minimum}),i}},a.maximum=function(e,t,n,r){if(this.types.number(e)){var i=new s(e,t,n,r);return(t.exclusiveMaximum&&!0===t.exclusiveMaximum?e<t.maximum:e<=t.maximum)||i.addError({name:"maximum",argument:t.maximum,message:"must have a maximum value of "+t.maximum}),i}};var l=function(e,t,n,o,a,c){if(this.types.number(e)){var u=t[a];if(0==u)throw new i(a+" cannot be zero");var l=new s(e,t,n,o),d=r.getDecimalPlaces(e),h=r.getDecimalPlaces(u),p=Math.max(d,h),f=Math.pow(10,p);return Math.round(e*f)%Math.round(u*f)!=0&&l.addError({name:a,argument:u,message:c+JSON.stringify(u)}),l}};function d(e,t,n){var s,i=n.length;for(s=t+1;s<i;s++)if(r.deepCompareStrict(e,n[s]))return!1;return!0}a.multipleOf=function(e,t,n,r){return l.call(this,e,t,n,r,"multipleOf","is not a multiple of (divisible by) ")},a.divisibleBy=function(e,t,n,r){return l.call(this,e,t,n,r,"divisibleBy","is not divisible by (multiple of) ")},a.required=function(e,t,n,r){var i=new s(e,t,n,r);return e===undefined&&!0===t.required?i.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(t.required)&&t.required.forEach((function(t){e[t]===undefined&&i.addError({name:"required",argument:t,message:"requires property "+JSON.stringify(t)})})),i},a.pattern=function(e,t,n,r){if(this.types.string(e)){var i=new s(e,t,n,r);return e.match(t.pattern)||i.addError({name:"pattern",argument:t.pattern,message:"does not match pattern "+JSON.stringify(t.pattern)}),i}},a.format=function(e,t,n,i){if(e!==undefined){var o=new s(e,t,n,i);return o.disableFormat||r.isFormat(e,t.format,this)||o.addError({name:"format",argument:t.format,message:"does not conform to the "+JSON.stringify(t.format)+" format"}),o}},a.minLength=function(e,t,n,r){if(this.types.string(e)){var i=new s(e,t,n,r),o=e.match(/[\uDC00-\uDFFF]/g);return e.length-(o?o.length:0)>=t.minLength||i.addError({name:"minLength",argument:t.minLength,message:"does not meet minimum length of "+t.minLength}),i}},a.maxLength=function(e,t,n,r){if(this.types.string(e)){var i=new s(e,t,n,r),o=e.match(/[\uDC00-\uDFFF]/g);return e.length-(o?o.length:0)<=t.maxLength||i.addError({name:"maxLength",argument:t.maxLength,message:"does not meet maximum length of "+t.maxLength}),i}},a.minItems=function(e,t,n,r){if(this.types.array(e)){var i=new s(e,t,n,r);return e.length>=t.minItems||i.addError({name:"minItems",argument:t.minItems,message:"does not meet minimum length of "+t.minItems}),i}},a.maxItems=function(e,t,n,r){if(this.types.array(e)){var i=new s(e,t,n,r);return e.length<=t.maxItems||i.addError({name:"maxItems",argument:t.maxItems,message:"does not meet maximum length of "+t.maxItems}),i}},a.uniqueItems=function(e,t,n,i){if(this.types.array(e)){var o=new s(e,t,n,i);return e.every((function(e,t,n){for(var s=t+1;s<n.length;s++)if(r.deepCompareStrict(e,n[s]))return!1;return!0}))||o.addError({name:"uniqueItems",message:"contains duplicate item"}),o}},a.uniqueItems=function(e,t,n,r){if(this.types.array(e)){var i=new s(e,t,n,r);return e.every(d)||i.addError({name:"uniqueItems",message:"contains duplicate item"}),i}},a.dependencies=function(e,t,n,r){if(this.types.object(e)){var i=new s(e,t,n,r);for(var o in t.dependencies)if(e[o]!==undefined){var a=t.dependencies[o],c=r.makeChild(a,o);if("string"==typeof a&&(a=[a]),Array.isArray(a))a.forEach((function(t){e[t]===undefined&&i.addError({name:"dependencies",argument:c.propertyPath,message:"property "+t+" not found, required by "+c.propertyPath})}));else{var u=this.validateSchema(e,a,n,c);i.instance!==u.instance&&(i.instance=u.instance),u&&u.errors.length&&(i.addError({name:"dependencies",argument:c.propertyPath,message:"does not meet dependency required by "+c.propertyPath}),i.importErrors(u))}}return i}},a.enum=function(e,t,n,o){if(e===undefined)return null;if(!Array.isArray(t.enum))throw new i("enum expects an array",t);var a=new s(e,t,n,o);return t.enum.some(r.deepCompareStrict.bind(null,e))||a.addError({name:"enum",argument:t.enum,message:"is not one of enum values: "+t.enum.map(String).join(",")}),a},a.const=function(e,t,n,i){if(e===undefined)return null;var o=new s(e,t,n,i);return r.deepCompareStrict(t.const,e)||o.addError({name:"const",argument:t.const,message:"does not exactly match expected constant: "+t.const}),o},a.not=a.disallow=function(e,t,n,r){var i=this;if(e===undefined)return null;var o=new s(e,t,n,r),a=t.not||t.disallow;return a?(Array.isArray(a)||(a=[a]),a.forEach((function(s){if(i.testType(e,t,n,r,s)){var a=s&&s.id&&"<"+s.id+">"||s;o.addError({name:"not",argument:a,message:"is of prohibited type "+a})}})),o):null},t.exports=o}}},{package:"@metamask/message-manager>jsonschema",file:"node_modules/@metamask/message-manager/node_modules/jsonschema/lib/attribute.js"}],[1338,{url:3941},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("url"),s=n.ValidationError=function(e,t,n,r,s,i){r&&(this.property=r),e&&(this.message=e),n&&(n.id?this.schema=n.id:this.schema=n),t&&(this.instance=t),this.name=s,this.argument=i,this.stack=this.toString()};s.prototype.toString=function(){return this.property+" "+this.message};var i=n.ValidatorResult=function(e,t,n,r){this.instance=e,this.schema=t,this.propertyPath=r.propertyPath,this.errors=[],this.throwError=n&&n.throwError,this.disableFormat=n&&!0===n.disableFormat};function o(e,t){return t+": "+e.toString()+"\n"}i.prototype.addError=function(e){var t;if("string"==typeof e)t=new s(e,this.instance,this.schema,this.propertyPath);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new s(e.message,this.instance,this.schema,this.propertyPath,e.name,e.argument)}if(this.throwError)throw t;return this.errors.push(t),t},i.prototype.importErrors=function(e){"string"==typeof e||e&&e.validatorType?this.addError(e):e&&e.errors&&Array.prototype.push.apply(this.errors,e.errors)},i.prototype.toString=function(e){return this.errors.map(o).join("")},Object.defineProperty(i.prototype,"valid",{get:function(){return!this.errors.length}});var a=n.SchemaError=function e(t,n){this.message=t,this.schema=n,Error.call(this,t),Error.captureStackTrace(this,e)};a.prototype=Object.create(Error.prototype,{constructor:{value:a,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var c=n.SchemaContext=function(e,t,n,r,s){this.schema=e,this.options=t,this.propertyPath=n,this.base=r,this.schemas=s};c.prototype.resolve=function(e){return r.resolve(this.base,e)},c.prototype.makeChild=function(e,t){var n=t===undefined?this.propertyPath:this.propertyPath+l(t),s=r.resolve(this.base,e.id||""),i=new c(e,this.options,n,s,Object.create(this.schemas));return e.id&&!i.schemas[s]&&(i.schemas[s]=e),i};var u=n.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"utc-millisec":function(e){return"string"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},regex:function(e){var t=!0;try{new RegExp(e)}catch(e){t=!1}return t},style:/\s*(.+?):\s*([^;]+);?/g,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/};u.regexp=u.regex,u.pattern=u.regex,u.ipv4=u["ip-address"],n.isFormat=function(e,t,n){if("string"==typeof e&&u[t]!==undefined){if(u[t]instanceof RegExp)return u[t].test(e);if("function"==typeof u[t])return u[t](e)}else if(n&&n.customFormats&&"function"==typeof n.customFormats[t])return n.customFormats[t](e);return!0};var l=n.makeSuffix=function(e){return(e=e.toString()).match(/[.\s\[\]]/)||e.match(/^[\d]/)?e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]":"."+e};function d(e,t,n,r){"object"==typeof n?t[r]=f(e[r],n):-1===e.indexOf(n)&&t.push(n)}function h(e,t,n){t[n]=e[n]}function p(e,t,n,r){"object"==typeof t[r]&&t[r]&&e[r]?n[r]=f(e[r],t[r]):n[r]=t[r]}function f(e,t){var n=Array.isArray(t),r=n&&[]||{};return n?(e=e||[],r=r.concat(e),t.forEach(d.bind(null,e,r))):(e&&"object"==typeof e&&Object.keys(e).forEach(h.bind(null,e,r)),Object.keys(t).forEach(p.bind(null,e,t,r))),r}function m(e){return"/"+encodeURIComponent(e).replace(/~/g,"%7E")}n.deepCompareStrict=function e(t,n){if(typeof t!=typeof n)return!1;if(t instanceof Array)return n instanceof Array&&(t.length===n.length&&t.every((function(r,s){return e(t[s],n[s])})));if("object"==typeof t){if(!t||!n)return t===n;var r=Object.keys(t),s=Object.keys(n);return r.length===s.length&&r.every((function(r){return e(t[r],n[r])}))}return t===n},t.exports.deepMerge=f,n.objectGetPath=function(e,t){for(var n,r=t.split("/").slice(1);"string"==typeof(n=r.shift());){var s=decodeURIComponent(n.replace(/~0/,"~").replace(/~1/g,"/"));if(!(s in e))return;e=e[s]}return e},n.encodePath=function(e){return e.map(m).join("")},n.getDecimalPlaces=function(e){var t=0;if(isNaN(e))return t;"number"!=typeof e&&(e=Number(e));var n=e.toString().split("e");if(2===n.length){if("-"!==n[1][0])return t;t=Number(n[1].slice(1))}var r=n[0].split(".");return 2===r.length&&(t+=r[1].length),t}}}},{package:"@metamask/message-manager>jsonschema",file:"node_modules/@metamask/message-manager/node_modules/jsonschema/lib/helpers.js"}],[1339,{"./helpers":1338,"./scan":1340,"./validator":1341},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=t.exports.Validator=e("./validator");t.exports.ValidatorResult=e("./helpers").ValidatorResult,t.exports.ValidationError=e("./helpers").ValidationError,t.exports.SchemaError=e("./helpers").SchemaError,t.exports.SchemaScanResult=e("./scan").SchemaScanResult,t.exports.scan=e("./scan").scan,t.exports.validate=function(e,t,n){return(new r).validate(e,t,n)}}}},{package:"@metamask/message-manager>jsonschema",file:"node_modules/@metamask/message-manager/node_modules/jsonschema/lib/index.js"}],[134,{lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("lodash");function s(e){return"number"==typeof e||"string"==typeof e&&e.match(/^(0x)?\d+$/u)}var i={version:54,async migrate(e){const t=(0,r.cloneDeep)(e);t.meta.version=54;const n=function(e){const t=e;if(!t.PreferencesController)return t;const n=t.PreferencesController.tokens||[],r=n.filter((({decimals:e})=>s(e)));for(const e of r)"string"==typeof e.decimals&&(e.decimals=parseInt(e.decimals));t.PreferencesController.tokens=r;const{accountTokens:i}=t.PreferencesController;if(i&&"object"==typeof i)for(const e of Object.keys(i)){const t=i[e];if(t&&"object"==typeof t)for(const e of Object.keys(t)){const n=(t[e]||[]).filter((({decimals:e})=>s(e)));for(const e of n)"string"==typeof e.decimals&&(e.decimals=parseInt(e.decimals));t[e]=n}}return t.PreferencesController.accountTokens=i,t}(t.data);return t.data=n,t}};n.default=i}}},{package:"$root$",file:"app/scripts/migrations/054.js"}],[1340,{"./helpers":1338,url:3941},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("url"),s=e("./helpers");function i(e,t){this.id=e,this.ref=t}t.exports.SchemaScanResult=i,t.exports.scan=function(e,t){function n(e,t){if(t&&"object"==typeof t)if(t.$ref){var i=r.resolve(e,t.$ref);u[i]=u[i]?u[i]+1:0}else{var l=t.id?r.resolve(e,t.id):e;if(l){if(l.indexOf("#")<0&&(l+="#"),c[l]){if(!s.deepCompareStrict(c[l],t))throw new Error("Schema <"+t+"> already exists with different definition");return c[l]}c[l]=t,"#"==l[l.length-1]&&(c[l.substring(0,l.length-1)]=t)}o(l+"/items",t.items instanceof Array?t.items:[t.items]),o(l+"/extends",t.extends instanceof Array?t.extends:[t.extends]),n(l+"/additionalItems",t.additionalItems),a(l+"/properties",t.properties),n(l+"/additionalProperties",t.additionalProperties),a(l+"/definitions",t.definitions),a(l+"/patternProperties",t.patternProperties),a(l+"/dependencies",t.dependencies),o(l+"/disallow",t.disallow),o(l+"/allOf",t.allOf),o(l+"/anyOf",t.anyOf),o(l+"/oneOf",t.oneOf),n(l+"/not",t.not)}}function o(e,t){if(t instanceof Array)for(var r=0;r<t.length;r++)n(e+"/"+r,t[r])}function a(e,t){if(t&&"object"==typeof t)for(var r in t)n(e+"/"+r,t[r])}var c={},u={};return n(e,t),new i(c,u)}}}},{package:"@metamask/message-manager>jsonschema",file:"node_modules/@metamask/message-manager/node_modules/jsonschema/lib/scan.js"}],[1341,{"./attribute":1337,"./helpers":1338,"./scan":1340,url:3941},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("url"),s=e("./attribute"),i=e("./helpers"),o=e("./scan").scan,a=i.ValidatorResult,c=i.SchemaError,u=i.SchemaContext,l=function e(){this.customFormats=Object.create(e.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(h),this.attributes=Object.create(s.validators)};function d(e){var t="string"==typeof e?e:e.$ref;return"string"==typeof t&&t}l.prototype.customFormats={},l.prototype.schemas=null,l.prototype.types=null,l.prototype.attributes=null,l.prototype.unresolvedRefs=null,l.prototype.addSchema=function(e,t){var n=this;if(!e)return null;var r=o(t||"/",e),s=t||e.id;for(var i in r.id)this.schemas[i]=r.id[i];for(var i in r.ref)this.unresolvedRefs.push(i);return this.unresolvedRefs=this.unresolvedRefs.filter((function(e){return void 0===n.schemas[e]})),this.schemas[s]},l.prototype.addSubSchemaArray=function(e,t){if(t instanceof Array)for(var n=0;n<t.length;n++)this.addSubSchema(e,t[n])},l.prototype.addSubSchemaObject=function(e,t){if(t&&"object"==typeof t)for(var n in t)this.addSubSchema(e,t[n])},l.prototype.setSchemas=function(e){this.schemas=e},l.prototype.getSchema=function(e){return this.schemas[e]},l.prototype.validate=function(e,t,n,s){n||(n={});var i=n.propertyName||"instance",a=r.resolve(n.base||"/",t.id||"");if(!s){(s=new u(t,n,i,a,Object.create(this.schemas))).schemas[a]||(s.schemas[a]=t);var l=o(a,t);for(var d in l.id){var h=l.id[d];s.schemas[d]=h}}if(t){var p=this.validateSchema(e,t,n,s);if(!p)throw new Error("Result undefined");return p}throw new c("no schema specified",t)},l.prototype.validateSchema=function(e,t,n,r){var o,l=new a(e,t,n,r);if("boolean"==typeof t)!0===t?t={}:!1===t&&(t={type:[]});else if(!t)throw new Error("schema is undefined");if(t.extends)if(t.extends instanceof Array){var h={schema:t,ctx:r};t.extends.forEach(this.schemaTraverser.bind(this,h)),t=h.schema,h.schema=null,h.ctx=null,h=null}else t=i.deepMerge(t,this.superResolve(t.extends,r));if(o=d(t)){var p=this.resolve(t,o,r),f=new u(p.subschema,n,r.propertyPath,p.switchSchema,r.schemas);return this.validateSchema(e,p.subschema,n,f)}var m=n&&n.skipAttributes||[];for(var g in t)if(!s.ignoreProperties[g]&&m.indexOf(g)<0){var y=null,b=this.attributes[g];if(b)y=b.call(this,e,t,n,r);else if(!1===n.allowUnknownAttributes)throw new c("Unsupported attribute: "+g,t);y&&l.importErrors(y)}if("function"==typeof n.rewrite){var w=n.rewrite.call(this,e,t,n,r);l.instance=w}return l},l.prototype.schemaTraverser=function(e,t){e.schema=i.deepMerge(e.schema,this.superResolve(t,e.ctx))},l.prototype.superResolve=function(e,t){var n;return(n=d(e))?this.resolve(e,n,t).subschema:e},l.prototype.resolve=function(e,t,n){if(t=n.resolve(t),n.schemas[t])return{subschema:n.schemas[t],switchSchema:t};var s=r.parse(t),o=s&&s.hash,a=o&&o.length&&t.substr(0,t.length-o.length);if(!a||!n.schemas[a])throw new c("no such schema <"+t+">",e);var u=i.objectGetPath(n.schemas[a],o.substr(1));if(u===undefined)throw new c("no such schema "+o+" located in <"+a+">",e);return{subschema:u,switchSchema:t}},l.prototype.testType=function(e,t,n,r,s){if("function"==typeof this.types[s])return this.types[s].call(this,e);if(s&&"object"==typeof s){var i=this.validateSchema(e,s,n,r);return i===undefined||!(i&&i.errors.length)}return!0};var h=l.prototype.types={};h.string=function(e){return"string"==typeof e},h.number=function(e){return"number"==typeof e&&isFinite(e)},h.integer=function(e){return"number"==typeof e&&e%1==0},h.boolean=function(e){return"boolean"==typeof e},h.array=function(e){return Array.isArray(e)},h.null=function(e){return null===e},h.date=function(e){return e instanceof Date},h.any=function(e){return!0},h.object=function(e){return e&&"object"==typeof e&&!(e instanceof Array)&&!(e instanceof Date)},t.exports=l}}},{package:"@metamask/message-manager>jsonschema",file:"node_modules/@metamask/message-manager/node_modules/jsonschema/lib/validator.js"}],[1346,{"./constants":1347,"./create-auto-managed-network-client":1348,"./logger":1351,"./types":1352,"@metamask/base-controller":1063,"@metamask/controller-utils":1068,"@metamask/eth-query":1195,"@metamask/swappable-obj-proxy":1565,"@metamask/utils":1361,assert:2422,"eth-rpc-errors":2739,uuid:3962},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,i,o,a,c,u,l,d,h,p,f,m,g,y,b,w,v,k,S=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},_=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},E=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},T=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkController=n.defaultState=n.knownKeysOf=void 0;const P=e("@metamask/base-controller"),I=e("@metamask/controller-utils"),x=T(e("@metamask/eth-query")),O=e("@metamask/swappable-obj-proxy"),j=e("@metamask/utils"),C=e("assert"),N=e("eth-rpc-errors"),A=e("uuid"),B=e("./constants"),R=e("./create-auto-managed-network-client"),M=e("./logger"),U=e("./types"),L=(0,M.createModuleLogger)(M.projectLogger,"NetworkController");function D(e){return Object.keys(e)}function H(e,t){const n=t.reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:e[n]})),{});var r,s,i;return r=n,s=()=>t.every((e=>e in n)),i="The reduce did not produce an object with all of the desired keys.",C.strict.ok(s(r),i),n}function F(e){return Object.keys(I.InfuraNetworkType).includes(e)}function z(e){return"string"==typeof e?e:e.type}function V(...e){if(1===e.length)return e[0];const[{id:t,rpcUrl:n},r]=e;if(t===undefined){const e=Object.values(r).find((e=>e.rpcUrl===n.toLowerCase()));return e?e.id:n.toLowerCase()}return t}function K(e){return F(e.type)}function $(e){return e.type===I.NetworkType.rpc}function J(e){if(e.chainId===undefined)throw new Error("chainId must be provided for custom RPC endpoints");if(e.rpcUrl===undefined)throw new Error("rpcUrl must be provided for custom RPC endpoints")}n.knownKeysOf=D;n.defaultState={selectedNetworkClientId:I.NetworkType.mainnet,networkId:null,providerConfig:{type:I.NetworkType.mainnet,chainId:I.ChainId.mainnet,ticker:I.NetworksTicker.mainnet},networksMetadata:{},networkConfigurations:{}};class G extends P.BaseControllerV2{constructor({messenger:e,state:t,infuraProjectId:h,trackMetaMetricsEvent:p}){if(super({name:"NetworkController",metadata:{selectedNetworkClientId:{persist:!0,anonymous:!1},networkId:{persist:!0,anonymous:!1},networksMetadata:{persist:!0,anonymous:!1},providerConfig:{persist:!0,anonymous:!1},networkConfigurations:{persist:!0,anonymous:!1}},messenger:e,state:Object.assign(Object.assign({},n.defaultState),t)}),r.add(this),s.set(this,void 0),i.set(this,void 0),o.set(this,void 0),a.set(this,void 0),c.set(this,void 0),u.set(this,void 0),l.set(this,void 0),d.set(this,void 0),!h||"string"!=typeof h)throw new Error("Invalid Infura project ID");_(this,i,h,"f"),_(this,o,p,"f"),this.messagingSystem.registerActionHandler(`${this.name}:getProviderConfig`,(()=>this.state.providerConfig)),this.messagingSystem.registerActionHandler(`${this.name}:getEthQuery`,(()=>E(this,s,"f"))),_(this,a,this.state.providerConfig,"f")}getProviderAndBlockTracker(){return{provider:E(this,c,"f"),blockTracker:E(this,l,"f")}}getNetworkClientsById(){const e=E(this,r,"m",g).call(this);return Object.assign({},e[U.NetworkClientType.Infura],e[U.NetworkClientType.Custom])}initializeProvider(){return S(this,void 0,void 0,(function*(){E(this,r,"m",g).call(this),E(this,r,"m",k).call(this),yield this.lookupNetwork()}))}lookupNetwork(){return S(this,void 0,void 0,(function*(){if(!E(this,s,"f"))return;const e=K(this.state.providerConfig);let t=!1;const n=()=>{t=!0,this.messagingSystem.unsubscribe("NetworkController:networkDidChange",n)};let i;this.messagingSystem.subscribe("NetworkController:networkDidChange",n);let o,a=null;try{const[e,t]=yield Promise.all([E(this,r,"m",p).call(this),E(this,r,"m",m).call(this)]);i=B.NetworkStatus.Available,a=e,o=t}catch(t){if(function(e){return"object"==typeof e&&null!==e&&"code"in e}(t)){let n;if(e&&(0,j.hasProperty)(t,"message")&&"string"==typeof t.message)try{n=JSON.parse(t.message)}catch(e){}i=(0,j.isPlainObject)(n)&&n.error===B.INFURA_BLOCKED_KEY?B.NetworkStatus.Blocked:t.code===N.errorCodes.rpc.internal?B.NetworkStatus.Unknown:B.NetworkStatus.Unavailable}else L("NetworkController - could not determine network status",t),i=B.NetworkStatus.Unknown}t||(this.messagingSystem.unsubscribe("NetworkController:networkDidChange",n),this.update((e=>{e.networkId=a;const t=e.networksMetadata[e.selectedNetworkClientId];t.status=i,o===undefined?delete t.EIPS[1559]:t.EIPS[1559]=o})),e?i===B.NetworkStatus.Available?this.messagingSystem.publish("NetworkController:infuraIsUnblocked"):i===B.NetworkStatus.Blocked&&this.messagingSystem.publish("NetworkController:infuraIsBlocked"):this.messagingSystem.publish("NetworkController:infuraIsUnblocked"))}))}setProviderType(e){return S(this,void 0,void 0,(function*(){C.strict.notStrictEqual(e,I.NetworkType.rpc,`NetworkController - cannot call "setProviderType" with type "${I.NetworkType.rpc}". Use "setActiveNetwork"`),C.strict.ok(F(e),`Unknown Infura provider type "${e}".`),_(this,a,this.state.providerConfig,"f");const t=e in I.NetworksTicker&&I.NetworksTicker[e].length>0?I.NetworksTicker[e]:"ETH";E(this,r,"m",g).call(this),this.update((n=>{n.providerConfig.type=e,n.providerConfig.ticker=t,n.providerConfig.chainId=I.ChainId[e],n.providerConfig.rpcPrefs=I.BUILT_IN_NETWORKS[e].rpcPrefs,n.providerConfig.rpcUrl=undefined,n.providerConfig.nickname=undefined,n.providerConfig.id=undefined})),yield E(this,r,"m",h).call(this)}))}setActiveNetwork(e){return S(this,void 0,void 0,(function*(){_(this,a,this.state.providerConfig,"f");const t=this.state.networkConfigurations[e];if(!t)throw new Error(`networkConfigurationId ${e} does not match a configured networkConfiguration`);E(this,r,"m",g).call(this),this.update((e=>{e.providerConfig.type=I.NetworkType.rpc,e.providerConfig.rpcUrl=t.rpcUrl,e.providerConfig.chainId=t.chainId,e.providerConfig.ticker=t.ticker,e.providerConfig.nickname=t.nickname,e.providerConfig.rpcPrefs=t.rpcPrefs,e.providerConfig.id=t.id})),yield E(this,r,"m",h).call(this)}))}getEIP1559Compatibility(){return S(this,void 0,void 0,(function*(){if(!E(this,s,"f"))return!1;const{EIPS:e}=this.state.networksMetadata[this.state.selectedNetworkClientId];if(e[1559]!==undefined)return e[1559];const t=yield E(this,r,"m",m).call(this);return this.update((e=>{t!==undefined&&(e.networksMetadata[e.selectedNetworkClientId].EIPS[1559]=t)})),t}))}resetConnection(){return S(this,void 0,void 0,(function*(){E(this,r,"m",g).call(this),yield E(this,r,"m",h).call(this)}))}upsertNetworkConfiguration(e,{referrer:t,source:n,setActive:s=!1}){return S(this,void 0,void 0,(function*(){const i=H(e,["rpcUrl","chainId","ticker","nickname","rpcPrefs"]),{rpcUrl:a,chainId:c,ticker:u}=i;if((0,j.assertIsStrictHexString)(c),!(0,I.isSafeChainId)(c))throw new Error(`Invalid chain ID "${c}": numerical value greater than max safe value.`);if(!a)throw new Error("An rpcUrl is required to add or update network configuration");if(!t||!n)throw new Error("referrer and source are required arguments for adding or updating a network configuration");try{new URL(a)}catch(e){if(e.message.includes("Invalid URL"))throw new Error("rpcUrl must be a valid URL")}if(!u)throw new Error("A ticker is required to add or update networkConfiguration");const l=E(this,r,"m",g).call(this),d=Object.values(this.state.networkConfigurations).find((e=>e.rpcUrl.toLowerCase()===a.toLowerCase())),h=d?d.id:(0,A.v4)(),p=V(h);this.update((e=>{e.networkConfigurations[h]=Object.assign({id:h},i)}));const f=l[U.NetworkClientType.Custom],m=f[p],y=m&&m.configuration.chainId!==c;return y&&m.destroy(),m&&!y||(f[p]=(0,R.createAutoManagedNetworkClient)({type:U.NetworkClientType.Custom,chainId:c,rpcUrl:a})),d||E(this,o,"f").call(this,{event:"Custom Network Added",category:"Network",referrer:{url:t},properties:{chain_id:c,symbol:u,source:n}}),s&&(yield this.setActiveNetwork(h)),h}))}removeNetworkConfiguration(e){if(!this.state.networkConfigurations[e])throw new Error(`networkConfigurationId ${e} does not match a configured networkConfiguration`);const t=E(this,r,"m",g).call(this),n=V(e);this.update((t=>{delete t.networkConfigurations[e]}));const s=t[U.NetworkClientType.Custom];s[n].destroy(),delete s[n]}rollbackToPreviousProvider(){return S(this,void 0,void 0,(function*(){E(this,r,"m",g).call(this),this.update((e=>{e.providerConfig=E(this,a,"f")})),yield E(this,r,"m",h).call(this)}))}destroy(){var e;return S(this,void 0,void 0,(function*(){yield null===(e=E(this,l,"f"))||void 0===e?void 0:e.destroy()}))}loadBackup({networkConfigurations:e}){this.update((t=>{t.networkConfigurations=Object.assign(Object.assign({},t.networkConfigurations),e)}))}}n.NetworkController=G,s=new WeakMap,i=new WeakMap,o=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,r=new WeakSet,h=function(){return S(this,void 0,void 0,(function*(){this.messagingSystem.publish("NetworkController:networkWillChange"),this.update((e=>{e.networkId=null})),E(this,r,"m",k).call(this),this.messagingSystem.publish("NetworkController:networkDidChange"),yield this.lookupNetwork()}))},p=function(){return S(this,void 0,void 0,(function*(){return function(e){if("number"==typeof e&&!Number.isNaN(e))return`${e}`;if((0,j.isStrictHexString)(e))return`${(0,I.convertHexToDecimal)(e)}`;if("string"==typeof e&&/^\d+$/u.test(e))return e;throw new Error(`Cannot parse as a valid network ID: '${e}'`)}(yield new Promise(((e,t)=>{if(!E(this,s,"f"))throw new Error("Provider has not been initialized");E(this,s,"f").sendAsync({method:"net_version"},((n,r)=>{n?t(n):e(r)}))})))}))},f=function(){return new Promise(((e,t)=>{if(!E(this,s,"f"))throw new Error("Provider has not been initialized");E(this,s,"f").sendAsync({method:"eth_getBlockByNumber",params:["latest",!1]},((n,r)=>{n?t(n):e(r)}))}))},m=function(){return S(this,void 0,void 0,(function*(){const e=yield E(this,r,"m",f).call(this);return e?e.baseFeePerGas!==undefined:undefined}))},g=function(){var e;const t=null!==(e=E(this,d,"f"))&&void 0!==e?e:E(this,r,"m",y).call(this);return _(this,d,t,"f"),t},y=function(){return[...E(this,r,"m",b).call(this),...E(this,r,"m",w).call(this),...E(this,r,"m",v).call(this)].reduce(((e,[t,n,r])=>{const s=(0,R.createAutoManagedNetworkClient)(r);return n in e[t]?e:Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},e[t]),{[n]:s})})}),{[U.NetworkClientType.Infura]:{},[U.NetworkClientType.Custom]:{}})},b=function(){return D(I.InfuraNetworkType).map((e=>{const t=z(e),n={type:U.NetworkClientType.Infura,network:e,infuraProjectId:E(this,i,"f")};return[U.NetworkClientType.Infura,t,n]}))},w=function(){return Object.entries(this.state.networkConfigurations).map((([e,t])=>{if(t.chainId===undefined)throw new Error("chainId must be provided for custom RPC endpoints");if(t.rpcUrl===undefined)throw new Error("rpcUrl must be provided for custom RPC endpoints");const n=V(e),r={type:U.NetworkClientType.Custom,chainId:t.chainId,rpcUrl:t.rpcUrl};return[U.NetworkClientType.Custom,n,r]}))},v=function(){const{providerConfig:e}=this.state;if($(e)){J(e);const t=V(e,this.state.networkConfigurations),n={chainId:e.chainId,rpcUrl:e.rpcUrl,type:U.NetworkClientType.Custom};return[[U.NetworkClientType.Custom,t,n]]}if(K(e))return[];throw new Error(`Unrecognized network type: '${e.type}'`)},k=function(){if(!E(this,d,"f"))throw new Error("initializeProvider must be called first in order to switch the network");const{providerConfig:e}=this.state;let t,n;if(K(e)){const r=U.NetworkClientType.Infura;n=z(e);if(t=E(this,d,"f")[r][n],!t)throw new Error(`Could not find custom network matching ${n}`)}else{if(!$(e))throw new Error("Could not determine type of provider config");{J(e);const r=U.NetworkClientType.Custom;n=V(e,this.state.networkConfigurations);if(t=E(this,d,"f")[r][n],!t)throw new Error(`Could not find built-in network matching ${n}`)}}this.update((e=>{e.selectedNetworkClientId=n,e.networksMetadata[n]===undefined&&(e.networksMetadata[n]={status:B.NetworkStatus.Unknown,EIPS:{}})}));const{provider:r,blockTracker:i}=t;E(this,c,"f")?E(this,c,"f").setTarget(r):_(this,c,(0,O.createEventEmitterProxy)(r),"f"),_(this,u,r,"f"),E(this,l,"f")?E(this,l,"f").setTarget(i):_(this,l,(0,O.createEventEmitterProxy)(i,{eventFilter:"skipInternal"}),"f"),_(this,s,new x.default(E(this,c,"f")),"f")}}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/NetworkController.js"}],[1347,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.INFURA_BLOCKED_KEY=n.NetworkStatus=void 0,function(e){e.Unknown="unknown",e.Available="available",e.Unavailable="unavailable",e.Blocked="blocked"}(n.NetworkStatus||(n.NetworkStatus={})),n.INFURA_BLOCKED_KEY="countryBlocked"}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/constants.js"}],[1348,{"./create-network-client":1349},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createAutoManagedNetworkClient=void 0;const r=e("./create-network-client"),s="__target__",i={__UNINITIALIZED__:!0};n.createAutoManagedNetworkClient=function(e){let t;const n=new Proxy(i,{get(n,i,o){if(i===s)return null==t?void 0:t.provider;if(null!=t||(t=(0,r.createNetworkClient)(e)),t===undefined)throw new Error("It looks like `createNetworkClient` didn't return anything. Perhaps it's being mocked?");const{provider:a}=t;if(i in a){const e=a[i];return"function"==typeof e?function(...t){return e.apply(this===o?a:this,t)}:e}return undefined},has(n,i){if(i===s)return!0;null!=t||(t=(0,r.createNetworkClient)(e));const{provider:o}=t;return i in o}}),o=new Proxy(i,{get(n,i,o){if(i===s)return null==t?void 0:t.blockTracker;if(null!=t||(t=(0,r.createNetworkClient)(e)),t===undefined)throw new Error("It looks like createNetworkClient returned undefined. Perhaps it's mocked?");const{blockTracker:a}=t;if(i in a){const e=a[i];return"function"==typeof e?function(...t){return e.apply(this===o?a:this,t)}:e}return undefined},has(n,i){if(i===s)return!0;null!=t||(t=(0,r.createNetworkClient)(e));const{blockTracker:o}=t;return i in o}});return{configuration:e,provider:n,blockTracker:o,destroy:()=>{null==t||t.destroy()}}}}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/create-auto-managed-network-client.js"}],[1349,{"./types":1352,"@metamask/controller-utils":1068,"@metamask/eth-json-rpc-infura":1114,"@metamask/eth-json-rpc-middleware":1139,"@metamask/eth-json-rpc-provider":1164,"eth-block-tracker":2686,"json-rpc-engine":3331},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){this&&this.__awaiter;Object.defineProperty(n,"__esModule",{value:!0}),n.createNetworkClient=void 0;const r=e("@metamask/controller-utils"),s=e("@metamask/eth-json-rpc-infura"),i=e("@metamask/eth-json-rpc-middleware"),o=e("@metamask/eth-json-rpc-provider"),a=e("eth-block-tracker"),c=e("json-rpc-engine"),u=e("./types");function l({network:e}){return(0,c.createScaffoldMiddleware)({eth_chainId:r.ChainId[e],net_version:r.NetworkId[e]})}n.createNetworkClient=function(e){const t=e.type===u.NetworkClientType.Infura?(0,s.createInfuraMiddleware)({network:e.network,projectId:e.infuraProjectId,maxAttempts:5,source:"metamask"}):(0,i.createFetchMiddleware)({btoa:global.btoa,fetch:global.fetch,rpcUrl:e.rpcUrl}),n=(0,o.providerFromMiddleware)(t),r={},h=new a.PollingBlockTracker(Object.assign(Object.assign({},r),{provider:n})),p=e.type===u.NetworkClientType.Infura?function({blockTracker:e,network:t,rpcProvider:n,rpcApiMiddleware:r}){return(0,c.mergeMiddleware)([l({network:t}),(0,i.createBlockCacheMiddleware)({blockTracker:e}),(0,i.createInflightCacheMiddleware)(),(0,i.createBlockRefMiddleware)({blockTracker:e,provider:n}),(0,i.createRetryOnEmptyMiddleware)({blockTracker:e,provider:n}),(0,i.createBlockTrackerInspectorMiddleware)({blockTracker:e}),r])}({blockTracker:h,network:e.network,rpcProvider:n,rpcApiMiddleware:t}):function({blockTracker:e,chainId:t,rpcApiMiddleware:n}){const r=[];return(0,c.mergeMiddleware)([...r,d(t),(0,i.createBlockRefRewriteMiddleware)({blockTracker:e}),(0,i.createBlockCacheMiddleware)({blockTracker:e}),(0,i.createInflightCacheMiddleware)(),(0,i.createBlockTrackerInspectorMiddleware)({blockTracker:e}),n])}({blockTracker:h,chainId:e.chainId,rpcApiMiddleware:t}),f=new c.JsonRpcEngine;return f.push(p),{configuration:e,provider:(0,o.providerFromEngine)(f),blockTracker:h,destroy:()=>{h.destroy()}}};const d=e=>(t,n,r,s)=>"eth_chainId"===t.method?(n.result=e,s()):r()}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/create-network-client.js"}],[135,{"../../../shared/constants/network":4019,lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("lodash"),s=e("../../../shared/constants/network");var i={version:55,async migrate(e){const t=(0,r.cloneDeep)(e);t.meta.version=55;const n=t.data;return t.data=function(e){var t;null!=e&&null!==(t=e.IncomingTransactionsController)&&void 0!==t&&t.incomingTxLastFetchedBlocksByNetwork&&(e.IncomingTransactionsController.incomingTxLastFetchedBlockByChainId=(0,r.mapKeys)(e.IncomingTransactionsController.incomingTxLastFetchedBlocksByNetwork,((e,t)=>{var n;return(null===(n=s.BUILT_IN_NETWORKS[t])||void 0===n?void 0:n.chainId)??o})),delete e.IncomingTransactionsController.incomingTxLastFetchedBlockByChainId[o],delete e.IncomingTransactionsController.incomingTxLastFetchedBlocksByNetwork);return e}(n),t}};n.default=i;const o="UNKNOWN";s.BUILT_IN_NETWORKS.rinkeby={networkId:"4",chainId:"0x4",ticker:"ETH"},s.BUILT_IN_NETWORKS.ropsten={networkId:"3",chainId:"0x3",ticker:"ETH"},s.BUILT_IN_NETWORKS.kovan={networkId:"42",chainId:"0x2a",ticker:"ETH"}}}},{package:"$root$",file:"app/scripts/migrations/055.js"}],[1350,{"./NetworkController":1346,"./constants":1347,"./types":1352},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkClientType=void 0,s(e("./NetworkController"),n),s(e("./constants"),n);var i=e("./types");Object.defineProperty(n,"NetworkClientType",{enumerable:!0,get:function(){return i.NetworkClientType}})}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/index.js"}],[1351,{"@metamask/utils":1361},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createModuleLogger=n.projectLogger=void 0;const r=e("@metamask/utils");Object.defineProperty(n,"createModuleLogger",{enumerable:!0,get:function(){return r.createModuleLogger}}),n.projectLogger=(0,r.createProjectLogger)("network-controller")}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/logger.js"}],[1352,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkClientType=void 0,function(e){e.Custom="custom",e.Infura="infura"}(n.NetworkClientType||(n.NetworkClientType={}))}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/types.js"}],[1353,{superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.assertExhaustive=n.assertStruct=n.assert=n.AssertionError=void 0;const r=e("superstruct");function s(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class i extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}n.AssertionError=i,n.assert=function(e,t="Assertion failed.",n=i){if(!e){if(t instanceof Error)throw t;throw s(n,t)}},n.assertStruct=function(e,t,n="Assertion failed",o=i){try{(0,r.assert)(e,t)}catch(e){throw s(o,`${n}: ${function(e){const t=function(e){return"object"==typeof e&&null!==e&&"message"in e}(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}(e)}.`)}},n.assertExhaustive=function(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/assert.js"}],[1354,{"./assert":1353,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.base64=void 0;const r=e("superstruct"),s=e("./assert");n.base64=(e,t={})=>{const n=t.paddingRequired??!1,i=t.characterSet??"base64";let o,a;return"base64"===i?o=String.raw`[A-Za-z0-9+\/]`:((0,s.assert)("base64url"===i),o=String.raw`[-_A-Za-z0-9]`),a=n?new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,r.pattern)(e,a)}}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/base64.js"}],[1355,{"./assert":1353,"./hex":1360,buffer:2426},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.createDataView=n.concatBytes=n.valueToBytes=n.stringToBytes=n.numberToBytes=n.signedBigIntToBytes=n.bigIntToBytes=n.hexToBytes=n.bytesToString=n.bytesToNumber=n.bytesToSignedBigInt=n.bytesToBigInt=n.bytesToHex=n.assertIsBytes=n.isBytes=void 0;const r=e("./assert"),s=e("./hex"),i=48,o=58,a=87;const c=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function u(e){return e instanceof Uint8Array}function l(e){(0,r.assert)(u(e),"Value must be a Uint8Array.")}function d(e){if(l(e),0===e.length)return"0x";const t=c(),n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t[e[r]];return(0,s.add0x)(n.join(""))}function h(e){l(e);const t=d(e);return BigInt(t)}function p(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;(0,s.assertIsHexString)(e);const t=(0,s.remove0x)(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=n.charCodeAt(2*e),s=n.charCodeAt(2*e+1),c=t-(t<o?i:a),u=s-(s<o?i:a);r[e]=16*c+u}return r}function f(e){(0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");return p(e.toString(16))}function m(e){(0,r.assert)("number"==typeof e,"Value must be a number."),(0,r.assert)(e>=0,"Value must be a non-negative number."),(0,r.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");return p(e.toString(16))}function g(e){return(0,r.assert)("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function y(e){if("bigint"==typeof e)return f(e);if("number"==typeof e)return m(e);if("string"==typeof e)return e.startsWith("0x")?p(e):g(e);if(u(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}n.isBytes=u,n.assertIsBytes=l,n.bytesToHex=d,n.bytesToBigInt=h,n.bytesToSignedBigInt=function(e){l(e);let t=BigInt(0);for(const n of e)t=(t<<BigInt(8))+BigInt(n);return BigInt.asIntN(8*e.length,t)},n.bytesToNumber=function(e){l(e);const t=h(e);return(0,r.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},n.bytesToString=function(e){return l(e),(new TextDecoder).decode(e)},n.hexToBytes=p,n.bigIntToBytes=f,n.signedBigIntToBytes=function(e,t){(0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)("number"==typeof t,"Byte length must be a number."),(0,r.assert)(t>0,"Byte length must be greater than 0."),(0,r.assert)(function(e,t){(0,r.assert)(t>0);const n=e>>BigInt(31);return!((~e&n)+(e&~n)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let n=e;const s=new Uint8Array(t);for(let e=0;e<s.length;e++)s[e]=Number(BigInt.asUintN(8,n)),n>>=BigInt(8);return s.reverse()},n.numberToBytes=m,n.stringToBytes=g,n.valueToBytes=y,n.concatBytes=function(e){const t=new Array(e.length);let n=0;for(let r=0;r<e.length;r++){const s=y(e[r]);t[r]=s,n+=s.length}const r=new Uint8Array(n);for(let e=0,n=0;e<t.length;e++)r.set(t[e],n),n+=t[e].length;return r},n.createDataView=function(e){if(void 0!==t&&e instanceof t){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/bytes.js"}],[1356,{"./base64":1354,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ChecksumStruct=void 0;const r=e("superstruct"),s=e("./base64");n.ChecksumStruct=(0,r.size)((0,s.base64)((0,r.string)(),{paddingRequired:!0}),44,44)}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/checksum.js"}],[1357,{"./assert":1353,"./bytes":1355,"./hex":1360,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createHex=n.createBytes=n.createBigInt=n.createNumber=void 0;const r=e("superstruct"),s=e("./assert"),i=e("./bytes"),o=e("./hex"),a=(0,r.union)([(0,r.number)(),(0,r.bigint)(),(0,r.string)(),o.StrictHexStruct]),c=(0,r.coerce)((0,r.number)(),a,Number),u=(0,r.coerce)((0,r.bigint)(),a,BigInt),l=((0,r.union)([o.StrictHexStruct,(0,r.instance)(Uint8Array)]),(0,r.coerce)((0,r.instance)(Uint8Array),(0,r.union)([o.StrictHexStruct]),i.hexToBytes)),d=(0,r.coerce)(o.StrictHexStruct,(0,r.instance)(Uint8Array),i.bytesToHex);n.createNumber=function(e){try{const t=(0,r.create)(e,c);return(0,s.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof r.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}},n.createBigInt=function(e){try{return(0,r.create)(e,u)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}},n.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,r.create)(e,l)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}},n.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,r.create)(e,d)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/coercers.js"}],[1358,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,i=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},o=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.FrozenSet=n.FrozenMap=void 0;class a{constructor(e){r.set(this,void 0),i(this,r,new Map(e),"f"),Object.freeze(this)}get size(){return o(this,r,"f").size}[(r=new WeakMap,Symbol.iterator)](){return o(this,r,"f")[Symbol.iterator]()}entries(){return o(this,r,"f").entries()}forEach(e,t){return o(this,r,"f").forEach(((n,r,s)=>e.call(t,n,r,this)))}get(e){return o(this,r,"f").get(e)}has(e){return o(this,r,"f").has(e)}keys(){return o(this,r,"f").keys()}values(){return o(this,r,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map((([e,t])=>`${String(e)} => ${String(t)}`)).join(", ")} `:""}}`}}n.FrozenMap=a;class c{constructor(e){s.set(this,void 0),i(this,s,new Set(e),"f"),Object.freeze(this)}get size(){return o(this,s,"f").size}[(s=new WeakMap,Symbol.iterator)](){return o(this,s,"f")[Symbol.iterator]()}entries(){return o(this,s,"f").entries()}forEach(e,t){return o(this,s,"f").forEach(((n,r,s)=>e.call(t,n,r,this)))}has(e){return o(this,s,"f").has(e)}keys(){return o(this,s,"f").keys()}values(){return o(this,s,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map((e=>String(e))).join(", ")} `:""}}`}}n.FrozenSet=c,Object.freeze(a),Object.freeze(a.prototype),Object.freeze(c),Object.freeze(c.prototype)}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/collections.js"}],[1359,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/encryption-types.js"}],[136,{lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("lodash");var s={version:56,async migrate(e){const t=(0,r.cloneDeep)(e);t.meta.version=56;const{PreferencesController:n}=t.data;return Array.isArray(null==n?void 0:n.tokens)&&(n.tokens=n.tokens.filter((({address:e})=>e))),null!=n&&n.accountTokens&&"object"==typeof n.accountTokens&&Object.keys(n.accountTokens).forEach((e=>{Object.keys(n.accountTokens[e]).forEach((t=>{n.accountTokens[e][t]=n.accountTokens[e][t].filter((({address:e})=>e))}))})),null!=n&&n.assetImages&&"undefined"in n.assetImages&&delete n.assetImages.undefined,t}};n.default=s}}},{package:"$root$",file:"app/scripts/migrations/056.js"}],[1360,{"./assert":1353,"./bytes":1355,"@noble/hashes/sha3":1620,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.remove0x=n.add0x=n.isValidChecksumAddress=n.getChecksumAddress=n.isValidHexAddress=n.assertIsStrictHexString=n.assertIsHexString=n.isStrictHexString=n.isHexString=n.HexChecksumAddressStruct=n.HexAddressStruct=n.StrictHexStruct=n.HexStruct=void 0;const r=e("@noble/hashes/sha3"),s=e("superstruct"),i=e("./assert"),o=e("./bytes");function a(e){return(0,s.is)(e,n.HexStruct)}function c(e){return(0,s.is)(e,n.StrictHexStruct)}function u(e){(0,i.assert)((0,s.is)(e,n.HexChecksumAddressStruct),"Invalid hex address.");const t=d(e.toLowerCase()),a=d((0,o.bytesToHex)((0,r.keccak_256)(t)));return`0x${t.split("").map(((e,t)=>{const n=a[t];return(0,i.assert)((0,s.is)(n,(0,s.string)()),"Hash shorter than address."),parseInt(n,16)>7?e.toUpperCase():e})).join("")}`}function l(e){return!!(0,s.is)(e,n.HexChecksumAddressStruct)&&u(e)===e}function d(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}n.HexStruct=(0,s.pattern)((0,s.string)(),/^(?:0x)?[0-9a-f]+$/iu),n.StrictHexStruct=(0,s.pattern)((0,s.string)(),/^0x[0-9a-f]+$/iu),n.HexAddressStruct=(0,s.pattern)((0,s.string)(),/^0x[0-9a-f]{40}$/u),n.HexChecksumAddressStruct=(0,s.pattern)((0,s.string)(),/^0x[0-9a-fA-F]{40}$/u),n.isHexString=a,n.isStrictHexString=c,n.assertIsHexString=function(e){(0,i.assert)(a(e),"Value must be a hexadecimal string.")},n.assertIsStrictHexString=function(e){(0,i.assert)(c(e),'Value must be a hexadecimal string, starting with "0x".')},n.isValidHexAddress=function(e){return(0,s.is)(e,n.HexAddressStruct)||l(e)},n.getChecksumAddress=u,n.isValidChecksumAddress=l,n.add0x=function(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`},n.remove0x=d}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/hex.js"}],[1361,{"./assert":1353,"./base64":1354,"./bytes":1355,"./checksum":1356,"./coercers":1357,"./collections":1358,"./encryption-types":1359,"./hex":1360,"./json":1362,"./keyring":1363,"./logging":1364,"./misc":1365,"./number":1366,"./opaque":1367,"./time":1368,"./transaction-types":1369,"./versions":1370},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./assert"),n),s(e("./base64"),n),s(e("./bytes"),n),s(e("./checksum"),n),s(e("./coercers"),n),s(e("./collections"),n),s(e("./encryption-types"),n),s(e("./hex"),n),s(e("./json"),n),s(e("./keyring"),n),s(e("./logging"),n),s(e("./misc"),n),s(e("./number"),n),s(e("./opaque"),n),s(e("./time"),n),s(e("./transaction-types"),n),s(e("./versions"),n)}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/index.js"}],[1362,{"./assert":1353,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getJsonRpcIdValidator=n.assertIsJsonRpcError=n.isJsonRpcError=n.assertIsJsonRpcFailure=n.isJsonRpcFailure=n.assertIsJsonRpcSuccess=n.isJsonRpcSuccess=n.assertIsJsonRpcResponse=n.isJsonRpcResponse=n.assertIsPendingJsonRpcResponse=n.isPendingJsonRpcResponse=n.JsonRpcResponseStruct=n.JsonRpcFailureStruct=n.JsonRpcSuccessStruct=n.PendingJsonRpcResponseStruct=n.assertIsJsonRpcRequest=n.isJsonRpcRequest=n.assertIsJsonRpcNotification=n.isJsonRpcNotification=n.JsonRpcNotificationStruct=n.JsonRpcRequestStruct=n.JsonRpcParamsStruct=n.JsonRpcErrorStruct=n.JsonRpcIdStruct=n.JsonRpcVersionStruct=n.jsonrpc2=n.getJsonSize=n.getSafeJson=n.isValidJson=n.JsonStruct=n.UnsafeJsonStruct=void 0;const r=e("superstruct"),s=e("./assert");function i(e){return(0,r.create)(e,n.JsonStruct)}n.UnsafeJsonStruct=(0,r.union)([(0,r.literal)(null),(0,r.boolean)(),(0,r.define)("finite number",(e=>(0,r.is)(e,(0,r.number)())&&Number.isFinite(e))),(0,r.string)(),(0,r.array)((0,r.lazy)((()=>n.UnsafeJsonStruct))),(0,r.record)((0,r.string)(),(0,r.lazy)((()=>n.UnsafeJsonStruct)))]),n.JsonStruct=(0,r.coerce)(n.UnsafeJsonStruct,(0,r.any)(),(e=>((0,s.assertStruct)(e,n.UnsafeJsonStruct),JSON.parse(JSON.stringify(e,((e,t)=>"__proto__"===e||"constructor"===e?undefined:t)))))),n.isValidJson=function(e){try{return i(e),!0}catch{return!1}},n.getSafeJson=i,n.getJsonSize=function(e){(0,s.assertStruct)(e,n.JsonStruct,"Invalid JSON value");const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength},n.jsonrpc2="2.0",n.JsonRpcVersionStruct=(0,r.literal)(n.jsonrpc2),n.JsonRpcIdStruct=(0,r.nullable)((0,r.union)([(0,r.number)(),(0,r.string)()])),n.JsonRpcErrorStruct=(0,r.object)({code:(0,r.integer)(),message:(0,r.string)(),data:(0,r.optional)(n.JsonStruct),stack:(0,r.optional)((0,r.string)())}),n.JsonRpcParamsStruct=(0,r.optional)((0,r.union)([(0,r.record)((0,r.string)(),n.JsonStruct),(0,r.array)(n.JsonStruct)])),n.JsonRpcRequestStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,method:(0,r.string)(),params:n.JsonRpcParamsStruct}),n.JsonRpcNotificationStruct=(0,r.omit)(n.JsonRpcRequestStruct,["id"]),n.isJsonRpcNotification=function(e){return(0,r.is)(e,n.JsonRpcNotificationStruct)},n.assertIsJsonRpcNotification=function(e,t){(0,s.assertStruct)(e,n.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",t)},n.isJsonRpcRequest=function(e){return(0,r.is)(e,n.JsonRpcRequestStruct)},n.assertIsJsonRpcRequest=function(e,t){(0,s.assertStruct)(e,n.JsonRpcRequestStruct,"Invalid JSON-RPC request",t)},n.PendingJsonRpcResponseStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,result:(0,r.optional)((0,r.unknown)()),error:(0,r.optional)(n.JsonRpcErrorStruct)}),n.JsonRpcSuccessStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,result:n.JsonStruct}),n.JsonRpcFailureStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,error:n.JsonRpcErrorStruct}),n.JsonRpcResponseStruct=(0,r.union)([n.JsonRpcSuccessStruct,n.JsonRpcFailureStruct]),n.isPendingJsonRpcResponse=function(e){return(0,r.is)(e,n.PendingJsonRpcResponseStruct)},n.assertIsPendingJsonRpcResponse=function(e,t){(0,s.assertStruct)(e,n.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",t)},n.isJsonRpcResponse=function(e){return(0,r.is)(e,n.JsonRpcResponseStruct)},n.assertIsJsonRpcResponse=function(e,t){(0,s.assertStruct)(e,n.JsonRpcResponseStruct,"Invalid JSON-RPC response",t)},n.isJsonRpcSuccess=function(e){return(0,r.is)(e,n.JsonRpcSuccessStruct)},n.assertIsJsonRpcSuccess=function(e,t){(0,s.assertStruct)(e,n.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",t)},n.isJsonRpcFailure=function(e){return(0,r.is)(e,n.JsonRpcFailureStruct)},n.assertIsJsonRpcFailure=function(e,t){(0,s.assertStruct)(e,n.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",t)},n.isJsonRpcError=function(e){return(0,r.is)(e,n.JsonRpcErrorStruct)},n.assertIsJsonRpcError=function(e,t){(0,s.assertStruct)(e,n.JsonRpcErrorStruct,"Invalid JSON-RPC error",t)},n.getJsonRpcIdValidator=function(e){const{permitEmptyString:t,permitFractions:n,permitNull:r}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return e=>Boolean("number"==typeof e&&(n||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||r&&null===e)}}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/json.js"}],[1363,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/keyring.js"}],[1364,{debug:2645},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.createModuleLogger=n.createProjectLogger=void 0;const s=(0,r(e("debug")).default)("metamask");n.createProjectLogger=function(e){return s.extend(e)},n.createModuleLogger=function(e,t){return e.extend(t)}}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/logging.js"}],[1365,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.calculateNumberSize=n.calculateStringSize=n.isASCII=n.isPlainObject=n.ESCAPE_CHARACTERS_REGEXP=n.JsonSize=n.hasProperty=n.isObject=n.isNullOrUndefined=n.isNonEmptyArray=void 0,n.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},n.isNullOrUndefined=function(e){return null===e||e===undefined},n.isObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)};function r(e){return e.charCodeAt(0)<=127}n.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(n.JsonSize||(n.JsonSize={})),n.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu,n.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},n.isASCII=r,n.calculateStringSize=function(e){return e.split("").reduce(((e,t)=>r(t)?e+1:e+2),0)+(e.match(n.ESCAPE_CHARACTERS_REGEXP)??[]).length},n.calculateNumberSize=function(e){return e.toString().length}}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/misc.js"}],[1366,{"./assert":1353,"./hex":1360},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hexToBigInt=n.hexToNumber=n.bigIntToHex=n.numberToHex=void 0;const r=e("./assert"),s=e("./hex");n.numberToHex=e=>((0,r.assert)("number"==typeof e,"Value must be a number."),(0,r.assert)(e>=0,"Value must be a non-negative number."),(0,r.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,s.add0x)(e.toString(16)));n.bigIntToHex=e=>((0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)(e>=0,"Value must be a non-negative bigint."),(0,s.add0x)(e.toString(16)));n.hexToNumber=e=>{(0,s.assertIsHexString)(e);const t=parseInt(e,16);return(0,r.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};n.hexToBigInt=e=>((0,s.assertIsHexString)(e),BigInt((0,s.add0x)(e)))}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/number.js"}],[1367,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/opaque.js"}],[1368,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.timeSince=n.inMilliseconds=n.Duration=void 0,function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"}(n.Duration||(n.Duration={}));const r=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};n.inMilliseconds=function(e,t){return r(e,"count"),e*t},n.timeSince=function(e){return r(e,"timestamp"),Date.now()-e}}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/time.js"}],[1369,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/transaction-types.js"}],[137,{"../../../shared/modules/random-id":4052,lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,s=e("lodash"),i=(r=e("../../../shared/modules/random-id"))&&r.__esModule?r:{default:r};var o={version:57,async migrate(e){const t=(0,s.cloneDeep)(e);t.meta.version=57;const n=t.data;return t.data=function(e){var t;null!=e&&null!==(t=e.TransactionController)&&void 0!==t&&t.transactions&&Array.isArray(e.TransactionController.transactions)&&!e.TransactionController.transactions.some((e=>"object"!=typeof e||void 0===e.txParams))&&(e.TransactionController.transactions=(0,s.keyBy)(e.TransactionController.transactions,(e=>(void 0!==e.id&&null!==e.id||(e.id=(0,i.default)()),e.id))));return e}(n),t}};n.default=o}}},{package:"$root$",file:"app/scripts/migrations/057.js"}],[1370,{"./assert":1353,semver:3869,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.satisfiesVersionRange=n.gtRange=n.gtVersion=n.assertIsSemVerRange=n.assertIsSemVerVersion=n.isValidSemVerRange=n.isValidSemVerVersion=n.VersionRangeStruct=n.VersionStruct=void 0;const r=e("semver"),s=e("superstruct"),i=e("./assert");n.VersionStruct=(0,s.refine)((0,s.string)(),"Version",(e=>null!==(0,r.valid)(e)||`Expected SemVer version, got "${e}"`)),n.VersionRangeStruct=(0,s.refine)((0,s.string)(),"Version range",(e=>null!==(0,r.validRange)(e)||`Expected SemVer range, got "${e}"`)),n.isValidSemVerVersion=function(e){return(0,s.is)(e,n.VersionStruct)},n.isValidSemVerRange=function(e){return(0,s.is)(e,n.VersionRangeStruct)},n.assertIsSemVerVersion=function(e){(0,i.assertStruct)(e,n.VersionStruct)},n.assertIsSemVerRange=function(e){(0,i.assertStruct)(e,n.VersionRangeStruct)},n.gtVersion=function(e,t){return(0,r.gt)(e,t)},n.gtRange=function(e,t){return(0,r.gtr)(e,t)},n.satisfiesVersionRange=function(e,t){return(0,r.satisfies)(e,t,{includePrerelease:!0})}}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/versions.js"}],[1371,{"./ObservableStore":1373},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ComposedStore=void 0;const r=e("./ObservableStore");class s extends r.ObservableStore{constructor(e){super({}),this._children=e||{},Object.keys(this._children).forEach((e=>{const t=this._children[e];this._addChild(e,t)}))}_addChild(e,t){const n=t=>{const n=this.getState();n[e]=t,this.putState(n)};t.subscribe(n),n(t.getState())}}n.ComposedStore=s}}},{package:"@metamask/obs-store",file:"node_modules/@metamask/obs-store/dist/ComposedStore.js"}],[1372,{"./ObservableStore":1373},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MergedStore=void 0;const r=e("./ObservableStore");class s extends r.ObservableStore{constructor(e=[]){super({}),this._children=e,e.forEach((e=>this._addChild(e))),this._updateWholeState()}_addChild(e){e.subscribe((()=>this._updateWholeState()))}_updateWholeState(){const e=this._children.map((e=>e.getState())),t=Object.assign({},...e);this.putState(t)}}n.MergedStore=s}}},{package:"@metamask/obs-store",file:"node_modules/@metamask/obs-store/dist/MergedStore.js"}],[1373,{"@metamask/safe-event-emitter":1456},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ObservableStore=void 0;const s=r(e("@metamask/safe-event-emitter"));class i extends s.default{constructor(e){super(),e===undefined?this._state={}:this._state=e}getState(){return this._getState()}putState(e){this._putState(e),this.emit("update",e)}updateState(e){if(e&&"object"==typeof e){const t=this.getState();this.putState(Object.assign(Object.assign({},t),e))}else this.putState(e)}subscribe(e){this.on("update",e)}unsubscribe(e){this.removeListener("update",e)}_getState(){return this._state}_putState(e){this._state=e}}n.ObservableStore=i}}},{package:"@metamask/obs-store",file:"node_modules/@metamask/obs-store/dist/ObservableStore.js"}],[1374,{stream:2430},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.storeAsStream=void 0;const r=e("stream");class s extends r.Duplex{constructor(e){super({objectMode:!0}),this.resume(),this.handler=e=>this.push(e),this.obsStore=e,this.obsStore.subscribe(this.handler)}pipe(e,t){const n=super.pipe(e,t);return e.write(this.obsStore.getState()),n}_write(e,t,n){this.obsStore.putState(e),n()}_read(e){return undefined}_destroy(e,t){this.obsStore.unsubscribe(this.handler),super._destroy(e,t)}}n.storeAsStream=function(e){return new s(e)}}}},{package:"@metamask/obs-store",file:"node_modules/@metamask/obs-store/dist/asStream.js"}],[1375,{"./ComposedStore":1371,"./MergedStore":1372,"./ObservableStore":1373,"./asStream":1374,"./transform":1376},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./asStream"),n),s(e("./ComposedStore"),n),s(e("./MergedStore"),n),s(e("./ObservableStore"),n),s(e("./transform"),n)}}},{package:"@metamask/obs-store",file:"node_modules/@metamask/obs-store/dist/index.js"}],[1376,{through2:1377},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.storeTransformStream=void 0;const r=e("through2");n.storeTransformStream=function(e){return r.obj(((t,n,r)=>{try{return r(null,e(t)),undefined}catch(e){return r(e),undefined}}))}}}},{package:"@metamask/obs-store",file:"node_modules/@metamask/obs-store/dist/transform.js"}],[1377,{_process:3641,"readable-stream":3810,util:2433,xtend:3999},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r=e("readable-stream").Transform,s=e("util").inherits,i=e("xtend");function o(e){r.call(this,e),this._destroyed=!1}function a(e,t,n){n(null,e)}function c(e){return function(t,n,r){return"function"==typeof t&&(r=n,n=t,t={}),"function"!=typeof n&&(n=a),"function"!=typeof r&&(r=null),e(t,n,r)}}s(o,r),o.prototype.destroy=function(e){if(!this._destroyed){this._destroyed=!0;var t=this;n.nextTick((function(){e&&t.emit("error",e),t.emit("close")}))}},t.exports=c((function(e,t,n){var r=new o(e);return r._transform=t,n&&(r._flush=n),r})),t.exports.ctor=c((function(e,t,n){function r(t){if(!(this instanceof r))return new r(t);this.options=i(e,t),o.call(this,this.options)}return s(r,o),r.prototype._transform=t,n&&(r.prototype._flush=n),r})),t.exports.obj=c((function(e,t,n){var r=new o(i({objectMode:!0,highWaterMark:16},e));return r._transform=t,n&&(r._flush=n),r}))}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/obs-store>through2",file:"node_modules/@metamask/obs-store/node_modules/through2/through2.js"}],[138,{lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("lodash");var s={version:58,async migrate(e){const t=(0,r.cloneDeep)(e);t.meta.version=58;const n=t.data;return t.data=function(e){var t;return null===(t=e.AppStateController)||void 0===t||delete t.swapsWelcomeMessageHasBeenShown,e}(n),t}};n.default=s}}},{package:"$root$",file:"app/scripts/migrations/058.js"}],[139,{"../../../shared/constants/transaction":4029,lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("lodash"),s=e("../../../shared/constants/transaction");var i={version:59,async migrate(e){const t=(0,r.cloneDeep)(e);t.meta.version=59;const n=t.data;return t.data=function(e){var t;const n=null==e||null===(t=e.TransactionController)||void 0===t?void 0:t.transactions;if((0,r.isPlainObject)(n)){const t=(0,r.groupBy)(Object.values(n),(e=>{var t;return`${null===(t=e.txParams)||void 0===t?void 0:t.nonce}-${e.chainId??e.metamaskNetworkId}`})),i=(0,r.pickBy)(t,(e=>e.some((e=>e.type!==s.TransactionType.cancel&&e.type!==s.TransactionType.retry))));e.TransactionController.transactions=(0,r.keyBy)((0,r.concat)(...Object.values(i)),(e=>e.id))}return e}(n),t}};n.default=i}}},{package:"$root$",file:"app/scripts/migrations/059.js"}],[1391,{"./utils":1393,"@metamask/base-controller":1063,"@metamask/controller-utils":1068,"eth-phishing-detect/src/detector":2734,"punycode/":3686},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,i,o,a,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},u=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},l=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},d=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.PhishingController=n.phishingListKeyNameMap=n.ListNames=n.ListKeys=n.METAMASK_HOTLIST_DIFF_URL=n.METAMASK_STALELIST_URL=n.STALELIST_REFRESH_INTERVAL=n.HOTLIST_REFRESH_INTERVAL=n.METAMASK_HOTLIST_DIFF_FILE=n.METAMASK_STALELIST_FILE=n.PHISHING_CONFIG_BASE_URL=void 0;const p=e("@metamask/base-controller"),f=e("@metamask/controller-utils"),m=h(e("eth-phishing-detect/src/detector")),g=e("punycode/"),y=e("./utils");var b,w;n.PHISHING_CONFIG_BASE_URL="https://phishing-detection.metafi.codefi.network",n.METAMASK_STALELIST_FILE="/v1/stalelist",n.METAMASK_HOTLIST_DIFF_FILE="/v1/diffsSince",n.HOTLIST_REFRESH_INTERVAL=1800,n.STALELIST_REFRESH_INTERVAL=345600,n.METAMASK_STALELIST_URL=`${n.PHISHING_CONFIG_BASE_URL}${n.METAMASK_STALELIST_FILE}`,n.METAMASK_HOTLIST_DIFF_URL=`${n.PHISHING_CONFIG_BASE_URL}${n.METAMASK_HOTLIST_DIFF_FILE}`,function(e){e.PhishfortHotlist="phishfort_hotlist",e.EthPhishingDetectConfig="eth_phishing_detect_config"}(b=n.ListKeys||(n.ListKeys={})),function(e){e.MetaMask="MetaMask",e.Phishfort="Phishfort"}(w=n.ListNames||(n.ListNames={}));const v={[w.Phishfort]:b.PhishfortHotlist,[w.MetaMask]:b.EthPhishingDetectConfig};n.phishingListKeyNameMap={[b.EthPhishingDetectConfig]:w.MetaMask,[b.PhishfortHotlist]:w.Phishfort};class k extends p.BaseController{constructor(e,t){super(e,t),r.add(this),s.set(this,void 0),i.set(this,void 0),this.name="PhishingController",this.defaultConfig={stalelistRefreshInterval:n.STALELIST_REFRESH_INTERVAL,hotlistRefreshInterval:n.HOTLIST_REFRESH_INTERVAL},this.defaultState={phishingLists:[],whitelist:[],hotlistLastFetched:0,stalelistLastFetched:0},this.initialize(),this.updatePhishingDetector()}updatePhishingDetector(){this.detector=new m.default(this.state.phishingLists)}setStalelistRefreshInterval(e){this.configure({stalelistRefreshInterval:e},!1,!1)}setHotlistRefreshInterval(e){this.configure({hotlistRefreshInterval:e},!1,!1)}isStalelistOutOfDate(){return(0,y.fetchTimeNow)()-this.state.stalelistLastFetched>=this.config.stalelistRefreshInterval}isHotlistOutOfDate(){return(0,y.fetchTimeNow)()-this.state.hotlistLastFetched>=this.config.hotlistRefreshInterval}maybeUpdateState(){return c(this,void 0,void 0,(function*(){if(this.isStalelistOutOfDate())return void(yield this.updateStalelist());this.isHotlistOutOfDate()&&(yield this.updateHotlist())}))}test(e){const t=(0,g.toASCII)(e);return this.state.whitelist.includes(t)?{result:!1,type:"all"}:this.detector.check(t)}bypass(e){const t=(0,g.toASCII)(e),{whitelist:n}=this.state;n.includes(t)||this.update({whitelist:[...n,t]})}updateHotlist(){return c(this,void 0,void 0,(function*(){if(u(this,s,"f"))yield u(this,s,"f");else try{l(this,s,u(this,r,"m",a).call(this),"f"),yield u(this,s,"f")}finally{l(this,s,undefined,"f")}}))}updateStalelist(){return c(this,void 0,void 0,(function*(){if(u(this,i,"f"))yield u(this,i,"f");else try{l(this,i,u(this,r,"m",o).call(this),"f"),yield u(this,i,"f")}finally{l(this,i,undefined,"f")}}))}queryConfig(e){return c(this,void 0,void 0,(function*(){const t=yield(0,f.safelyExecute)((()=>fetch(e,{cache:"no-cache"})),!0);return 200===(null==t?void 0:t.status)?yield t.json():null}))}}n.PhishingController=k,s=new WeakMap,i=new WeakMap,r=new WeakSet,o=function(){return c(this,void 0,void 0,(function*(){if(this.disabled)return;let e,t;try{e=yield this.queryConfig(n.METAMASK_STALELIST_URL).then((e=>e)),(null==e?void 0:e.data)&&e.data.lastUpdated>0&&(t=yield this.queryConfig(`${n.METAMASK_HOTLIST_DIFF_URL}/${e.data.lastUpdated}`))}finally{const e=(0,y.fetchTimeNow)();this.update({stalelistLastFetched:e,hotlistLastFetched:e})}if(!e||!t)return;const r=e.data,{phishfort_hotlist:s,eth_phishing_detect_config:i}=r,o=d(r,["phishfort_hotlist","eth_phishing_detect_config"]),a=Object.assign(Object.assign(Object.assign({},s),o),{fuzzylist:[],allowlist:[],name:n.phishingListKeyNameMap.phishfort_hotlist}),c=Object.assign(Object.assign(Object.assign({},i),o),{name:n.phishingListKeyNameMap.eth_phishing_detect_config}),u=(0,y.applyDiffs)(a,t.data,b.PhishfortHotlist),l=(0,y.applyDiffs)(c,t.data,b.EthPhishingDetectConfig);this.update({phishingLists:[l,u]}),this.updatePhishingDetector()}))},a=function(){return c(this,void 0,void 0,(function*(){if(this.disabled)return;const e=Math.max(...this.state.phishingLists.map((({lastUpdated:e})=>e)));let t;try{t=yield this.queryConfig(`${n.METAMASK_HOTLIST_DIFF_URL}/${e}`)}finally{this.update({hotlistLastFetched:(0,y.fetchTimeNow)()})}if(!(null==t?void 0:t.data))return;const r=t.data,s=this.state.phishingLists.map((e=>(0,y.applyDiffs)(e,r,v[e.name])));this.update({phishingLists:s}),this.updatePhishingDetector()}))},n.default=k}}},{package:"@metamask/phishing-controller",file:"node_modules/@metamask/phishing-controller/dist/PhishingController.js"}],[1392,{"./PhishingController":1391},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./PhishingController"),n)}}},{package:"@metamask/phishing-controller",file:"node_modules/@metamask/phishing-controller/dist/index.js"}],[1393,{"./PhishingController":1391},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.applyDiffs=n.fetchTimeNow=void 0;const r=e("./PhishingController");n.fetchTimeNow=()=>Math.round(Date.now()/1e3);const s=e=>{const t=e.indexOf(".");return[e.slice(0,t),e.slice(t+1)]};n.applyDiffs=(e,t,n)=>{const i=t.filter((({timestamp:t,targetList:r})=>t>e.lastUpdated&&s(r)[0]===n));let o=e.lastUpdated;const a={allowlist:new Set(e.allowlist),blocklist:new Set(e.blocklist),fuzzylist:new Set(e.fuzzylist)};for(const{isRemoval:e,targetList:t,url:n,timestamp:r}of i){const i=s(t)[1];r>o&&(o=r),e?a[i].delete(n):a[i].add(n)}return{allowlist:Array.from(a.allowlist),blocklist:Array.from(a.blocklist),fuzzylist:Array.from(a.fuzzylist),version:e.version,name:r.phishingListKeyNameMap[n],tolerance:e.tolerance,lastUpdated:o}}}}},{package:"@metamask/phishing-controller",file:"node_modules/@metamask/phishing-controller/dist/utils.js"}],[1399,{"./permitted":1402,"./restricted":1414,"./utils":1418,"@metamask/snaps-utils":1508},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.selectHooks=n.SnapCaveatType=n.permittedMethods=void 0;var i=e("./permitted");Object.defineProperty(n,"permittedMethods",{enumerable:!0,get:function(){return i.handlers}}),s(e("./restricted"),n);var o=e("@metamask/snaps-utils");Object.defineProperty(n,"SnapCaveatType",{enumerable:!0,get:function(){return o.SnapCaveatType}});var a=e("./utils");Object.defineProperty(n,"selectHooks",{enumerable:!0,get:function(){return a.selectHooks}})}}},{package:"@metamask/rpc-methods",file:"node_modules/@metamask/rpc-methods/dist/index.js"}],[14,{"../../../../shared/constants/network":4019,"@ethersproject/providers":485,"ethereum-ens-network-map":2760},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,s=e("@ethersproject/providers"),i=(r=e("ethereum-ens-network-map"))&&r.__esModule?r:{default:r},o=e("../../../../shared/constants/network");n.default=class{static getNetworkEnsSupport(e){return Boolean(i.default[e])}constructor({network:e,provider:t}={}){const n=o.NETWORK_ID_TO_ETHERS_NETWORK_NAME_MAP[e],r=i.default[e],a=new s.Web3Provider(t,{chainId:parseInt(e,10),name:n,ensAddress:r});this._ethProvider=a}lookup(e){return this._ethProvider.resolveName(e)}reverse(e){return this._ethProvider.lookupAddress(e)}}}}},{package:"$root$",file:"app/scripts/controllers/ens/ens.js"}],[140,{lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("lodash");const s="2020-08-31";var i={version:60,async migrate(e){const t=(0,r.cloneDeep)(e);t.meta.version=60;const n=function(e){var t;const n=null==e||null===(t=e.NotificationController)||void 0===t?void 0:t.notifications;var i;(0,r.isPlainObject)(n)&&(null===(i=n[2])||void 0===i?void 0:i.date)===s&&delete e.NotificationController.notifications[2];return e}(t.data);return t.data=n,t}};n.default=i}}},{package:"$root$",file:"app/scripts/migrations/060.js"}],[1400,{"@metamask/utils":1444,"eth-rpc-errors":2739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.handleInstallSnaps=void 0;const r=e("@metamask/utils"),s=e("eth-rpc-errors");n.handleInstallSnaps=async function(e,t){if(!(0,r.isObject)(e))throw s.ethErrors.rpc.invalidParams({message:"Invalid snap installation params.",data:{requestedSnaps:e}});if(0===Object.keys(e).length)throw s.ethErrors.rpc.invalidParams({message:"Must specify at least one snap to install.",data:{requestedSnaps:e}});return await t(e)}}}},{package:"@metamask/rpc-methods",file:"node_modules/@metamask/rpc-methods/dist/permitted/common/snapInstallation.js"}],[1401,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSnapsHandler=void 0;n.getSnapsHandler={methodNames:["wallet_getSnaps"],implementation:async function(e,t,n,r,{getSnaps:s}){return t.result=await s(),r()},hookNames:{getSnaps:!0}}}}},{package:"@metamask/rpc-methods",file:"node_modules/@metamask/rpc-methods/dist/permitted/getSnaps.js"}],[1402,{"./getSnaps":1401,"./invokeSnapSugar":1403,"./requestSnaps":1404},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.handlers=n.methodHandlers=void 0;const r=e("./getSnaps"),s=e("./invokeSnapSugar"),i=e("./requestSnaps");n.methodHandlers={wallet_getSnaps:r.getSnapsHandler,wallet_requestSnaps:i.requestSnapsHandler,wallet_invokeSnap:s.invokeSnapSugarHandler},n.handlers=Object.values(n.methodHandlers)}}},{package:"@metamask/rpc-methods",file:"node_modules/@metamask/rpc-methods/dist/permitted/index.js"}],[1403,{"@metamask/utils":1444,"eth-rpc-errors":2739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getValidatedParams=n.invokeSnapSugar=n.invokeSnapSugarHandler=void 0;const r=e("@metamask/utils"),s=e("eth-rpc-errors");function i(e,t,n,r){let s;try{s=o(e.params)}catch(e){return r(e)}return e.method="wallet_snap",e.params=s,n()}function o(e){if(!(0,r.isObject)(e))throw s.ethErrors.rpc.invalidParams({message:"Expected params to be a single object."});const{snapId:t,request:n}=e;if(!t||"string"!=typeof t||""===t)throw s.ethErrors.rpc.invalidParams({message:"Must specify a valid snap ID."});if(!(0,r.isObject)(n))throw s.ethErrors.rpc.invalidParams({message:"Expected request to be a single object."});return e}n.invokeSnapSugarHandler={methodNames:["wallet_invokeSnap"],implementation:i,hookNames:undefined},n.invokeSnapSugar=i,n.getValidatedParams=o}}},{package:"@metamask/rpc-methods",file:"node_modules/@metamask/rpc-methods/dist/permitted/invokeSnapSugar.js"}],[1404,{"../restricted/invokeSnap":1415,"./common/snapInstallation":1400,"@metamask/snaps-utils":1508,"@metamask/utils":1444,"eth-rpc-errors":2739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSnapPermissionsRequest=n.hasRequestedSnaps=n.requestSnapsHandler=void 0;const r=e("@metamask/snaps-utils"),s=e("@metamask/utils"),i=e("eth-rpc-errors"),o=e("../restricted/invokeSnap"),a=e("./common/snapInstallation");function c(e,t){const n=e[o.WALLET_SNAP_PERMISSION_KEY]?.caveats?.find((e=>e.type===r.SnapCaveatType.SnapIds)),i=n?.value;return!!(0,s.isObject)(i)&&Object.keys(t).every((e=>(0,s.hasProperty)(i,e)))}function u(e,t){if((0,r.verifyRequestedSnapPermissions)(t),!e[o.WALLET_SNAP_PERMISSION_KEY])return t;const n=e[o.WALLET_SNAP_PERMISSION_KEY].caveats?.find((e=>e.type===r.SnapCaveatType.SnapIds)),s=n?.value??{},i=t[o.WALLET_SNAP_PERMISSION_KEY].caveats[0].value,a=[...new Set([...Object.keys(s),...Object.keys(i)])].reduce(((e,t)=>(e[t]=i[t]??s[t],e)),{});return t[o.WALLET_SNAP_PERMISSION_KEY].caveats[0].value=a,t}n.requestSnapsHandler={methodNames:["wallet_requestSnaps"],implementation:async function(e,t,n,l,{installSnaps:d,requestPermissions:h,getPermissions:p}){const f=e.params;if(!(0,s.isObject)(f))return l(i.ethErrors.rpc.invalidParams({message:'"params" must be an object.'}));try{if(!Object.keys(f).length)throw new Error("Request must have at least one requested snap.");const e={[o.WALLET_SNAP_PERMISSION_KEY]:{caveats:[{type:r.SnapCaveatType.SnapIds,value:f}]}},n=await p();if(n)if(c(n,f))t.result=await(0,a.handleInstallSnaps)(f,d);else{const r=u(n,e),[,s]=await h(r);t.result=s.data[o.WALLET_SNAP_PERMISSION_KEY]}else{const[,n]=await h(e);t.result=n.data[o.WALLET_SNAP_PERMISSION_KEY]}}catch(e){t.error=e}return l()},hookNames:{installSnaps:!0,requestPermissions:!0,getPermissions:!0}},n.hasRequestedSnaps=c,n.getSnapPermissionsRequest=u}}},{package:"@metamask/rpc-methods",file:"node_modules/@metamask/rpc-methods/dist/permitted/requestSnaps.js"}],[1405,{"../getBip32Entropy":1410,"../getBip32PublicKey":1411,"../getBip44Entropy":1412,"./permittedCoinTypes":1406,"./permittedDerivationPaths":1407,"./snapIds":1408},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.caveatMappers=n.caveatSpecifications=void 0;const r=e("../getBip32Entropy"),s=e("../getBip32PublicKey"),i=e("../getBip44Entropy"),o=e("./permittedCoinTypes"),a=e("./permittedDerivationPaths"),c=e("./snapIds");n.caveatSpecifications={...a.PermittedDerivationPathsCaveatSpecification,...o.PermittedCoinTypesCaveatSpecification,...c.SnapIdsCaveatSpecification},n.caveatMappers={[r.getBip32EntropyBuilder.targetName]:a.permittedDerivationPathsCaveatMapper,[s.getBip32PublicKeyBuilder.targetName]:a.permittedDerivationPathsCaveatMapper,[i.getBip44EntropyBuilder.targetName]:o.permittedCoinTypesCaveatMapper}}}},{package:"@metamask/rpc-methods",file:"node_modules/@metamask/rpc-methods/dist/restricted/caveats/index.js"}],[1406,{"@metamask/snaps-utils":1508,"@metamask/utils":1444,"eth-rpc-errors":2739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermittedCoinTypesCaveatSpecification=n.validateBIP44Caveat=n.validateBIP44Params=n.permittedCoinTypesCaveatMapper=void 0;const r=e("@metamask/snaps-utils"),s=e("@metamask/utils"),i=e("eth-rpc-errors");function o(e){if(!(0,s.isPlainObject)(e)||!(0,s.hasProperty)(e,"coinType"))throw i.ethErrors.rpc.invalidParams({message:"Expected a plain object containing a coin type."});if("number"!=typeof e.coinType||!Number.isInteger(e.coinType)||e.coinType<0||e.coinType>2147483647)throw i.ethErrors.rpc.invalidParams({message:'Invalid "coinType" parameter. Coin type must be a non-negative integer.'});if(r.FORBIDDEN_COIN_TYPES.includes(e.coinType))throw i.ethErrors.rpc.invalidParams({message:`Coin type ${e.coinType} is forbidden.`})}function a(e){if(!(0,s.hasProperty)(e,"value")||!Array.isArray(e.value)||0===e.value.length)throw i.ethErrors.rpc.invalidParams({message:"Expected non-empty array of coin types."});e.value.forEach(o)}n.permittedCoinTypesCaveatMapper=function(e){return{caveats:[{type:r.SnapCaveatType.PermittedCoinTypes,value:e}]}},n.validateBIP44Params=o,n.validateBIP44Caveat=a,n.PermittedCoinTypesCaveatSpecification={[r.SnapCaveatType.PermittedCoinTypes]:Object.freeze({type:r.SnapCaveatType.PermittedCoinTypes,decorator:(e,t)=>async n=>{const{params:r}=n;o(r);if(!t.value.find((e=>e.coinType===r.coinType)))throw i.ethErrors.provider.unauthorized({message:"The requested coin type is not permitted. Allowed coin types must be specified in the snap manifest."});return await e(n)},validator:e=>a(e)})}}}},{package:"@metamask/rpc-methods",file:"node_modules/@metamask/rpc-methods/dist/restricted/caveats/permittedCoinTypes.js"}],[1407,{"@metamask/snaps-utils":1508,"@metamask/utils":1444,"eth-rpc-errors":2739,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermittedDerivationPathsCaveatSpecification=n.validateBIP32CaveatPaths=n.validateBIP32Path=n.permittedDerivationPathsCaveatMapper=void 0;const r=e("@metamask/snaps-utils"),s=e("@metamask/utils"),i=e("eth-rpc-errors"),o=e("superstruct");function a(e){(0,s.assertStruct)(e,r.Bip32EntropyStruct,"Invalid BIP-32 entropy path definition",i.ethErrors.rpc.invalidParams)}function c(e){(0,s.assertStruct)(e,(0,o.type)({value:(0,o.size)((0,o.array)(r.Bip32EntropyStruct),1,Infinity)}),"Invalid BIP-32 entropy caveat",i.ethErrors.rpc.internal)}n.permittedDerivationPathsCaveatMapper=function(e){return{caveats:[{type:r.SnapCaveatType.PermittedDerivationPaths,value:e}]}},n.validateBIP32Path=a,n.validateBIP32CaveatPaths=c,n.PermittedDerivationPathsCaveatSpecification={[r.SnapCaveatType.PermittedDerivationPaths]:Object.freeze({type:r.SnapCaveatType.PermittedDerivationPaths,decorator:(e,t)=>async n=>{const{params:s}=n;a(s);if(!t.value.find((e=>(0,r.isEqual)(s.path.slice(0,e.path.length),e.path)&&e.curve===s.curve)))throw i.ethErrors.provider.unauthorized({message:"The requested path is not permitted. Allowed paths must be specified in the snap manifest."});return await e(n)},validator:e=>c(e)})}}}},{package:"@metamask/rpc-methods",file:"node_modules/@metamask/rpc-methods/dist/restricted/caveats/permittedDerivationPaths.js"}],[1408,{"@metamask/snaps-utils":1508,"@metamask/utils":1444,"eth-rpc-errors":2739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapIdsCaveatSpecification=n.validateSnapIdsCaveat=void 0;const r=e("@metamask/snaps-utils"),s=e("@metamask/utils"),i=e("eth-rpc-errors");function o(e){if(!(0,s.isObject)(e.value)||0===Object.keys(e.value).length)throw i.ethErrors.rpc.invalidParams({message:"Expected caveat to have a value property of a non-empty object of snap IDs."});const t=Object.keys(e.value);for(const e of t)(0,r.assertIsValidSnapId)(e)}n.validateSnapIdsCaveat=o,n.SnapIdsCaveatSpecification={[r.SnapCaveatType.SnapIds]:Object.freeze({type:r.SnapCaveatType.SnapIds,validator:e=>o(e),decorator:(e,t)=>async n=>{const{params:r,context:{origin:i}}=n,o=t.value,{snapId:a}=r;if(!(0,s.hasProperty)(o,a))throw new Error(`${i} does not have permission to invoke ${a} snap.`);return await e(n)}})}}}},{package:"@metamask/rpc-methods",file:"node_modules/@metamask/rpc-methods/dist/restricted/caveats/snapIds.js"}],[1409,{"../utils":1418,"@metamask/permission-controller":1383,"@metamask/snaps-ui":1478,"eth-rpc-errors":2739,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDialogImplementation=n.dialogBuilder=n.DialogType=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/snaps-ui"),i=e("eth-rpc-errors"),o=e("superstruct"),a=e("../utils"),c="snap_dialog";var u;!function(e){e.Alert="alert",e.Confirmation="confirmation",e.Prompt="prompt"}(u=n.DialogType||(n.DialogType={}));const l=(0,o.optional)((0,o.size)((0,o.string)(),1,40));n.dialogBuilder=Object.freeze({targetName:c,specificationBuilder:({allowedCaveats:e=null,methodHooks:t})=>({permissionType:r.PermissionType.RestrictedMethod,targetName:c,allowedCaveats:e,methodImplementation:g(t),subjectTypes:[r.SubjectType.Snap]}),methodHooks:{showDialog:!0}});const d=(0,o.type)({type:(0,o.enums)([u.Alert,u.Confirmation,u.Prompt])}),h=(0,o.object)({type:(0,a.enumValue)(u.Alert),content:s.ComponentStruct}),p=(0,o.object)({type:(0,a.enumValue)(u.Confirmation),content:s.ComponentStruct}),f=(0,o.object)({type:(0,a.enumValue)(u.Prompt),content:s.ComponentStruct,placeholder:l}),m=((0,o.union)([h,p,f]),{[u.Alert]:h,[u.Confirmation]:p,[u.Prompt]:f});function g({showDialog:e}){return async function(t){const{params:n,context:{origin:r}}=t,s=function(e){try{return(0,o.create)(e,d).type}catch(e){throw i.ethErrors.rpc.invalidParams({message:`The "type" property must be one of: ${Object.values(u).join(", ")}.`})}}(n),a=function(e,t){try{return(0,o.create)(e,t)}catch(e){if(e instanceof o.StructError){const{key:t,type:n}=e;if("placeholder"===t&&"never"===n)throw i.ethErrors.rpc.invalidParams({message:'Invalid params: Alerts or confirmations may not specify a "placeholder" field.'});throw i.ethErrors.rpc.invalidParams({message:`Invalid params: ${e.message}.`})}throw i.ethErrors.rpc.internal()}}(n,m[s]),{content:c}=a,l=a.type===u.Prompt?a.placeholder:undefined;return e(r,s,c,l)}}n.getDialogImplementation=g}}},{package:"@metamask/rpc-methods",file:"node_modules/@metamask/rpc-methods/dist/restricted/dialog.js"}],[141,{lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("lodash");var s={version:61,async migrate(e){const t=(0,r.cloneDeep)(e);t.meta.version=61;const n=function(e){const t=(new Date).getTime();e.AppStateController?(e.AppStateController.recoveryPhraseReminderHasBeenShown=!1,e.AppStateController.recoveryPhraseReminderLastShown=t):e.AppStateController={recoveryPhraseReminderHasBeenShown:!1,recoveryPhraseReminderLastShown:t};return e}(t.data);return t.data=n,t}};n.default=s}}},{package:"$root$",file:"app/scripts/migrations/061.js"}],[1410,{"@metamask/key-tree":1434,"@metamask/permission-controller":1383,"@metamask/snaps-utils":1508,"@metamask/utils":1444,"eth-rpc-errors":2739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getBip32EntropyImplementation=n.getBip32EntropyBuilder=void 0;const r=e("@metamask/key-tree"),s=e("@metamask/permission-controller"),i=e("@metamask/snaps-utils"),o=e("@metamask/utils"),a=e("eth-rpc-errors"),c="snap_getBip32Entropy";function u({getMnemonic:e,getUnlockPromise:t}){return async function(n){await t(!0);const{params:s}=n;(0,o.assert)(s);const i="ed25519"===s.curve?"slip10":"bip32";return(await r.SLIP10Node.fromDerivationPath({curve:s.curve,derivationPath:[await e(),...s.path.slice(1).map((e=>`${i}:${e}`))]})).toJSON()}}n.getBip32EntropyBuilder=Object.freeze({targetName:c,specificationBuilder:({methodHooks:e})=>({permissionType:s.PermissionType.RestrictedMethod,targetName:c,allowedCaveats:[i.SnapCaveatType.PermittedDerivationPaths],methodImplementation:u(e),validator:({caveats:e})=>{if(1!==e?.length||e[0].type!==i.SnapCaveatType.PermittedDerivationPaths)throw a.ethErrors.rpc.invalidParams({message:`Expected a single "${i.SnapCaveatType.PermittedDerivationPaths}" caveat.`})},subjectTypes:[s.SubjectType.Snap]}),methodHooks:{getMnemonic:!0,getUnlockPromise:!0}}),n.getBip32EntropyImplementation=u}}},{package:"@metamask/rpc-methods",file:"node_modules/@metamask/rpc-methods/dist/restricted/getBip32Entropy.js"}],[1411,{"@metamask/key-tree":1434,"@metamask/permission-controller":1383,"@metamask/snaps-utils":1508,"@metamask/utils":1444,"eth-rpc-errors":2739,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getBip32PublicKeyImplementation=n.getBip32PublicKeyBuilder=n.Bip32PublicKeyArgsStruct=void 0;const r=e("@metamask/key-tree"),s=e("@metamask/permission-controller"),i=e("@metamask/snaps-utils"),o=e("@metamask/utils"),a=e("eth-rpc-errors"),c=e("superstruct"),u="snap_getBip32PublicKey";n.Bip32PublicKeyArgsStruct=(0,i.bip32entropy)((0,c.object)({path:i.Bip32PathStruct,curve:(0,c.enums)(["ed225519","secp256k1"]),compressed:(0,c.optional)((0,c.boolean)())}));function l({getMnemonic:e,getUnlockPromise:t}){return async function(s){await t(!0),(0,o.assertStruct)(s.params,n.Bip32PublicKeyArgsStruct,"Invalid BIP-32 public key params",a.ethErrors.rpc.invalidParams);const{params:i}=s,c=await r.SLIP10Node.fromDerivationPath({curve:i.curve,derivationPath:[await e(),...i.path.slice(1).map((e=>`bip32:${e}`))]});return i.compressed?c.compressedPublicKey:c.publicKey}}n.getBip32PublicKeyBuilder=Object.freeze({targetName:u,specificationBuilder:({methodHooks:e})=>({permissionType:s.PermissionType.RestrictedMethod,targetName:u,allowedCaveats:[i.SnapCaveatType.PermittedDerivationPaths],methodImplementation:l(e),validator:({caveats:e})=>{if(1!==e?.length||e[0].type!==i.SnapCaveatType.PermittedDerivationPaths)throw a.ethErrors.rpc.invalidParams({message:`Expected a single "${i.SnapCaveatType.PermittedDerivationPaths}" caveat.`})},subjectTypes:[s.SubjectType.Snap]}),methodHooks:{getMnemonic:!0,getUnlockPromise:!0}}),n.getBip32PublicKeyImplementation=l}}},{package:"@metamask/rpc-methods",file:"node_modules/@metamask/rpc-methods/dist/restricted/getBip32PublicKey.js"}],[1412,{"@metamask/key-tree":1434,"@metamask/permission-controller":1383,"@metamask/snaps-utils":1508,"eth-rpc-errors":2739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getBip44EntropyImplementation=n.getBip44EntropyBuilder=void 0;const r=e("@metamask/key-tree"),s=e("@metamask/permission-controller"),i=e("@metamask/snaps-utils"),o=e("eth-rpc-errors"),a="snap_getBip44Entropy";function c({getMnemonic:e,getUnlockPromise:t}){return async function(n){await t(!0);const s=n.params;return(await r.BIP44CoinTypeNode.fromDerivationPath([await e(),"bip32:44'",`bip32:${s.coinType}'`])).toJSON()}}n.getBip44EntropyBuilder=Object.freeze({targetName:a,specificationBuilder:({methodHooks:e})=>({permissionType:s.PermissionType.RestrictedMethod,targetName:a,allowedCaveats:[i.SnapCaveatType.PermittedCoinTypes],methodImplementation:c(e),validator:({caveats:e})=>{if(1!==e?.length||e[0].type!==i.SnapCaveatType.PermittedCoinTypes)throw o.ethErrors.rpc.invalidParams({message:`Expected a single "${i.SnapCaveatType.PermittedCoinTypes}" caveat.`})},subjectTypes:[s.SubjectType.Snap]}),methodHooks:{getMnemonic:!0,getUnlockPromise:!0}}),n.getBip44EntropyImplementation=c}}},{package:"@metamask/rpc-methods",file:"node_modules/@metamask/rpc-methods/dist/restricted/getBip44Entropy.js"}],[1413,{"../utils":1418,"@metamask/permission-controller":1383,"@metamask/snaps-utils":1508,"@metamask/utils":1444,"eth-rpc-errors":2739,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getEntropyBuilder=n.GetEntropyArgsStruct=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/snaps-utils"),i=e("@metamask/utils"),o=e("eth-rpc-errors"),a=e("superstruct"),c=e("../utils"),u="snap_getEntropy";n.GetEntropyArgsStruct=(0,a.object)({version:(0,a.literal)(1),salt:(0,a.optional)((0,a.string)())});function l({getMnemonic:e,getUnlockPromise:t}){return async function(r){const{params:a,context:{origin:u}}=r;(0,i.assertStruct)(a,n.GetEntropyArgsStruct,'Invalid "snap_getEntropy" parameters',o.ethErrors.rpc.invalidParams),await t(!0);const l=await e();return(0,c.deriveEntropy)({input:u,salt:a.salt,mnemonicPhrase:l,magic:s.SIP_6_MAGIC_VALUE})}}n.getEntropyBuilder=Object.freeze({targetName:u,specificationBuilder:({allowedCaveats:e=null,methodHooks:t})=>({permissionType:r.PermissionType.RestrictedMethod,targetName:u,allowedCaveats:e,methodImplementation:l(t),subjectTypes:[r.SubjectType.Snap]}),methodHooks:{getMnemonic:!0,getUnlockPromise:!0}})}}},{package:"@metamask/rpc-methods",file:"node_modules/@metamask/rpc-methods/dist/restricted/getEntropy.js"}],[1414,{"./caveats":1405,"./dialog":1409,"./getBip32Entropy":1410,"./getBip32PublicKey":1411,"./getBip44Entropy":1412,"./getEntropy":1413,"./invokeSnap":1415,"./manageState":1416,"./notify":1417},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.restrictedMethodPermissionBuilders=n.WALLET_SNAP_PERMISSION_KEY=n.ManageStateOperation=n.DialogType=void 0;const i=e("./dialog"),o=e("./getBip32Entropy"),a=e("./getBip32PublicKey"),c=e("./getBip44Entropy"),u=e("./getEntropy"),l=e("./invokeSnap"),d=e("./manageState"),h=e("./notify");var p=e("./dialog");Object.defineProperty(n,"DialogType",{enumerable:!0,get:function(){return p.DialogType}});var f=e("./manageState");Object.defineProperty(n,"ManageStateOperation",{enumerable:!0,get:function(){return f.ManageStateOperation}});var m=e("./invokeSnap");Object.defineProperty(n,"WALLET_SNAP_PERMISSION_KEY",{enumerable:!0,get:function(){return m.WALLET_SNAP_PERMISSION_KEY}}),n.restrictedMethodPermissionBuilders={[i.dialogBuilder.targetName]:i.dialogBuilder,[o.getBip32EntropyBuilder.targetName]:o.getBip32EntropyBuilder,[a.getBip32PublicKeyBuilder.targetName]:a.getBip32PublicKeyBuilder,[c.getBip44EntropyBuilder.targetName]:c.getBip44EntropyBuilder,[u.getEntropyBuilder.targetName]:u.getEntropyBuilder,[l.invokeSnapBuilder.targetName]:l.invokeSnapBuilder,[d.manageStateBuilder.targetName]:d.manageStateBuilder,[h.notifyBuilder.targetName]:h.notifyBuilder},s(e("./caveats"),n)}}},{package:"@metamask/rpc-methods",file:"node_modules/@metamask/rpc-methods/dist/restricted/index.js"}],[1415,{"@metamask/permission-controller":1383,"@metamask/snaps-utils":1508,"@metamask/utils":1444,"eth-rpc-errors":2739,nanoid:1454},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getInvokeSnapImplementation=n.invokeSnapBuilder=n.handleSnapInstall=n.WALLET_SNAP_PERMISSION_KEY=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/snaps-utils"),i=e("@metamask/utils"),o=e("eth-rpc-errors"),a=e("nanoid");n.WALLET_SNAP_PERMISSION_KEY="wallet_snap";n.handleSnapInstall=async({requestData:e,messagingSystem:t})=>{const r=e.permissions[n.WALLET_SNAP_PERMISSION_KEY].caveats?.[0].value,s=t.call("SnapController:getPermitted",e.metadata.origin),i=Object.keys(r).reduce(((e,t)=>(s[t]||(e[t]=r[t]),e)),{});return t.call("SnapController:install",e.metadata.origin,i)};function c({getSnap:e,handleSnapRpcRequest:t}){return async function(n){const{params:r={},context:c}=n,{snapId:u,request:l}=r,d={jsonrpc:"2.0",id:(0,a.nanoid)(),...l};if(!(0,i.isJsonRpcRequest)(d))throw o.ethErrors.rpc.invalidParams({message:"Must specify a valid JSON-RPC request object as single parameter."});if(!e(u))throw o.ethErrors.rpc.invalidRequest({message:`The snap "${u}" is not installed. Please install it first, before invoking the snap.`});const{origin:h}=c;return await t({snapId:u,origin:h,request:d,handler:s.HandlerType.OnRpcRequest})}}n.invokeSnapBuilder=Object.freeze({targetName:n.WALLET_SNAP_PERMISSION_KEY,specificationBuilder:({methodHooks:e})=>({permissionType:r.PermissionType.RestrictedMethod,targetName:n.WALLET_SNAP_PERMISSION_KEY,allowedCaveats:[s.SnapCaveatType.SnapIds],methodImplementation:c(e),validator:({caveats:e})=>{if(1!==e?.length||e[0].type!==s.SnapCaveatType.SnapIds)throw o.ethErrors.rpc.invalidParams({message:`Expected a single "${s.SnapCaveatType.SnapIds}" caveat.`})},sideEffect:{onPermitted:n.handleSnapInstall}}),methodHooks:{getSnap:!0,handleSnapRpcRequest:!0}}),n.getInvokeSnapImplementation=c}}},{package:"@metamask/rpc-methods",file:"node_modules/@metamask/rpc-methods/dist/restricted/invokeSnap.js"}],[1416,{"../utils":1418,"@metamask/browser-passworder":1064,"@metamask/permission-controller":1383,"@metamask/snaps-utils":1508,"@metamask/utils":1444,"eth-rpc-errors":2739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getValidatedParams=n.getManageStateImplementation=n.STORAGE_SIZE_LIMIT=n.ManageStateOperation=n.manageStateBuilder=n.specificationBuilder=n.STATE_ENCRYPTION_SALT=void 0;const r=e("@metamask/browser-passworder"),s=e("@metamask/permission-controller"),i=e("@metamask/snaps-utils"),o=e("@metamask/utils"),a=e("eth-rpc-errors"),c=e("../utils");n.STATE_ENCRYPTION_SALT="snap_manageState encryption";const u="snap_manageState";n.specificationBuilder=({allowedCaveats:e=null,methodHooks:t})=>({permissionType:s.PermissionType.RestrictedMethod,targetName:u,allowedCaveats:e,methodImplementation:h(t),subjectTypes:[s.SubjectType.Snap]});var l;async function d({mnemonicPhrase:e,snapId:t}){return await(0,c.deriveEntropy)({mnemonicPhrase:e,input:t,salt:n.STATE_ENCRYPTION_SALT,magic:i.STATE_ENCRYPTION_MAGIC_VALUE})}function h({getMnemonic:e,getUnlockPromise:t,clearSnapState:n,getSnapState:s,updateSnapState:i}){return async function(c){const{params:u={},method:h,context:{origin:f}}=c,{operation:m,newState:g}=p(u,h);await t(!0);const y=await e();switch(m){case l.ClearState:return await n(f),null;case l.GetState:{const e=await s(f);return null===e?e:await async function({state:e,...t}){try{const n=await d(t),s=await(0,r.decrypt)(n,e);return(0,o.assert)((0,o.isValidJson)(s)),s}catch{throw a.ethErrors.rpc.internal({message:"Failed to decrypt snap state, the state must be corrupted."})}}({state:e,mnemonicPhrase:y,snapId:f})}case l.UpdateState:{(0,o.assert)(g);const e=await async function({state:e,...t}){const n=await d(t);return await(0,r.encrypt)(n,e)}({state:g,mnemonicPhrase:y,snapId:f});return await i(f,e),null}default:throw a.ethErrors.rpc.invalidParams(`Invalid ${h} operation: "${m}"`)}}}function p(e,t,r=n.STORAGE_SIZE_LIMIT){if(!(0,o.isObject)(e))throw a.ethErrors.rpc.invalidParams({message:"Expected params to be a single object."});const{operation:s,newState:i}=e;if(!s||"string"!=typeof s||!Object.values(l).includes(s))throw a.ethErrors.rpc.invalidParams({message:'Must specify a valid manage state "operation".'});if(s===l.UpdateState){if(!(0,o.isObject)(i))throw a.ethErrors.rpc.invalidParams({message:`Invalid ${t} "updateState" parameter: The new state must be a plain object.`,data:{receivedNewState:void 0===i?"undefined":i}});let e;try{e=(0,o.getJsonSize)(i)}catch{throw a.ethErrors.rpc.invalidParams({message:`Invalid ${t} "updateState" parameter: The new state must be JSON serializable.`,data:{receivedNewState:void 0===i?"undefined":i}})}if(e>r)throw a.ethErrors.rpc.invalidParams({message:`Invalid ${t} "updateState" parameter: The new state must not exceed ${r} bytes in size.`,data:{receivedNewState:void 0===i?"undefined":i}})}return e}n.manageStateBuilder=Object.freeze({targetName:u,specificationBuilder:n.specificationBuilder,methodHooks:{getMnemonic:!0,getUnlockPromise:!0,clearSnapState:!0,getSnapState:!0,updateSnapState:!0}}),function(e){e.ClearState="clear",e.GetState="get",e.UpdateState="update"}(l=n.ManageStateOperation||(n.ManageStateOperation={})),n.STORAGE_SIZE_LIMIT=104857600,n.getManageStateImplementation=h,n.getValidatedParams=p}}},{package:"@metamask/rpc-methods",file:"node_modules/@metamask/rpc-methods/dist/restricted/manageState.js"}],[1417,{"@metamask/permission-controller":1383,"@metamask/utils":1444,"eth-rpc-errors":2739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getValidatedParams=n.getImplementation=n.notifyBuilder=n.specificationBuilder=n.NotificationType=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/utils"),i=e("eth-rpc-errors"),o="snap_notify";var a;!function(e){e.InApp="inApp",e.Native="native"}(a=n.NotificationType||(n.NotificationType={}));n.specificationBuilder=({allowedCaveats:e=null,methodHooks:t})=>({permissionType:r.PermissionType.RestrictedMethod,targetName:o,allowedCaveats:e,methodImplementation:c(t),subjectTypes:[r.SubjectType.Snap]});function c({showNativeNotification:e,showInAppNotification:t}){return async function(n){const{params:r,context:{origin:s}}=n,o=u(r);switch(o.type){case a.Native:return await e(s,o);case a.InApp:return await t(s,o);default:throw i.ethErrors.rpc.invalidParams({message:'Must specify a valid notification "type".'})}}}function u(e){if(!(0,s.isObject)(e))throw i.ethErrors.rpc.invalidParams({message:"Expected params to be a single object."});const{type:t,message:n}=e;if(!t||"string"!=typeof t||!Object.values(a).includes(t))throw i.ethErrors.rpc.invalidParams({message:'Must specify a valid notification "type".'});if(!n||"string"!=typeof n||n.length>=50)throw i.ethErrors.rpc.invalidParams({message:'Must specify a non-empty string "message" less than 50 characters long.'});return e}n.notifyBuilder=Object.freeze({targetName:o,specificationBuilder:n.specificationBuilder,methodHooks:{showNativeNotification:!0,showInAppNotification:!0}}),n.getImplementation=c,n.getValidatedParams=u}}},{package:"@metamask/rpc-methods",file:"node_modules/@metamask/rpc-methods/dist/restricted/notify.js"}],[1418,{"@metamask/key-tree":1434,"@metamask/utils":1444,"@noble/hashes/sha3":1620,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.enumValue=n.deriveEntropy=n.selectHooks=void 0;const r=e("@metamask/key-tree"),s=e("@metamask/utils"),i=e("@noble/hashes/sha3"),o=e("superstruct"),a=2147483648;n.selectHooks=function(e,t){return t?Object.keys(t).reduce(((t,n)=>{const r=n;return t[r]=e[r],t}),{}):undefined},n.deriveEntropy=async function({input:e,salt:t="",mnemonicPhrase:n,magic:o}){const c=(0,s.stringToBytes)(e),u=(0,s.stringToBytes)(t),l=function(e){const t=[],n=(0,s.createDataView)(e);for(let e=0;e<8;e++){const r=(n.getUint32(4*e)|a)>>>0;t.push(`bip32:${r-a}'`)}return t}((0,i.keccak_256)((0,s.concatBytes)([c,(0,i.keccak_256)(u)]))),{privateKey:d}=await r.SLIP10Node.fromDerivationPath({derivationPath:[n,`bip32:${o}`,...l],curve:"secp256k1"});return(0,s.assert)(d,"Failed to derive the entropy."),(0,s.add0x)(d)},n.enumValue=function(e){return(0,o.literal)(e)}}}},{package:"@metamask/rpc-methods",file:"node_modules/@metamask/rpc-methods/dist/utils.js"}],[1419,{"./BIP44Node":1420,"./SLIP10Node":1421,"./constants":1422,"./utils":1435},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},i=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.getBIP44AddressKeyDeriver=n.deriveBIP44AddressKey=n.BIP44CoinTypeNode=n.BIP_44_COIN_TYPE_DEPTH=void 0;const o=e("./BIP44Node"),a=e("./constants"),c=e("./SLIP10Node"),u=e("./utils");n.BIP_44_COIN_TYPE_DEPTH=2;class l{constructor(e,t){r.set(this,void 0),s(this,r,e,"f"),this.coin_type=t,this.path=(0,u.getBIP44CoinTypePathString)(t),Object.freeze(this)}static async fromJSON(e,t){h(t),d(e.depth);const n=await o.BIP44Node.fromExtendedKey({depth:e.depth,index:e.index,parentFingerprint:e.parentFingerprint,chainCode:(0,u.hexStringToBytes)(e.chainCode),privateKey:(0,u.nullableHexStringToBytes)(e.privateKey),publicKey:(0,u.hexStringToBytes)(e.publicKey)});return new l(n,t)}static async fromDerivationPath(e){d(e.length-1);const t=await o.BIP44Node.fromDerivationPath({derivationPath:e}),r=Number.parseInt(e[n.BIP_44_COIN_TYPE_DEPTH].split(":")[1].replace("'",""),10);return new l(t,r)}static async fromNode(e,t){if(!(e instanceof o.BIP44Node))throw new Error("Invalid node: Expected an instance of BIP44Node.");return h(t),d(e.depth),Promise.resolve(new l(e,t))}get depth(){return i(this,r,"f").depth}get privateKeyBytes(){return i(this,r,"f").privateKeyBytes}get publicKeyBytes(){return i(this,r,"f").publicKeyBytes}get chainCodeBytes(){return i(this,r,"f").chainCodeBytes}get privateKey(){return i(this,r,"f").privateKey}get publicKey(){return i(this,r,"f").publicKey}get compressedPublicKey(){return i(this,r,"f").compressedPublicKey}get compressedPublicKeyBytes(){return i(this,r,"f").compressedPublicKeyBytes}get chainCode(){return i(this,r,"f").chainCode}get address(){return i(this,r,"f").address}get masterFingerprint(){return i(this,r,"f").masterFingerprint}get parentFingerprint(){return i(this,r,"f").parentFingerprint}get fingerprint(){return i(this,r,"f").fingerprint}get index(){return i(this,r,"f").index}get curve(){return i(this,r,"f").curve}get extendedKey(){return i(this,r,"f").extendedKey}async deriveBIP44AddressKey({account:e=0,change:t=0,address_index:n}){return await i(this,r,"f").derive((0,u.getBIP44CoinTypeToAddressPathTuple)({account:e,change:t,address_index:n}))}toJSON(){return Object.assign(Object.assign({},i(this,r,"f").toJSON()),{coin_type:this.coin_type,path:this.path})}}function d(e){if(e!==n.BIP_44_COIN_TYPE_DEPTH)throw new Error(`Invalid depth: Coin type nodes must be of depth ${n.BIP_44_COIN_TYPE_DEPTH}. Received: "${e}"`)}function h(e){if("number"!=typeof e||!Number.isInteger(e)||e<0)throw new Error("Invalid coin type: The specified coin type must be a non-negative integer number.")}async function p(e){if(e instanceof l)return d(e.depth),e;if("string"==typeof e){const t=await o.BIP44Node.fromExtendedKey(e),n=await l.fromNode(t,t.index-a.BIP_32_HARDENED_OFFSET);return d(n.depth),n}return l.fromJSON(e,e.coin_type)}n.BIP44CoinTypeNode=l,r=new WeakMap,n.deriveBIP44AddressKey=async function(e,{account:t=0,change:n=0,address_index:r}){const s=(0,u.getBIP44CoinTypeToAddressPathTuple)({account:t,change:n,address_index:r}),i=await p(e),a=await(0,c.deriveChildNode)({path:s,node:i});return new o.BIP44Node(a)},n.getBIP44AddressKeyDeriver=async function(e,t){const{account:n=0,change:r=0}=null!=t?t:{},s=await p(e),i=(0,u.getHardenedBIP32NodeToken)(n),a=(0,u.getBIP32NodeToken)(r),l=async(e,t=!1)=>{const n=await(0,c.deriveChildNode)({path:[i,a,t?(0,u.getHardenedBIP32NodeToken)(e):(0,u.getUnhardenedBIP32NodeToken)(e)],node:s});return new o.BIP44Node(n)};return l.coin_type=s.coin_type,l.path=(0,u.getBIP44ChangePathString)(s.path,{account:n,change:r}),Object.freeze(l),l}}}},{package:"@metamask/rpc-methods>@metamask/key-tree",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/key-tree/dist/BIP44CoinTypeNode.js"}],[142,{lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("lodash");var s={version:62,async migrate(e){const t=(0,r.cloneDeep)(e);t.meta.version=62;const n=function(e){if(e.MetaMetricsController){const{metaMetricsSendCount:t}=e.MetaMetricsController;t!==undefined&&delete e.MetaMetricsController.metaMetricsSendCount}return e}(t.data);return t.data=n,t}};n.default=s}}},{package:"$root$",file:"app/scripts/migrations/062.js"}],[1420,{"./SLIP10Node":1421,"./constants":1422,"./extended-keys":1433,"./utils":1435,"@metamask/utils":1444},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},i=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.validateBIP44Depth=n.BIP44Node=void 0;const o=e("@metamask/utils"),a=e("./constants"),c=e("./extended-keys"),u=e("./SLIP10Node"),l=e("./utils");class d{constructor(e){r.set(this,void 0),s(this,r,e,"f"),Object.freeze(this)}static async fromJSON(e){return d.fromExtendedKey(e)}static async fromExtendedKey(e){if("string"==typeof e){const t=(0,c.decodeExtendedKey)(e),{chainCode:n,depth:r,parentFingerprint:s,index:i}=t;if(t.version===c.PRIVATE_KEY_VERSION){const{privateKey:e}=t;return d.fromExtendedKey({depth:r,parentFingerprint:s,index:i,privateKey:e,chainCode:n})}const{publicKey:o}=t;return d.fromExtendedKey({depth:r,parentFingerprint:s,index:i,publicKey:o,chainCode:n})}const{privateKey:t,publicKey:n,chainCode:r,depth:s,parentFingerprint:i,index:o}=e;h(s);const a=await u.SLIP10Node.fromExtendedKey({privateKey:t,publicKey:n,chainCode:r,depth:s,parentFingerprint:i,index:o,curve:"secp256k1"});return new d(a)}static async fromDerivationPath({derivationPath:e}){h(e.length-1),p(e,a.MIN_BIP_44_DEPTH);const t=await u.SLIP10Node.fromDerivationPath({derivationPath:e,curve:"secp256k1"});return new d(t)}get depth(){return i(this,r,"f").depth}get privateKeyBytes(){return i(this,r,"f").privateKeyBytes}get publicKeyBytes(){return i(this,r,"f").publicKeyBytes}get chainCodeBytes(){return i(this,r,"f").chainCodeBytes}get privateKey(){return i(this,r,"f").privateKey}get publicKey(){return i(this,r,"f").publicKey}get compressedPublicKey(){return i(this,r,"f").compressedPublicKey}get compressedPublicKeyBytes(){return i(this,r,"f").compressedPublicKeyBytes}get chainCode(){return i(this,r,"f").chainCode}get address(){return i(this,r,"f").address}get masterFingerprint(){return i(this,r,"f").masterFingerprint}get parentFingerprint(){return i(this,r,"f").parentFingerprint}get fingerprint(){return i(this,r,"f").fingerprint}get index(){return i(this,r,"f").index}get extendedKey(){const e={depth:this.depth,parentFingerprint:this.parentFingerprint,index:this.index,chainCode:this.chainCodeBytes};return this.privateKeyBytes?(0,c.encodeExtendedKey)(Object.assign(Object.assign({},e),{version:c.PRIVATE_KEY_VERSION,privateKey:this.privateKeyBytes})):(0,c.encodeExtendedKey)(Object.assign(Object.assign({},e),{version:c.PUBLIC_KEY_VERSION,publicKey:this.publicKeyBytes}))}get curve(){return i(this,r,"f").curve}neuter(){const e=i(this,r,"f").neuter();return new d(e)}async derive(e){if(this.depth===a.MAX_BIP_44_DEPTH)throw new Error("Illegal operation: This HD tree node is already a leaf node.");h(this.depth+e.length),p(e,this.depth+1);const t=await i(this,r,"f").derive(e);return new d(t)}toJSON(){return{depth:this.depth,masterFingerprint:this.masterFingerprint,parentFingerprint:this.parentFingerprint,index:this.index,privateKey:this.privateKey,publicKey:this.publicKey,chainCode:this.chainCode}}}function h(e){if((0,u.validateBIP32Depth)(e),e<a.MIN_BIP_44_DEPTH||e>a.MAX_BIP_44_DEPTH)throw new Error(`Invalid HD tree path depth: The depth must be a positive integer N such that 0 <= N <= 5. Received: "${e}"`)}function p(e,t){e.forEach(((e,n)=>{const r=t+n;if(r!==a.MIN_BIP_44_DEPTH)switch((0,o.assert)("string"==typeof e),r){case 1:if(e!==a.BIP44PurposeNodeToken)throw new Error(`Invalid derivation path: The "purpose" node (depth 1) must be the string "${a.BIP44PurposeNodeToken}".`);break;case 2:if(!a.BIP_32_PATH_REGEX.test(e)||!(0,l.isHardened)(e))throw new Error('Invalid derivation path: The "coin_type" node (depth 2) must be a hardened BIP-32 node.');break;case 3:if(!a.BIP_32_PATH_REGEX.test(e)||!(0,l.isHardened)(e))throw new Error('Invalid derivation path: The "account" node (depth 3) must be a hardened BIP-32 node.');break;case 4:if(!a.BIP_32_PATH_REGEX.test(e))throw new Error('Invalid derivation path: The "change" node (depth 4) must be a BIP-32 node.');break;case a.MAX_BIP_44_DEPTH:if(!a.BIP_32_PATH_REGEX.test(e))throw new Error('Invalid derivation path: The "address_index" node (depth 5) must be a BIP-32 node.')}else if(!(e instanceof Uint8Array||a.BIP_39_PATH_REGEX.test(e)))throw new Error('Invalid derivation path: The "m" / seed node (depth 0) must be a BIP-39 node.')}))}n.BIP44Node=d,r=new WeakMap,n.validateBIP44Depth=h}}},{package:"@metamask/rpc-methods>@metamask/key-tree",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/key-tree/dist/BIP44Node.js"}],[1421,{"./constants":1422,"./curves":1425,"./derivation":1427,"./derivers/bip32":1428,"./utils":1435,"@metamask/utils":1444},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,i=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.deriveChildNode=n.validateRootIndex=n.validateMasterParentFingerprint=n.validateParentFingerprint=n.validateBIP32Depth=n.SLIP10Node=void 0;const o=e("@metamask/utils"),a=e("./constants"),c=e("./curves"),u=e("./derivation"),l=e("./derivers/bip32"),d=e("./utils");class h{constructor({depth:e,masterFingerprint:t,parentFingerprint:n,index:a,chainCode:c,privateKey:u,publicKey:l,curve:d},p){(0,o.assert)(p===i(h,r,"f",s),"SLIP10Node can only be constructed using `SLIP10Node.fromJSON`, `SLIP10Node.fromExtendedKey`, or `SLIP10Node.fromDerivationPath`."),this.depth=e,this.masterFingerprint=t,this.parentFingerprint=n,this.index=a,this.chainCodeBytes=c,this.privateKeyBytes=u,this.publicKeyBytes=l,this.curve=d,Object.freeze(this)}static async fromJSON(e){return h.fromExtendedKey(e)}static async fromExtendedKey({depth:e,masterFingerprint:t,parentFingerprint:n,index:u,privateKey:l,publicKey:y,chainCode:b,curve:w}){const v=(0,d.getBytes)(b,a.BYTES_KEY_LENGTH);(0,d.validateCurve)(w),p(e),(0,d.validateBIP32Index)(u),g(u,e),f(n,e),m(t,n,e);const k=(0,c.getCurveByName)(w);if(l){const c=(0,d.getBytesUnsafe)(l,a.BYTES_KEY_LENGTH);return(0,o.assert)(k.isValidPrivateKey(c),`Invalid private key: Value is not a valid ${w} private key.`),new h({depth:e,masterFingerprint:t,parentFingerprint:n,index:u,chainCode:v,privateKey:c,publicKey:await k.getPublicKey(c),curve:w},i(this,r,"f",s))}if(y){const o=(0,d.getBytes)(y,k.publicKeyLength);return new h({depth:e,masterFingerprint:t,parentFingerprint:n,index:u,chainCode:v,publicKey:o,curve:w},i(this,r,"f",s))}throw new Error("Invalid options: Must provide either a private key or a public key.")}static async fromDerivationPath({derivationPath:e,curve:t}){if((0,d.validateCurve)(t),!e)throw new Error("Invalid options: Must provide a derivation path.");if(0===e.length)throw new Error("Invalid derivation path: May not specify an empty derivation path.");return await(0,u.deriveKeyFromPath)({path:e,depth:e.length-1,curve:t})}get chainCode(){return(0,o.bytesToHex)(this.chainCodeBytes)}get privateKey(){return this.privateKeyBytes?(0,o.bytesToHex)(this.privateKeyBytes):undefined}get publicKey(){return(0,o.bytesToHex)(this.publicKeyBytes)}get compressedPublicKeyBytes(){return(0,c.getCurveByName)(this.curve).compressPublicKey(this.publicKeyBytes)}get compressedPublicKey(){return(0,o.bytesToHex)(this.compressedPublicKeyBytes)}get address(){if("secp256k1"!==this.curve)throw new Error("Unable to get address for this node: Only secp256k1 is supported.");return(0,o.bytesToHex)((0,l.publicKeyToEthAddress)(this.publicKeyBytes))}get fingerprint(){return(0,d.getFingerprint)(this.compressedPublicKeyBytes)}neuter(){return new h({depth:this.depth,masterFingerprint:this.masterFingerprint,parentFingerprint:this.parentFingerprint,index:this.index,chainCode:this.chainCodeBytes,publicKey:this.publicKeyBytes,curve:this.curve},i(h,r,"f",s))}async derive(e){return await y({path:e,node:this})}toJSON(){return{depth:this.depth,masterFingerprint:this.masterFingerprint,parentFingerprint:this.parentFingerprint,index:this.index,curve:this.curve,privateKey:this.privateKey,publicKey:this.publicKey,chainCode:this.chainCode}}}function p(e){if(!(0,d.isValidInteger)(e))throw new Error(`Invalid HD tree path depth: The depth must be a positive integer. Received: "${String(e)}".`)}function f(e,t){if(!(0,d.isValidInteger)(e))throw new Error(`Invalid parent fingerprint: The fingerprint must be a positive integer. Received: "${String(e)}".`);if(0===t&&0!==e)throw new Error(`Invalid parent fingerprint: The fingerprint of the root node must be 0. Received: "${String(e)}".`);if(t>0&&0===e)throw new Error(`Invalid parent fingerprint: The fingerprint of a child node must not be 0. Received: "${String(e)}".`)}function m(e,t,n){if(e&&n>=2&&e===t)throw new Error(`Invalid parent fingerprint: The fingerprint of a child node cannot be equal to the master fingerprint. Received: "${String(t)}".`)}function g(e,t){if(0===t&&0!==e)throw new Error(`Invalid index: The index of the root node must be 0. Received: "${String(e)}".`)}async function y({path:e,node:t}){if(0===e.length)throw new Error("Invalid HD tree derivation path: Deriving a path of length 0 is not defined.");const n=t.depth+e.length;return p(n),await(0,u.deriveKeyFromPath)({path:e,node:t,depth:n})}n.SLIP10Node=h,r=h,s={value:Symbol("SLIP10Node.constructor")},n.validateBIP32Depth=p,n.validateParentFingerprint=f,n.validateMasterParentFingerprint=m,n.validateRootIndex=g,n.deriveChildNode=y}}},{package:"@metamask/rpc-methods>@metamask/key-tree",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/key-tree/dist/SLIP10Node.js"}],[1422,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BIP_32_HARDENED_OFFSET=n.BIP_39_PATH_REGEX=n.SLIP_10_PATH_REGEX=n.BIP_32_PATH_REGEX=n.UNPREFIXED_BIP_32_PATH_REGEX=n.UNPREFIXED_PATH_REGEX=n.BIP44PurposeNodeToken=n.MAX_BIP_32_INDEX=n.MAX_UNHARDENED_BIP_32_INDEX=n.MAX_BIP_44_DEPTH=n.MIN_BIP_44_DEPTH=n.BYTES_KEY_LENGTH=void 0,n.BYTES_KEY_LENGTH=32,n.MIN_BIP_44_DEPTH=0,n.MAX_BIP_44_DEPTH=5,n.MAX_UNHARDENED_BIP_32_INDEX=2147483647,n.MAX_BIP_32_INDEX=4294967295,n.BIP44PurposeNodeToken="bip32:44'",n.UNPREFIXED_PATH_REGEX=/^\d+$/u,n.UNPREFIXED_BIP_32_PATH_REGEX=/^(?<index>\d+)'?$/u,n.BIP_32_PATH_REGEX=/^bip32:\d+'?$/u,n.SLIP_10_PATH_REGEX=/^slip10:\d+'?$/u,n.BIP_39_PATH_REGEX=/^bip39:([a-z]+){1}( [a-z]+){11,23}$/u,n.BIP_32_HARDENED_OFFSET=2147483648}}},{package:"@metamask/rpc-methods>@metamask/key-tree",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/key-tree/dist/constants.js"}],[1423,{"./ed25519":1424,"./secp256k1":1426,"@noble/secp256k1":1623},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.mod=n.getCurveByName=n.curves=void 0;const o=e("@noble/secp256k1"),a=i(e("./ed25519")),c=i(e("./secp256k1"));n.curves={secp256k1:c,ed25519:a},n.getCurveByName=function(e){return n.curves[e]},n.mod=o.utils.mod}}},{package:"@metamask/rpc-methods>@metamask/key-tree",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/key-tree/dist/curves/curve.js"}],[1424,{"@metamask/utils":1444,"@noble/ed25519":1612},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.decompressPublicKey=n.compressPublicKey=n.publicAdd=n.getPublicKey=n.publicKeyLength=n.deriveUnhardenedKeys=n.isValidPrivateKey=n.secret=n.name=n.curve=void 0;const r=e("@metamask/utils"),s=e("@noble/ed25519");var i=e("@noble/ed25519");Object.defineProperty(n,"curve",{enumerable:!0,get:function(){return i.CURVE}}),n.name="ed25519",n.secret=(0,r.stringToBytes)("ed25519 seed");n.isValidPrivateKey=e=>!0,n.deriveUnhardenedKeys=!1,n.publicKeyLength=33;n.getPublicKey=async(e,t)=>{const n=await(0,s.getPublicKey)(e);return(0,r.concatBytes)([new Uint8Array([0]),n])};n.publicAdd=(e,t)=>{throw new Error("Ed25519 does not support public key derivation.")};n.compressPublicKey=e=>e;n.decompressPublicKey=e=>e}}},{package:"@metamask/rpc-methods>@metamask/key-tree",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/key-tree/dist/curves/ed25519.js"}],[1425,{"./curve":1423,"./ed25519":1424,"./secp256k1":1426},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.ed25519=n.secp256k1=void 0,i(e("./curve"),n),n.secp256k1=o(e("./secp256k1")),n.ed25519=o(e("./ed25519"))}}},{package:"@metamask/rpc-methods>@metamask/key-tree",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/key-tree/dist/curves/index.js"}],[1426,{"../utils":1435,"@metamask/utils":1444,"@noble/secp256k1":1623},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.decompressPublicKey=n.compressPublicKey=n.publicAdd=n.getPublicKey=n.isValidPrivateKey=n.publicKeyLength=n.deriveUnhardenedKeys=n.secret=n.name=n.curve=void 0;const r=e("@metamask/utils"),s=e("@noble/secp256k1"),i=e("../utils");var o=e("@noble/secp256k1");Object.defineProperty(n,"curve",{enumerable:!0,get:function(){return o.CURVE}}),n.name="secp256k1",n.secret=(0,r.stringToBytes)("Bitcoin seed"),n.deriveUnhardenedKeys=!0,n.publicKeyLength=65;n.isValidPrivateKey=e=>s.utils.isValidPrivateKey(e);n.getPublicKey=(e,t)=>(0,s.getPublicKey)(e,t);n.publicAdd=(e,t)=>{(0,r.assert)((0,i.isValidBytesKey)(t,32),"Invalid tweak: Tweak must be a non-zero 32-byte Uint8Array.");const n=s.Point.fromHex(e).add(s.Point.fromPrivateKey(t));return n.assertValidity(),n.toRawBytes(!1)};n.compressPublicKey=e=>s.Point.fromHex(e).toRawBytes(!0);n.decompressPublicKey=e=>s.Point.fromHex(e).toRawBytes(!1)}}},{package:"@metamask/rpc-methods>@metamask/key-tree",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/key-tree/dist/curves/secp256k1.js"}],[1427,{"./BIP44CoinTypeNode":1419,"./BIP44Node":1420,"./SLIP10Node":1421,"./constants":1422,"./curves":1425,"./derivers":1430,"@metamask/utils":1444},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validatePathSegment=n.deriveKeyFromPath=void 0;const r=e("@metamask/utils"),s=e("./BIP44CoinTypeNode"),i=e("./BIP44Node"),o=e("./constants"),a=e("./curves"),c=e("./derivers"),u=e("./SLIP10Node");function l(e,t,n){if(0===e.length)throw new Error("Invalid HD path segment: The segment must not be empty.");let s=!1;if(e.forEach(((e,t)=>{if(0===t){if(s=e instanceof Uint8Array||o.BIP_39_PATH_REGEX.test(e),!(e instanceof Uint8Array||s||o.BIP_32_PATH_REGEX.test(e)||o.SLIP_10_PATH_REGEX.test(e)))throw d()}else if(e instanceof Uint8Array||!o.BIP_32_PATH_REGEX.test(e)&&!o.SLIP_10_PATH_REGEX.test(e))throw d()})),n===o.MIN_BIP_44_DEPTH&&(!s||1!==e.length))throw new Error(`Invalid HD path segment: The segment must consist of a single BIP-39 node for depths of ${o.MIN_BIP_44_DEPTH}. Received: "${String(e)}".`);if(!t&&!s)throw new Error("Invalid derivation parameters: Must specify parent key if the first node of the path segment is not a BIP-39 node.");if(t&&s)throw new Error("Invalid derivation parameters: May not specify parent key if the path segment starts with a BIP-39 node.");const i=s?e.slice(1):e;if(i.length>0){const e=i[0].split(":")[0];(0,r.assert)(i.every((t=>t.startsWith(`${e}:`))),"Invalid HD path segment: Cannot mix 'bip32' and 'slip10' path segments.")}}function d(){return new Error("Invalid HD path segment: The path segment is malformed.")}n.deriveKeyFromPath=async function(e){const{path:t,depth:n=t.length}=e,o="node"in e?e.node:undefined,h="curve"in e?e.curve:null==o?void 0:o.curve;if(o&&!(o instanceof u.SLIP10Node)&&!(o instanceof i.BIP44Node)&&!(o instanceof s.BIP44CoinTypeNode))throw new Error("Invalid arguments: Node must be a SLIP-10 node or a BIP-44 node when provided.");if(!h)throw new Error("Invalid arguments: Must specify either a parent node or curve.");return l(t,Boolean(null==o?void 0:o.privateKey)||Boolean(null==o?void 0:o.publicKey),n),await t.reduce((async(e,t,n)=>{const s=await e;if("string"==typeof t){const[e,n]=t.split(":");(0,r.assert)(function(e){return e in c.derivers}(e),`Unknown derivation type: "${e}".`);const i=c.derivers[e];return await i.deriveChildKey({path:n,node:s,curve:(0,a.getCurveByName)(h)})}return(0,r.assert)(0===n,d()),await c.derivers.bip39.deriveChildKey({path:t,node:s,curve:(0,a.getCurveByName)(h)})}),Promise.resolve(o))},n.validatePathSegment=l}}},{package:"@metamask/rpc-methods>@metamask/key-tree",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/key-tree/dist/derivation.js"}],[1428,{"../constants":1422,"../curves":1425,"../utils":1435,"./shared":1431,"@metamask/utils":1444,"@noble/hashes/sha3":1620},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.deriveChildKey=n.publicKeyToEthAddress=n.privateKeyToEthAddress=void 0;const r=e("@metamask/utils"),s=e("@noble/hashes/sha3"),i=e("../constants"),o=e("../curves"),a=e("../utils"),c=e("./shared");function u(e){return(0,r.assert)(e instanceof Uint8Array&&(0,a.isValidBytesKey)(e,o.secp256k1.publicKeyLength),"Invalid key: The key must be a 65-byte, non-zero Uint8Array."),(0,s.keccak_256)(e.slice(1)).slice(-20)}async function l(e,t){const{childIndex:n,privateKey:r,publicKey:s,isHardened:i,curve:o,chainCode:u}=t;if((0,a.validateBIP32Index)(n+1),r){const e=await(0,c.deriveSecretExtension)({privateKey:r,childIndex:n+1,isHardened:i,curve:o}),s=(0,c.generateEntropy)({chainCode:u,extension:e});return Object.assign(Object.assign({},t),{childIndex:n+1,entropy:s})}const l=(0,c.derivePublicExtension)({parentPublicKey:s,childIndex:n+1}),d=(0,c.generateEntropy)({chainCode:u,extension:l});return Object.assign(Object.assign({},t),{childIndex:n+1,entropy:d})}n.privateKeyToEthAddress=function(e){return(0,r.assert)(e instanceof Uint8Array&&(0,a.isValidBytesKey)(e,i.BYTES_KEY_LENGTH),"Invalid key: The key must be a 32-byte, non-zero Uint8Array."),u(o.secp256k1.getPublicKey(e,!1))},n.publicKeyToEthAddress=u,n.deriveChildKey=async function(e){return(0,r.assert)("secp256k1"===e.curve.name,"Invalid curve: Only secp256k1 is supported by BIP-32."),(0,c.deriveChildKey)(e,l)}}}},{package:"@metamask/rpc-methods>@metamask/key-tree",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/key-tree/dist/derivers/bip32.js"}],[1429,{"../SLIP10Node":1421,"../constants":1422,"../utils":1435,"@metamask/scure-bip39":1457,"@metamask/scure-bip39/dist/wordlists/english":1458,"@metamask/utils":1444,"@noble/hashes/hmac":1617,"@noble/hashes/sha512":1621},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createBip39KeyFromSeed=n.deriveChildKey=n.bip39MnemonicToMultipath=void 0;const r=e("@metamask/scure-bip39"),s=e("@metamask/scure-bip39/dist/wordlists/english"),i=e("@metamask/utils"),o=e("@noble/hashes/hmac"),a=e("@noble/hashes/sha512"),c=e("../constants"),u=e("../SLIP10Node"),l=e("../utils");async function d(e,t){(0,i.assert)(e.length>=16&&e.length<=64,"Invalid seed: The seed must be between 16 and 64 bytes long.");const n=(0,o.hmac)(a.sha512,t.secret,e),r=n.slice(0,c.BYTES_KEY_LENGTH),s=n.slice(c.BYTES_KEY_LENGTH);(0,i.assert)(t.isValidPrivateKey(r),"Invalid private key: The private key must greater than 0 and less than the curve order.");const d=(0,l.getFingerprint)(await t.getPublicKey(r,!0));return u.SLIP10Node.fromExtendedKey({privateKey:r,chainCode:s,masterFingerprint:d,depth:0,parentFingerprint:0,index:0,curve:t.name})}n.bip39MnemonicToMultipath=function(e){return`bip39:${e.toLowerCase().trim()}`},n.deriveChildKey=async function({path:e,curve:t}){return d(await(0,r.mnemonicToSeed)(e,s.wordlist),t)},n.createBip39KeyFromSeed=d}}},{package:"@metamask/rpc-methods>@metamask/key-tree",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/key-tree/dist/derivers/bip39.js"}],[143,{lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("lodash");var s={version:63,async migrate(e){const t=(0,r.cloneDeep)(e);t.meta.version=63;const n=function(e){var t,n,r,s,i,o,a,c;const u=null==e||null===(t=e.PreferencesController)||void 0===t?void 0:t.accountTokens,l=null==e||null===(n=e.PreferencesController)||void 0===n?void 0:n.accountHiddenTokens,d={};u&&Object.keys(u).forEach((e=>{Object.keys(u[e]).forEach((t=>{const n=u[e][t];d[t]===undefined?d[t]={[e]:n}:d[t]={...d[t],[e]:n}}))}));const h={};l&&Object.keys(l).forEach((e=>{Object.keys(l[e]).forEach((t=>{const n=l[e][t];h[t]===undefined?h[t]={[e]:n}:h[t]={...h[t],[e]:n}}))}));e.TokensController?(e.TokensController.allTokens=d,e.TokensController.allIgnoredTokens=h):e.TokensController={allTokens:d,allIgnoredTokens:h};return null==e||(null===(r=e.PreferencesController)||void 0===r||delete r.accountHiddenTokens),null==e||null===(s=e.PreferencesController)||void 0===s||delete s.accountTokens,null==e||null===(i=e.PreferencesController)||void 0===i||delete i.assetImages,null==e||null===(o=e.PreferencesController)||void 0===o||delete o.hiddenTokens,null==e||null===(a=e.PreferencesController)||void 0===a||delete a.tokens,null==e||null===(c=e.PreferencesController)||void 0===c||delete c.suggestedTokens,e}(t.data);return t.data=n,t}};n.default=s}}},{package:"$root$",file:"app/scripts/migrations/063.js"}],[1430,{"./bip32":1428,"./bip39":1429,"./slip10":1432},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.derivers=void 0;const o=i(e("./bip32")),a=i(e("./bip39")),c=i(e("./slip10"));n.derivers={bip32:o,bip39:a,slip10:c}}}},{package:"@metamask/rpc-methods>@metamask/key-tree",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/key-tree/dist/derivers/index.js"}],[1431,{"../SLIP10Node":1421,"../constants":1422,"../curves":1425,"../utils":1435,"@metamask/utils":1444,"@noble/hashes/hmac":1617,"@noble/hashes/sha512":1621},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateNode=n.generateEntropy=n.privateAdd=n.derivePublicChildKey=n.derivePublicExtension=n.deriveSecretExtension=n.deriveChildKey=void 0;const r=e("@metamask/utils"),s=e("@noble/hashes/hmac"),i=e("@noble/hashes/sha512"),o=e("../constants"),a=e("../curves"),c=e("../SLIP10Node"),u=e("../utils");async function l(e,t){const{privateKey:n,publicKey:r,entropy:s,childIndex:i,isHardened:a,depth:u,parentFingerprint:d,masterFingerprint:h,curve:m}=e;try{return n?await async function({entropy:e,privateKey:t,depth:n,masterFingerprint:r,parentFingerprint:s,childIndex:i,isHardened:a,curve:u}){const l=i+(a?o.BIP_32_HARDENED_OFFSET:0),{privateKey:d,chainCode:h}=await async function({privateKey:e,entropy:t,curve:n}){const r=t.slice(0,32),s=t.slice(32);if("ed25519"===n.name){return{privateKey:r,publicKey:await n.getPublicKey(r),chainCode:s}}const i=f(e,r,n),o=await n.getPublicKey(i);return{privateKey:i,publicKey:o,chainCode:s}}({privateKey:t,entropy:e,curve:u});return await c.SLIP10Node.fromExtendedKey({privateKey:d,chainCode:h,depth:n+1,masterFingerprint:r,parentFingerprint:s,index:l,curve:u.name})}({entropy:s,privateKey:n,depth:u,masterFingerprint:h,parentFingerprint:d,childIndex:i,isHardened:a,curve:m}):await p({entropy:s,publicKey:r,depth:u,masterFingerprint:h,parentFingerprint:d,childIndex:i,curve:m})}catch(n){return await l(await t(n,e),t)}}async function d({privateKey:e,childIndex:t,isHardened:n,curve:s}){if(n)return(0,r.concatBytes)([new Uint8Array([0]),e,(0,u.numberToUint32)(t+o.BIP_32_HARDENED_OFFSET)]);return h({parentPublicKey:await s.getPublicKey(e,!0),childIndex:t})}function h({parentPublicKey:e,childIndex:t}){return(0,r.concatBytes)([e,(0,u.numberToUint32)(t)])}async function p({entropy:e,publicKey:t,depth:n,masterFingerprint:r,parentFingerprint:s,childIndex:i,curve:o}){const{publicKey:a,chainCode:u}=function({publicKey:e,entropy:t,curve:n}){const r=t.slice(0,32),s=t.slice(32);return{publicKey:n.publicAdd(e,r),chainCode:s}}({publicKey:t,entropy:e,curve:o});return await c.SLIP10Node.fromExtendedKey({publicKey:a,chainCode:u,depth:n+1,masterFingerprint:r,parentFingerprint:s,index:i,curve:o.name})}function f(e,t,n){(0,r.assert)((0,u.isValidBytesKey)(t,32),"Invalid tweak: Tweak must be a non-zero 32-byte Uint8Array.");const s=(0,r.bytesToBigInt)(e),i=(0,r.bytesToBigInt)(t);if(i>=n.curve.n)throw new Error("Invalid tweak: Tweak is larger than the curve order.");const o=(0,a.mod)(s+i,n.curve.n),c=(0,r.hexToBytes)(o.toString(16).padStart(64,"0"));if(!n.isValidPrivateKey(c))throw new Error("Invalid private key or tweak: The resulting private key is invalid.");return c}function m({chainCode:e,extension:t}){return(0,s.hmac)(i.sha512,e,t)}function g(e){(0,r.assert)(e,"Invalid parameters: Must specify a node to derive from.")}n.deriveChildKey=async function({path:e,node:t,curve:n},s){g(t);const{childIndex:i,isHardened:a}=function(e,t,n){!function(e,t,n){(0,r.assert)("string"==typeof e,"Invalid path: Must be a string.");const s=e.endsWith("'");(0,r.assert)(!s||t.privateKey,"Invalid parameters: Cannot derive hardened child keys without a private key."),(0,r.assert)(s||n.deriveUnhardenedKeys,`Invalid path: Cannot derive unhardened child keys with ${n.name}.`)}(e,t,n);const s=e.split("'")[0],i=parseInt(s,10);if(!o.UNPREFIXED_PATH_REGEX.test(s)||!Number.isInteger(i)||i<0||i>=o.BIP_32_HARDENED_OFFSET)throw new Error(`Invalid path: The index must be a non-negative decimal integer less than ${o.BIP_32_HARDENED_OFFSET}.`);return{childIndex:i,isHardened:e.includes("'")}}(e,t,n),c={chainCode:t.chainCodeBytes,childIndex:i,isHardened:a,depth:t.depth,parentFingerprint:t.fingerprint,masterFingerprint:t.masterFingerprint,curve:n};if(t.privateKeyBytes){const e=await d({privateKey:t.privateKeyBytes,childIndex:i,isHardened:a,curve:n}),r=m({chainCode:t.chainCodeBytes,extension:e});return await l(Object.assign({privateKey:t.privateKeyBytes,entropy:r},c),s)}const u=h({parentPublicKey:t.compressedPublicKeyBytes,childIndex:i}),p=m({chainCode:t.chainCodeBytes,extension:u});return await l(Object.assign({publicKey:t.compressedPublicKeyBytes,entropy:p},c),s)},n.deriveSecretExtension=d,n.derivePublicExtension=h,n.derivePublicChildKey=p,n.privateAdd=f,n.generateEntropy=m,n.validateNode=g}}},{package:"@metamask/rpc-methods>@metamask/key-tree",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/key-tree/dist/derivers/shared.js"}],[1432,{"../constants":1422,"../utils":1435,"./shared":1431,"@metamask/utils":1444},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.deriveChildKey=void 0;const r=e("@metamask/utils"),s=e("../constants"),i=e("../utils"),o=e("./shared");async function a(e,t){const{curve:n,isHardened:a,childIndex:c,entropy:u,chainCode:l}=t;if("ed25519"===n.name)throw e;const d=a?c+s.BIP_32_HARDENED_OFFSET:c,h=(0,o.generateEntropy)({chainCode:l,extension:(0,r.concatBytes)([1,u.slice(32,64),(0,i.numberToUint32)(d)])});return Object.assign(Object.assign({},t),{entropy:h})}n.deriveChildKey=async function(e){return await(0,o.deriveChildKey)(e,a)}}}},{package:"@metamask/rpc-methods>@metamask/key-tree",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/key-tree/dist/derivers/slip10.js"}],[1433,{"./BIP44Node":1420,"./curves/secp256k1":1426,"./utils":1435,"@metamask/utils":1444},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.encodeExtendedKey=n.decodeExtendedKey=n.PRIVATE_KEY_VERSION=n.PUBLIC_KEY_VERSION=void 0;const r=e("@metamask/utils"),s=e("./BIP44Node"),i=e("./curves/secp256k1"),o=e("./utils");n.PUBLIC_KEY_VERSION=76067358,n.PRIVATE_KEY_VERSION=76066276;n.decodeExtendedKey=e=>{const t=(0,o.decodeBase58check)(e);if(78!==t.length)throw new Error(`Invalid extended key: Expected a length of 78, got ${t.length}.`);const a=(0,r.createDataView)(t),c=a.getUint32(0,!1),u=a.getUint8(4);(0,s.validateBIP44Depth)(u);const l=a.getUint32(5,!1),d=a.getUint32(9,!1),h=t.slice(13,45);if(!(0,o.isValidBytesKey)(h,32))throw new Error("Invalid extended key: Chain code must be a 32-byte non-zero byte array.");const p=t.slice(45,78);if(!(0,o.isValidBytesKey)(p,33))throw new Error("Invalid extended key: Key must be a 33-byte non-zero byte array.");const f=(0,r.createDataView)(p);if(c===n.PUBLIC_KEY_VERSION){if(2!==f.getUint8(0)&&3!==f.getUint8(0))throw new Error("Invalid extended key: Public key must start with 0x02 or 0x03.");return{version:c,depth:u,parentFingerprint:l,index:d,chainCode:h,publicKey:(0,i.decompressPublicKey)(p)}}if(c===n.PRIVATE_KEY_VERSION){if(0!==f.getUint8(0))throw new Error("Invalid extended key: Private key must start with 0x00.");return{version:c,depth:u,parentFingerprint:l,index:d,chainCode:h,privateKey:p.slice(1)}}throw new Error("Invalid extended key: Expected a public (xpub) or private key (xprv) version.")};n.encodeExtendedKey=e=>{const{version:t,depth:s,parentFingerprint:a,index:c,chainCode:u}=e,l=new Uint8Array(78),d=(0,r.createDataView)(l);if(d.setUint32(0,t,!1),d.setUint8(4,s),d.setUint32(5,a,!1),d.setUint32(9,c,!1),l.set(u,13),e.version===n.PUBLIC_KEY_VERSION){const{publicKey:t}=e,n=(0,i.compressPublicKey)(t);l.set(n,45)}if(e.version===n.PRIVATE_KEY_VERSION){const{privateKey:t}=e;l.set(t,46)}return(0,o.encodeBase58check)(l)}}}},{package:"@metamask/rpc-methods>@metamask/key-tree",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/key-tree/dist/extended-keys.js"}],[1434,{"./BIP44CoinTypeNode":1419,"./BIP44Node":1420,"./SLIP10Node":1421,"./constants":1422,"./curves":1425,"./utils":1435},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.isValidBIP32PathSegment=n.getBIP44AddressKeyDeriver=n.deriveBIP44AddressKey=n.BIP_44_COIN_TYPE_DEPTH=n.BIP44CoinTypeNode=n.ed25519=n.secp256k1=n.SLIP10Node=n.BIP44Node=void 0;var i=e("./BIP44Node");Object.defineProperty(n,"BIP44Node",{enumerable:!0,get:function(){return i.BIP44Node}});var o=e("./SLIP10Node");Object.defineProperty(n,"SLIP10Node",{enumerable:!0,get:function(){return o.SLIP10Node}});var a=e("./curves");Object.defineProperty(n,"secp256k1",{enumerable:!0,get:function(){return a.secp256k1}}),Object.defineProperty(n,"ed25519",{enumerable:!0,get:function(){return a.ed25519}});var c=e("./BIP44CoinTypeNode");Object.defineProperty(n,"BIP44CoinTypeNode",{enumerable:!0,get:function(){return c.BIP44CoinTypeNode}}),Object.defineProperty(n,"BIP_44_COIN_TYPE_DEPTH",{enumerable:!0,get:function(){return c.BIP_44_COIN_TYPE_DEPTH}}),Object.defineProperty(n,"deriveBIP44AddressKey",{enumerable:!0,get:function(){return c.deriveBIP44AddressKey}}),Object.defineProperty(n,"getBIP44AddressKeyDeriver",{enumerable:!0,get:function(){return c.getBIP44AddressKeyDeriver}}),s(e("./constants"),n);var u=e("./utils");Object.defineProperty(n,"isValidBIP32PathSegment",{enumerable:!0,get:function(){return u.isValidBIP32PathSegment}})}}},{package:"@metamask/rpc-methods>@metamask/key-tree",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/key-tree/dist/index.js"}],[1435,{"./constants":1422,"./curves":1425,"@metamask/scure-bip39/dist/wordlists/english":1458,"@metamask/utils":1444,"@noble/hashes/ripemd160":1618,"@noble/hashes/sha256":1619,"@scure/base":1639},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.numberToUint32=n.validateCurve=n.mnemonicPhraseToBytes=n.getFingerprint=n.encodeBase58check=n.decodeBase58check=n.getBytesUnsafe=n.getBytes=n.isValidInteger=n.isValidBytesKey=n.nullableHexStringToBytes=n.hexStringToBytes=n.isHardened=n.isValidBIP32PathSegment=n.isValidBIP32Index=n.validateBIP32Index=n.getBIP32NodeToken=n.getUnhardenedBIP32NodeToken=n.getHardenedBIP32NodeToken=n.getBIP44CoinTypeToAddressPathTuple=n.getBIP44ChangePathString=n.getBIP44CoinTypePathString=void 0;const r=e("@metamask/scure-bip39/dist/wordlists/english"),s=e("@metamask/utils"),i=e("@noble/hashes/ripemd160"),o=e("@noble/hashes/sha256"),a=e("@scure/base"),c=e("./constants"),u=e("./curves");function l(e){return p(e),`${d(e)}'`}function d(e){return p(e),`bip32:${e}`}function h(e){if("number"==typeof e)return d(e);if(!e||!Number.isInteger(e.index)||"boolean"!=typeof e.hardened)throw new Error("Invalid BIP-32 index: Must be an object containing the index and whether it is hardened.");return e.hardened?l(e.index):d(e.index)}function p(e){if(!f(e))throw new Error("Invalid BIP-32 index: Must be a non-negative integer.")}function f(e){return y(e)&&e<=c.MAX_BIP_32_INDEX}function m(e){return e instanceof Uint8Array?e:(0,s.hexToBytes)(e)}function g(e,t){if(e.length!==t)return!1;for(const t of e)if(0!==t)return!0;return!1}function y(e){return"number"==typeof e&&Number.isInteger(e)&&e>=0}function b(e,t){if(!g(e,t))throw new Error(`Invalid value: Must be a non-zero ${t}-byte byte array.`)}n.getBIP44CoinTypePathString=function(e){return`m / ${c.BIP44PurposeNodeToken} / ${l(e)}`},n.getBIP44ChangePathString=function(e,t){var n,r;return`${e} / ${l(null!==(n=t.account)&&void 0!==n?n:0)} / ${h(null!==(r=t.change)&&void 0!==r?r:0)}`},n.getBIP44CoinTypeToAddressPathTuple=function({account:e=0,change:t=0,address_index:n}){return[l(e),h(t),h(n)]},n.getHardenedBIP32NodeToken=l,n.getUnhardenedBIP32NodeToken=d,n.getBIP32NodeToken=h,n.validateBIP32Index=p,n.isValidBIP32Index=f,n.isValidBIP32PathSegment=function(e){if("string"!=typeof e)return!1;const t=e.match(c.UNPREFIXED_BIP_32_PATH_REGEX);if(!(null==t?void 0:t.groups))return!1;const n=parseInt(t.groups.index,10);return y(n)&&n<=c.MAX_UNHARDENED_BIP_32_INDEX},n.isHardened=function(e){return e.endsWith("'")},n.hexStringToBytes=m,n.nullableHexStringToBytes=function(e){return e!==undefined?m(e):undefined},n.isValidBytesKey=g,n.isValidInteger=y,n.getBytes=function(e,t){if(e instanceof Uint8Array)return b(e,t),e;if("string"==typeof e){const n=(0,s.hexToBytes)(e);return b(n,t),n}throw new Error("Invalid value: Expected an instance of Uint8Array or hexadecimal string.")},n.getBytesUnsafe=function e(t,n){if(t instanceof Uint8Array)return(0,s.assert)(t.length===n,`Invalid value: Must be a ${n}-byte byte array.`),t;if("string"==typeof t)return e((0,s.hexToBytes)(t),n);throw new Error("Invalid value: Expected an instance of Uint8Array or hexadecimal string.")};n.decodeBase58check=e=>{const t=(0,a.base58check)(o.sha256);try{return t.decode(e)}catch(e){throw new Error("Invalid extended key: Value is not base58-encoded, or the checksum is invalid.")}};n.encodeBase58check=e=>(0,a.base58check)(o.sha256).encode(e);n.getFingerprint=e=>{if(!g(e,33))throw new Error("Invalid public key: The key must be a 33-byte, non-zero byte array.");const t=(0,i.ripemd160)((0,o.sha256)(e));return(0,s.createDataView)(t).getUint32(0,!1)},n.mnemonicPhraseToBytes=function(e){const t=e.split(" ").map((e=>{const t=r.wordlist.indexOf(e);return(0,s.assert)(-1!==t,`Invalid mnemonic phrase: Unknown word "${e}".`),t}));return new Uint8Array(new Uint16Array(t).buffer)},n.validateCurve=function(e){if(!e||"string"!=typeof e)throw new Error("Invalid curve: Must specify a curve.");if(!Object.keys(u.curves).includes(e))throw new Error(`Invalid curve: Only the following curves are supported: ${Object.keys(u.curves).join(", ")}.`)},n.numberToUint32=function(e){const t=new Uint8Array(4);return(0,s.createDataView)(t).setUint32(0,e,!1),t}}}},{package:"@metamask/rpc-methods>@metamask/key-tree",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/key-tree/dist/utils.js"}],[1436,{superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.assertExhaustive=n.assertStruct=n.assert=n.AssertionError=void 0;const r=e("superstruct");function s(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class i extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}n.AssertionError=i,n.assert=function(e,t="Assertion failed.",n=i){if(!e){if(t instanceof Error)throw t;throw s(n,t)}},n.assertStruct=function(e,t,n="Assertion failed",o=i){try{(0,r.assert)(e,t)}catch(e){throw s(o,`${n}: ${function(e){const t=function(e){return"object"==typeof e&&null!==e&&"message"in e}(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}(e)}.`)}},n.assertExhaustive=function(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}}}},{package:"@metamask/rpc-methods>@metamask/utils",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/utils/dist/assert.js"}],[1437,{"./assert":1436,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.base64=void 0;const r=e("superstruct"),s=e("./assert");n.base64=(e,t={})=>{const n=t.paddingRequired??!1,i=t.characterSet??"base64";let o,a;return"base64"===i?o=String.raw`[A-Za-z0-9+\/]`:((0,s.assert)("base64url"===i),o=String.raw`[-_A-Za-z0-9]`),a=n?new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,r.pattern)(e,a)}}}},{package:"@metamask/rpc-methods>@metamask/utils",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/utils/dist/base64.js"}],[1438,{"./assert":1436,"./hex":1443,buffer:2426},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.createDataView=n.concatBytes=n.valueToBytes=n.stringToBytes=n.numberToBytes=n.signedBigIntToBytes=n.bigIntToBytes=n.hexToBytes=n.bytesToString=n.bytesToNumber=n.bytesToSignedBigInt=n.bytesToBigInt=n.bytesToHex=n.assertIsBytes=n.isBytes=void 0;const r=e("./assert"),s=e("./hex"),i=48,o=58,a=87;const c=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function u(e){return e instanceof Uint8Array}function l(e){(0,r.assert)(u(e),"Value must be a Uint8Array.")}function d(e){if(l(e),0===e.length)return"0x";const t=c(),n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t[e[r]];return(0,s.add0x)(n.join(""))}function h(e){l(e);const t=d(e);return BigInt(t)}function p(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;(0,s.assertIsHexString)(e);const t=(0,s.remove0x)(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=n.charCodeAt(2*e),s=n.charCodeAt(2*e+1),c=t-(t<o?i:a),u=s-(s<o?i:a);r[e]=16*c+u}return r}function f(e){(0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");return p(e.toString(16))}function m(e){(0,r.assert)("number"==typeof e,"Value must be a number."),(0,r.assert)(e>=0,"Value must be a non-negative number."),(0,r.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");return p(e.toString(16))}function g(e){return(0,r.assert)("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function y(e){if("bigint"==typeof e)return f(e);if("number"==typeof e)return m(e);if("string"==typeof e)return e.startsWith("0x")?p(e):g(e);if(u(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}n.isBytes=u,n.assertIsBytes=l,n.bytesToHex=d,n.bytesToBigInt=h,n.bytesToSignedBigInt=function(e){l(e);let t=BigInt(0);for(const n of e)t=(t<<BigInt(8))+BigInt(n);return BigInt.asIntN(8*e.length,t)},n.bytesToNumber=function(e){l(e);const t=h(e);return(0,r.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},n.bytesToString=function(e){return l(e),(new TextDecoder).decode(e)},n.hexToBytes=p,n.bigIntToBytes=f,n.signedBigIntToBytes=function(e,t){(0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)("number"==typeof t,"Byte length must be a number."),(0,r.assert)(t>0,"Byte length must be greater than 0."),(0,r.assert)(function(e,t){(0,r.assert)(t>0);const n=e>>BigInt(31);return!((~e&n)+(e&~n)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let n=e;const s=new Uint8Array(t);for(let e=0;e<s.length;e++)s[e]=Number(BigInt.asUintN(8,n)),n>>=BigInt(8);return s.reverse()},n.numberToBytes=m,n.stringToBytes=g,n.valueToBytes=y,n.concatBytes=function(e){const t=new Array(e.length);let n=0;for(let r=0;r<e.length;r++){const s=y(e[r]);t[r]=s,n+=s.length}const r=new Uint8Array(n);for(let e=0,n=0;e<t.length;e++)r.set(t[e],n),n+=t[e].length;return r},n.createDataView=function(e){if(void 0!==t&&e instanceof t){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/rpc-methods>@metamask/utils",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/utils/dist/bytes.js"}],[1439,{"./base64":1437,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ChecksumStruct=void 0;const r=e("superstruct"),s=e("./base64");n.ChecksumStruct=(0,r.size)((0,s.base64)((0,r.string)(),{paddingRequired:!0}),44,44)}}},{package:"@metamask/rpc-methods>@metamask/utils",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/utils/dist/checksum.js"}],[144,{"../../../shared/constants/transaction":4029,lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("lodash"),s=e("../../../shared/constants/transaction");const i="sentEther";var o={version:64,async migrate(e){const t=(0,r.cloneDeep)(e);t.meta.version=64;const n=function(e){var t;const n=null==e||null===(t=e.TransactionController)||void 0===t?void 0:t.transactions;if((0,r.isPlainObject)(n))for(const e of Object.values(n))e.type===i&&(e.type=s.TransactionType.simpleSend),e.history&&e.history.map((e=>(e.type&&e.type===i&&(e.type=s.TransactionType.simpleSend),e)));return e}(t.data);return t.data=n,t}};n.default=o}}},{package:"$root$",file:"app/scripts/migrations/064.js"}],[1440,{"./assert":1436,"./bytes":1438,"./hex":1443,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createHex=n.createBytes=n.createBigInt=n.createNumber=void 0;const r=e("superstruct"),s=e("./assert"),i=e("./bytes"),o=e("./hex"),a=(0,r.union)([(0,r.number)(),(0,r.bigint)(),(0,r.string)(),o.StrictHexStruct]),c=(0,r.coerce)((0,r.number)(),a,Number),u=(0,r.coerce)((0,r.bigint)(),a,BigInt),l=((0,r.union)([o.StrictHexStruct,(0,r.instance)(Uint8Array)]),(0,r.coerce)((0,r.instance)(Uint8Array),(0,r.union)([o.StrictHexStruct]),i.hexToBytes)),d=(0,r.coerce)(o.StrictHexStruct,(0,r.instance)(Uint8Array),i.bytesToHex);n.createNumber=function(e){try{const t=(0,r.create)(e,c);return(0,s.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof r.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}},n.createBigInt=function(e){try{return(0,r.create)(e,u)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}},n.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,r.create)(e,l)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}},n.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,r.create)(e,d)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}}}},{package:"@metamask/rpc-methods>@metamask/utils",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/utils/dist/coercers.js"}],[1441,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,i=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},o=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.FrozenSet=n.FrozenMap=void 0;class a{constructor(e){r.set(this,void 0),i(this,r,new Map(e),"f"),Object.freeze(this)}get size(){return o(this,r,"f").size}[(r=new WeakMap,Symbol.iterator)](){return o(this,r,"f")[Symbol.iterator]()}entries(){return o(this,r,"f").entries()}forEach(e,t){return o(this,r,"f").forEach(((n,r,s)=>e.call(t,n,r,this)))}get(e){return o(this,r,"f").get(e)}has(e){return o(this,r,"f").has(e)}keys(){return o(this,r,"f").keys()}values(){return o(this,r,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map((([e,t])=>`${String(e)} => ${String(t)}`)).join(", ")} `:""}}`}}n.FrozenMap=a;class c{constructor(e){s.set(this,void 0),i(this,s,new Set(e),"f"),Object.freeze(this)}get size(){return o(this,s,"f").size}[(s=new WeakMap,Symbol.iterator)](){return o(this,s,"f")[Symbol.iterator]()}entries(){return o(this,s,"f").entries()}forEach(e,t){return o(this,s,"f").forEach(((n,r,s)=>e.call(t,n,r,this)))}has(e){return o(this,s,"f").has(e)}keys(){return o(this,s,"f").keys()}values(){return o(this,s,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map((e=>String(e))).join(", ")} `:""}}`}}n.FrozenSet=c,Object.freeze(a),Object.freeze(a.prototype),Object.freeze(c),Object.freeze(c.prototype)}}},{package:"@metamask/rpc-methods>@metamask/utils",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/utils/dist/collections.js"}],[1442,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/rpc-methods>@metamask/utils",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/utils/dist/encryption-types.js"}],[1443,{"./assert":1436,"./bytes":1438,"@noble/hashes/sha3":1620,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.remove0x=n.add0x=n.isValidChecksumAddress=n.getChecksumAddress=n.isValidHexAddress=n.assertIsStrictHexString=n.assertIsHexString=n.isStrictHexString=n.isHexString=n.HexChecksumAddressStruct=n.HexAddressStruct=n.StrictHexStruct=n.HexStruct=void 0;const r=e("@noble/hashes/sha3"),s=e("superstruct"),i=e("./assert"),o=e("./bytes");function a(e){return(0,s.is)(e,n.HexStruct)}function c(e){return(0,s.is)(e,n.StrictHexStruct)}function u(e){(0,i.assert)((0,s.is)(e,n.HexChecksumAddressStruct),"Invalid hex address.");const t=d(e.toLowerCase()),a=d((0,o.bytesToHex)((0,r.keccak_256)(t)));return`0x${t.split("").map(((e,t)=>{const n=a[t];return(0,i.assert)((0,s.is)(n,(0,s.string)()),"Hash shorter than address."),parseInt(n,16)>7?e.toUpperCase():e})).join("")}`}function l(e){return!!(0,s.is)(e,n.HexChecksumAddressStruct)&&u(e)===e}function d(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}n.HexStruct=(0,s.pattern)((0,s.string)(),/^(?:0x)?[0-9a-f]+$/iu),n.StrictHexStruct=(0,s.pattern)((0,s.string)(),/^0x[0-9a-f]+$/iu),n.HexAddressStruct=(0,s.pattern)((0,s.string)(),/^0x[0-9a-f]{40}$/u),n.HexChecksumAddressStruct=(0,s.pattern)((0,s.string)(),/^0x[0-9a-fA-F]{40}$/u),n.isHexString=a,n.isStrictHexString=c,n.assertIsHexString=function(e){(0,i.assert)(a(e),"Value must be a hexadecimal string.")},n.assertIsStrictHexString=function(e){(0,i.assert)(c(e),'Value must be a hexadecimal string, starting with "0x".')},n.isValidHexAddress=function(e){return(0,s.is)(e,n.HexAddressStruct)||l(e)},n.getChecksumAddress=u,n.isValidChecksumAddress=l,n.add0x=function(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`},n.remove0x=d}}},{package:"@metamask/rpc-methods>@metamask/utils",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/utils/dist/hex.js"}],[1444,{"./assert":1436,"./base64":1437,"./bytes":1438,"./checksum":1439,"./coercers":1440,"./collections":1441,"./encryption-types":1442,"./hex":1443,"./json":1445,"./keyring":1446,"./logging":1447,"./misc":1448,"./number":1449,"./opaque":1450,"./time":1451,"./transaction-types":1452,"./versions":1453},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./assert"),n),s(e("./base64"),n),s(e("./bytes"),n),s(e("./checksum"),n),s(e("./coercers"),n),s(e("./collections"),n),s(e("./encryption-types"),n),s(e("./hex"),n),s(e("./json"),n),s(e("./keyring"),n),s(e("./logging"),n),s(e("./misc"),n),s(e("./number"),n),s(e("./opaque"),n),s(e("./time"),n),s(e("./transaction-types"),n),s(e("./versions"),n)}}},{package:"@metamask/rpc-methods>@metamask/utils",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/utils/dist/index.js"}],[1445,{"./assert":1436,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getJsonRpcIdValidator=n.assertIsJsonRpcError=n.isJsonRpcError=n.assertIsJsonRpcFailure=n.isJsonRpcFailure=n.assertIsJsonRpcSuccess=n.isJsonRpcSuccess=n.assertIsJsonRpcResponse=n.isJsonRpcResponse=n.assertIsPendingJsonRpcResponse=n.isPendingJsonRpcResponse=n.JsonRpcResponseStruct=n.JsonRpcFailureStruct=n.JsonRpcSuccessStruct=n.PendingJsonRpcResponseStruct=n.assertIsJsonRpcRequest=n.isJsonRpcRequest=n.assertIsJsonRpcNotification=n.isJsonRpcNotification=n.JsonRpcNotificationStruct=n.JsonRpcRequestStruct=n.JsonRpcParamsStruct=n.JsonRpcErrorStruct=n.JsonRpcIdStruct=n.JsonRpcVersionStruct=n.jsonrpc2=n.getJsonSize=n.getSafeJson=n.isValidJson=n.JsonStruct=n.UnsafeJsonStruct=void 0;const r=e("superstruct"),s=e("./assert");function i(e){return(0,r.create)(e,n.JsonStruct)}n.UnsafeJsonStruct=(0,r.union)([(0,r.literal)(null),(0,r.boolean)(),(0,r.define)("finite number",(e=>(0,r.is)(e,(0,r.number)())&&Number.isFinite(e))),(0,r.string)(),(0,r.array)((0,r.lazy)((()=>n.UnsafeJsonStruct))),(0,r.record)((0,r.string)(),(0,r.lazy)((()=>n.UnsafeJsonStruct)))]),n.JsonStruct=(0,r.coerce)(n.UnsafeJsonStruct,(0,r.any)(),(e=>((0,s.assertStruct)(e,n.UnsafeJsonStruct),JSON.parse(JSON.stringify(e,((e,t)=>"__proto__"===e||"constructor"===e?undefined:t)))))),n.isValidJson=function(e){try{return i(e),!0}catch{return!1}},n.getSafeJson=i,n.getJsonSize=function(e){(0,s.assertStruct)(e,n.JsonStruct,"Invalid JSON value");const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength},n.jsonrpc2="2.0",n.JsonRpcVersionStruct=(0,r.literal)(n.jsonrpc2),n.JsonRpcIdStruct=(0,r.nullable)((0,r.union)([(0,r.number)(),(0,r.string)()])),n.JsonRpcErrorStruct=(0,r.object)({code:(0,r.integer)(),message:(0,r.string)(),data:(0,r.optional)(n.JsonStruct),stack:(0,r.optional)((0,r.string)())}),n.JsonRpcParamsStruct=(0,r.optional)((0,r.union)([(0,r.record)((0,r.string)(),n.JsonStruct),(0,r.array)(n.JsonStruct)])),n.JsonRpcRequestStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,method:(0,r.string)(),params:n.JsonRpcParamsStruct}),n.JsonRpcNotificationStruct=(0,r.omit)(n.JsonRpcRequestStruct,["id"]),n.isJsonRpcNotification=function(e){return(0,r.is)(e,n.JsonRpcNotificationStruct)},n.assertIsJsonRpcNotification=function(e,t){(0,s.assertStruct)(e,n.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",t)},n.isJsonRpcRequest=function(e){return(0,r.is)(e,n.JsonRpcRequestStruct)},n.assertIsJsonRpcRequest=function(e,t){(0,s.assertStruct)(e,n.JsonRpcRequestStruct,"Invalid JSON-RPC request",t)},n.PendingJsonRpcResponseStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,result:(0,r.optional)((0,r.unknown)()),error:(0,r.optional)(n.JsonRpcErrorStruct)}),n.JsonRpcSuccessStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,result:n.JsonStruct}),n.JsonRpcFailureStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,error:n.JsonRpcErrorStruct}),n.JsonRpcResponseStruct=(0,r.union)([n.JsonRpcSuccessStruct,n.JsonRpcFailureStruct]),n.isPendingJsonRpcResponse=function(e){return(0,r.is)(e,n.PendingJsonRpcResponseStruct)},n.assertIsPendingJsonRpcResponse=function(e,t){(0,s.assertStruct)(e,n.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",t)},n.isJsonRpcResponse=function(e){return(0,r.is)(e,n.JsonRpcResponseStruct)},n.assertIsJsonRpcResponse=function(e,t){(0,s.assertStruct)(e,n.JsonRpcResponseStruct,"Invalid JSON-RPC response",t)},n.isJsonRpcSuccess=function(e){return(0,r.is)(e,n.JsonRpcSuccessStruct)},n.assertIsJsonRpcSuccess=function(e,t){(0,s.assertStruct)(e,n.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",t)},n.isJsonRpcFailure=function(e){return(0,r.is)(e,n.JsonRpcFailureStruct)},n.assertIsJsonRpcFailure=function(e,t){(0,s.assertStruct)(e,n.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",t)},n.isJsonRpcError=function(e){return(0,r.is)(e,n.JsonRpcErrorStruct)},n.assertIsJsonRpcError=function(e,t){(0,s.assertStruct)(e,n.JsonRpcErrorStruct,"Invalid JSON-RPC error",t)},n.getJsonRpcIdValidator=function(e){const{permitEmptyString:t,permitFractions:n,permitNull:r}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return e=>Boolean("number"==typeof e&&(n||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||r&&null===e)}}}},{package:"@metamask/rpc-methods>@metamask/utils",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/utils/dist/json.js"}],[1446,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/rpc-methods>@metamask/utils",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/utils/dist/keyring.js"}],[1447,{debug:2645},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.createModuleLogger=n.createProjectLogger=void 0;const s=(0,r(e("debug")).default)("metamask");n.createProjectLogger=function(e){return s.extend(e)},n.createModuleLogger=function(e,t){return e.extend(t)}}}},{package:"@metamask/rpc-methods>@metamask/utils",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/utils/dist/logging.js"}],[1448,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.calculateNumberSize=n.calculateStringSize=n.isASCII=n.isPlainObject=n.ESCAPE_CHARACTERS_REGEXP=n.JsonSize=n.hasProperty=n.isObject=n.isNullOrUndefined=n.isNonEmptyArray=void 0,n.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},n.isNullOrUndefined=function(e){return null===e||e===undefined},n.isObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)};function r(e){return e.charCodeAt(0)<=127}n.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(n.JsonSize||(n.JsonSize={})),n.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu,n.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},n.isASCII=r,n.calculateStringSize=function(e){return e.split("").reduce(((e,t)=>r(t)?e+1:e+2),0)+(e.match(n.ESCAPE_CHARACTERS_REGEXP)??[]).length},n.calculateNumberSize=function(e){return e.toString().length}}}},{package:"@metamask/rpc-methods>@metamask/utils",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/utils/dist/misc.js"}],[1449,{"./assert":1436,"./hex":1443},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hexToBigInt=n.hexToNumber=n.bigIntToHex=n.numberToHex=void 0;const r=e("./assert"),s=e("./hex");n.numberToHex=e=>((0,r.assert)("number"==typeof e,"Value must be a number."),(0,r.assert)(e>=0,"Value must be a non-negative number."),(0,r.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,s.add0x)(e.toString(16)));n.bigIntToHex=e=>((0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)(e>=0,"Value must be a non-negative bigint."),(0,s.add0x)(e.toString(16)));n.hexToNumber=e=>{(0,s.assertIsHexString)(e);const t=parseInt(e,16);return(0,r.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};n.hexToBigInt=e=>((0,s.assertIsHexString)(e),BigInt((0,s.add0x)(e)))}}},{package:"@metamask/rpc-methods>@metamask/utils",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/utils/dist/number.js"}],[145,{lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("lodash");var s={version:65,async migrate(e){const t=(0,r.cloneDeep)(e);t.meta.version=65;const n=function(e){if(e.PreferencesController){const{completedOnboarding:t,firstTimeFlowType:n}=e.PreferencesController;e.OnboardingController=e.OnboardingController??{},t!==undefined&&(e.OnboardingController.completedOnboarding=t,delete e.PreferencesController.completedOnboarding),n!==undefined&&(e.OnboardingController.firstTimeFlowType=n,delete e.PreferencesController.firstTimeFlowType)}return e}(t.data);return t.data=n,t}};n.default=s}}},{package:"$root$",file:"app/scripts/migrations/065.js"}],[1450,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/rpc-methods>@metamask/utils",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/utils/dist/opaque.js"}],[1451,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.timeSince=n.inMilliseconds=n.Duration=void 0,function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"}(n.Duration||(n.Duration={}));const r=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};n.inMilliseconds=function(e,t){return r(e,"count"),e*t},n.timeSince=function(e){return r(e,"timestamp"),Date.now()-e}}}},{package:"@metamask/rpc-methods>@metamask/utils",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/utils/dist/time.js"}],[1452,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/rpc-methods>@metamask/utils",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/utils/dist/transaction-types.js"}],[1453,{"./assert":1436,semver:3869,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.satisfiesVersionRange=n.gtRange=n.gtVersion=n.assertIsSemVerRange=n.assertIsSemVerVersion=n.isValidSemVerRange=n.isValidSemVerVersion=n.VersionRangeStruct=n.VersionStruct=void 0;const r=e("semver"),s=e("superstruct"),i=e("./assert");n.VersionStruct=(0,s.refine)((0,s.string)(),"Version",(e=>null!==(0,r.valid)(e)||`Expected SemVer version, got "${e}"`)),n.VersionRangeStruct=(0,s.refine)((0,s.string)(),"Version range",(e=>null!==(0,r.validRange)(e)||`Expected SemVer range, got "${e}"`)),n.isValidSemVerVersion=function(e){return(0,s.is)(e,n.VersionStruct)},n.isValidSemVerRange=function(e){return(0,s.is)(e,n.VersionRangeStruct)},n.assertIsSemVerVersion=function(e){(0,i.assertStruct)(e,n.VersionStruct)},n.assertIsSemVerRange=function(e){(0,i.assertStruct)(e,n.VersionRangeStruct)},n.gtVersion=function(e,t){return(0,r.gt)(e,t)},n.gtRange=function(e,t){return(0,r.gtr)(e,t)},n.satisfiesVersionRange=function(e,t){return(0,r.satisfies)(e,t,{includePrerelease:!0})}}}},{package:"@metamask/rpc-methods>@metamask/utils",file:"node_modules/@metamask/rpc-methods/node_modules/@metamask/utils/dist/versions.js"}],[1454,{"./url-alphabet/index.cjs":1455},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){let{urlAlphabet:r}=e("./url-alphabet/index.cjs"),s=e=>crypto.getRandomValues(new Uint8Array(e)),i=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,s=-~(1.6*r*t/e.length);return(i=t)=>{let o="";for(;;){let t=n(s),a=s;for(;a--;)if(o+=e[t[a]&r]||"",o.length===i)return o}}};t.exports={nanoid:(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),""),customAlphabet:(e,t=21)=>i(e,t,s),customRandom:i,urlAlphabet:r,random:s}}}},{package:"@metamask/rpc-methods>nanoid",file:"node_modules/@metamask/rpc-methods/node_modules/nanoid/index.browser.cjs"}],[1455,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports={urlAlphabet:"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"}}}},{package:"@metamask/rpc-methods>nanoid",file:"node_modules/@metamask/rpc-methods/node_modules/nanoid/url-alphabet/index.cjs"}],[1457,{"@noble/hashes/_assert":1459,"@noble/hashes/pbkdf2":1464,"@noble/hashes/sha256":1465,"@noble/hashes/sha512":1466,"@noble/hashes/utils":1467,"@scure/base":1639},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mnemonicToSeedSync=n.mnemonicToSeed=n.validateMnemonic=n.entropyToMnemonic=n.mnemonicToEntropy=n.generateMnemonic=void 0;
/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */
const r=e("@noble/hashes/_assert"),s=e("@noble/hashes/pbkdf2"),i=e("@noble/hashes/sha256"),o=e("@noble/hashes/sha512"),a=e("@noble/hashes/utils"),c=e("@scure/base");function u(e){if("string"!=typeof e)throw new TypeError("Invalid mnemonic type: "+typeof e);return e.normalize("NFKD")}function l(e){const t=u(e),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}function d(e){r.default.bytes(e,16,20,24,28,32)}n.generateMnemonic=function(e,t=128){if(r.default.number(t),t%32!=0||t>256)throw new TypeError("Invalid entropy");return m((0,a.randomBytes)(t/8),e)};const h=e=>{const t=8-e.length/4;return new Uint8Array([(0,i.sha256)(e)[0]>>t<<t])};function p(e){if(!Array.isArray(e)||2048!==e.length||"string"!=typeof e[0])throw new Error("Worlist: expected array of 2048 strings");return e.forEach((e=>{if("string"!=typeof e)throw new Error(`Wordlist: non-string element: ${e}`)})),c.utils.chain(c.utils.checksum(1,h),c.utils.radix2(11,!0),c.utils.alphabet(e))}function f(e,t){let n;if("string"==typeof e){const{words:r}=l(e);n=p(t).decode(r)}else n=p(t).decode(Array.from(new Uint16Array(e.buffer)).map((e=>t[e])));return d(n),n}function m(e,t){d(e);const n=p(t).encode(e).map((e=>t.indexOf(e)));return new Uint8Array(new Uint16Array(n).buffer)}n.mnemonicToEntropy=f,n.entropyToMnemonic=m,n.validateMnemonic=function(e,t){try{f(e,t)}catch(e){return!1}return!0};const g=e=>u(`mnemonic${e}`);function y(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(l(e).nfkd):(new TextEncoder).encode(Array.from(new Uint16Array(e.buffer)).map((e=>t[e])).join(" ")),n}n.mnemonicToSeed=function(e,t,n=""){const r=y(e,t);return(0,s.pbkdf2Async)(o.sha512,r,g(n),{c:2048,dkLen:64})},n.mnemonicToSeedSync=function(e,t,n=""){const r=y(e,t);return(0,s.pbkdf2)(o.sha512,r,g(n),{c:2048,dkLen:64})}}}},{package:"@metamask/scure-bip39",file:"node_modules/@metamask/scure-bip39/dist/index.js"}],[1458,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.wordlist=void 0,n.wordlist="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n")}}},{package:"@metamask/scure-bip39",file:"node_modules/@metamask/scure-bip39/dist/wordlists/english.js"}],[1459,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function s(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function i(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function o(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function a(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function c(e,t){i(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(n,"__esModule",{value:!0}),n.output=n.exists=n.hash=n.bytes=n.bool=n.number=void 0,n.number=r,n.bool=s,n.bytes=i,n.hash=o,n.exists=a,n.output=c;const u={number:r,bool:s,bytes:i,hash:o,exists:a,output:c};n.default=u}}},{package:"@metamask/scure-bip39>@noble/hashes",file:"node_modules/@metamask/scure-bip39/node_modules/@noble/hashes/_assert.js"}],[146,{"../../../shared/constants/hardware-wallets":4015,lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("lodash"),s=e("../../../shared/constants/hardware-wallets");var i={version:66,async migrate(e){const t=(0,r.cloneDeep)(e);t.meta.version=66;const n=function(e){var t;const n=window.navigator.hid?s.LedgerTransportTypes.webhid:s.LedgerTransportTypes.u2f,r=Boolean(null===(t=e.PreferencesController)||void 0===t?void 0:t.useLedgerLive),i={...e,PreferencesController:{...null==e?void 0:e.PreferencesController,ledgerTransportType:r?s.LedgerTransportTypes.live:n}};return delete i.PreferencesController.useLedgerLive,i}(t.data);return t.data=n,t}};n.default=i}}},{package:"$root$",file:"app/scripts/migrations/066.js"}],[1460,{"./_assert.js":1459,"./utils.js":1467},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SHA2=void 0;const r=e("./_assert.js"),s=e("./utils.js");class i extends s.Hash{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,s.createView)(this.buffer)}update(e){r.default.exists(this);const{view:t,buffer:n,blockLen:i}=this,o=(e=(0,s.toBytes)(e)).length;for(let r=0;r<o;){const a=Math.min(i-this.pos,o-r);if(a!==i)n.set(e.subarray(r,r+a),this.pos),this.pos+=a,r+=a,this.pos===i&&(this.process(t,0),this.pos=0);else{const t=(0,s.createView)(e);for(;i<=o-r;r+=i)this.process(t,r)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){r.default.exists(this),r.default.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:i,isLE:o}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let e=a;e<i;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,a,r)}(n,i-8,BigInt(8*this.length),o),this.process(n,0);const c=(0,s.createView)(e);this.get().forEach(((e,t)=>c.setUint32(4*t,e,o)))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:s,destroyed:i,pos:o}=this;return e.length=r,e.pos=o,e.finished=s,e.destroyed=i,r%t&&e.buffer.set(n),e}}n.SHA2=i}}},{package:"@metamask/scure-bip39>@noble/hashes",file:"node_modules/@metamask/scure-bip39/node_modules/@noble/hashes/_sha2.js"}],[1461,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.add=n.toBig=n.split=n.fromBig=void 0;const r=BigInt(2**32-1),s=BigInt(32);function i(e,t=!1){return t?{h:Number(e&r),l:Number(e>>s&r)}:{h:0|Number(e>>s&r),l:0|Number(e&r)}}function o(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:o,l:a}=i(e[s],t);[n[s],r[s]]=[o,a]}return[n,r]}n.fromBig=i,n.split=o;n.toBig=(e,t)=>BigInt(e>>>0)<<s|BigInt(t>>>0);function a(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:0|s}}n.add=a;const c={fromBig:i,split:o,toBig:n.toBig,shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,n)=>e<<n|t>>>32-n,rotlSL:(e,t,n)=>t<<n|e>>>32-n,rotlBH:(e,t,n)=>t<<n-32|e>>>64-n,rotlBL:(e,t,n)=>e<<n-32|t>>>64-n,add:a,add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,add5H:(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,add5L:(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0)};n.default=c}}},{package:"@metamask/scure-bip39>@noble/hashes",file:"node_modules/@metamask/scure-bip39/node_modules/@noble/hashes/_u64.js"}],[1462,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.crypto=void 0,n.crypto={node:undefined,web:"object"==typeof self&&"crypto"in self?self.crypto:undefined}}}},{package:"@metamask/scure-bip39>@noble/hashes",file:"node_modules/@metamask/scure-bip39/node_modules/@noble/hashes/cryptoBrowser.js"}],[1463,{"./_assert.js":1459,"./utils.js":1467},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hmac=void 0;const r=e("./_assert.js"),s=e("./utils.js");class i extends s.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,r.default.hash(e);const n=(0,s.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),o.fill(0)}update(e){return r.default.exists(this),this.iHash.update(e),this}digestInto(e){r.default.exists(this),r.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:s,blockLen:i,outputLen:o}=this;return e.finished=r,e.destroyed=s,e.blockLen=i,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}n.hmac=(e,t,n)=>new i(e,t).update(n).digest(),n.hmac.create=(e,t)=>new i(e,t)}}},{package:"@metamask/scure-bip39>@noble/hashes",file:"node_modules/@metamask/scure-bip39/node_modules/@noble/hashes/hmac.js"}],[1464,{"./_assert.js":1459,"./hmac.js":1463,"./utils.js":1467},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.pbkdf2Async=n.pbkdf2=void 0;const r=e("./_assert.js"),s=e("./hmac.js"),i=e("./utils.js");function o(e,t,n,o){r.default.hash(e);const a=(0,i.checkOpts)({dkLen:32,asyncTick:10},o),{c:c,dkLen:u,asyncTick:l}=a;if(r.default.number(c),r.default.number(u),r.default.number(l),c<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const d=(0,i.toBytes)(t),h=(0,i.toBytes)(n),p=new Uint8Array(u),f=s.hmac.create(e,d),m=f._cloneInto().update(h);return{c:c,dkLen:u,asyncTick:l,DK:p,PRF:f,PRFSalt:m}}function a(e,t,n,r,s){return e.destroy(),t.destroy(),r&&r.destroy(),s.fill(0),n}n.pbkdf2=function(e,t,n,r){const{c:s,dkLen:c,DK:u,PRF:l,PRFSalt:d}=o(e,t,n,r);let h;const p=new Uint8Array(4),f=(0,i.createView)(p),m=new Uint8Array(l.outputLen);for(let e=1,t=0;t<c;e++,t+=l.outputLen){const n=u.subarray(t,t+l.outputLen);f.setInt32(0,e,!1),(h=d._cloneInto(h)).update(p).digestInto(m),n.set(m.subarray(0,n.length));for(let e=1;e<s;e++){l._cloneInto(h).update(m).digestInto(m);for(let e=0;e<n.length;e++)n[e]^=m[e]}}return a(l,d,u,h,m)},n.pbkdf2Async=async function(e,t,n,r){const{c:s,dkLen:c,asyncTick:u,DK:l,PRF:d,PRFSalt:h}=o(e,t,n,r);let p;const f=new Uint8Array(4),m=(0,i.createView)(f),g=new Uint8Array(d.outputLen);for(let e=1,t=0;t<c;e++,t+=d.outputLen){const n=l.subarray(t,t+d.outputLen);m.setInt32(0,e,!1),(p=h._cloneInto(p)).update(f).digestInto(g),n.set(g.subarray(0,n.length)),await(0,i.asyncLoop)(s-1,u,(e=>{d._cloneInto(p).update(g).digestInto(g);for(let e=0;e<n.length;e++)n[e]^=g[e]}))}return a(d,h,l,p,g)}}}},{package:"@metamask/scure-bip39>@noble/hashes",file:"node_modules/@metamask/scure-bip39/node_modules/@noble/hashes/pbkdf2.js"}],[1465,{"./_sha2.js":1460,"./utils.js":1467},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.sha256=void 0;const r=e("./_sha2.js"),s=e("./utils.js"),i=(e,t,n)=>e&t^e&n^t&n,o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class u extends r.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:n,D:r,E:s,F:i,G:o,H:a}=this;return[e,t,n,r,s,i,o,a]}set(e,t,n,r,s,i,o,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|s,this.F=0|i,this.G=0|o,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)c[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=c[e-15],n=c[e-2],r=(0,s.rotr)(t,7)^(0,s.rotr)(t,18)^t>>>3,i=(0,s.rotr)(n,17)^(0,s.rotr)(n,19)^n>>>10;c[e]=i+c[e-7]+r+c[e-16]|0}let{A:n,B:r,C:a,D:u,E:l,F:d,G:h,H:p}=this;for(let e=0;e<64;e++){const t=p+((0,s.rotr)(l,6)^(0,s.rotr)(l,11)^(0,s.rotr)(l,25))+((f=l)&d^~f&h)+o[e]+c[e]|0,m=((0,s.rotr)(n,2)^(0,s.rotr)(n,13)^(0,s.rotr)(n,22))+i(n,r,a)|0;p=h,h=d,d=l,l=u+t|0,u=a,a=r,r=n,n=t+m|0}var f;n=n+this.A|0,r=r+this.B|0,a=a+this.C|0,u=u+this.D|0,l=l+this.E|0,d=d+this.F|0,h=h+this.G|0,p=p+this.H|0,this.set(n,r,a,u,l,d,h,p)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}n.sha256=(0,s.wrapConstructor)((()=>new u))}}},{package:"@metamask/scure-bip39>@noble/hashes",file:"node_modules/@metamask/scure-bip39/node_modules/@noble/hashes/sha256.js"}],[1466,{"./_sha2.js":1460,"./_u64.js":1461,"./utils.js":1467},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.sha384=n.sha512_256=n.sha512=n.SHA512=void 0;const r=e("./_sha2.js"),s=e("./_u64.js"),i=e("./utils.js"),[o,a]=s.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),c=new Uint32Array(80),u=new Uint32Array(80);class l extends r.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:s,Cl:i,Dh:o,Dl:a,Eh:c,El:u,Fh:l,Fl:d,Gh:h,Gl:p,Hh:f,Hl:m}=this;return[e,t,n,r,s,i,o,a,c,u,l,d,h,p,f,m]}set(e,t,n,r,s,i,o,a,c,u,l,d,h,p,f,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|s,this.Cl=0|i,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|d,this.Gh=0|h,this.Gl=0|p,this.Hh=0|f,this.Hl=0|m}process(e,t){for(let n=0;n<16;n++,t+=4)c[n]=e.getUint32(t),u[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|c[e-15],n=0|u[e-15],r=s.default.rotrSH(t,n,1)^s.default.rotrSH(t,n,8)^s.default.shrSH(t,n,7),i=s.default.rotrSL(t,n,1)^s.default.rotrSL(t,n,8)^s.default.shrSL(t,n,7),o=0|c[e-2],a=0|u[e-2],l=s.default.rotrSH(o,a,19)^s.default.rotrBH(o,a,61)^s.default.shrSH(o,a,6),d=s.default.rotrSL(o,a,19)^s.default.rotrBL(o,a,61)^s.default.shrSL(o,a,6),h=s.default.add4L(i,d,u[e-7],u[e-16]),p=s.default.add4H(h,r,l,c[e-7],c[e-16]);c[e]=0|p,u[e]=0|h}let{Ah:n,Al:r,Bh:i,Bl:l,Ch:d,Cl:h,Dh:p,Dl:f,Eh:m,El:g,Fh:y,Fl:b,Gh:w,Gl:v,Hh:k,Hl:S}=this;for(let e=0;e<80;e++){const t=s.default.rotrSH(m,g,14)^s.default.rotrSH(m,g,18)^s.default.rotrBH(m,g,41),_=s.default.rotrSL(m,g,14)^s.default.rotrSL(m,g,18)^s.default.rotrBL(m,g,41),E=m&y^~m&w,T=g&b^~g&v,P=s.default.add5L(S,_,T,a[e],u[e]),I=s.default.add5H(P,k,t,E,o[e],c[e]),x=0|P,O=s.default.rotrSH(n,r,28)^s.default.rotrBH(n,r,34)^s.default.rotrBH(n,r,39),j=s.default.rotrSL(n,r,28)^s.default.rotrBL(n,r,34)^s.default.rotrBL(n,r,39),C=n&i^n&d^i&d,N=r&l^r&h^l&h;k=0|w,S=0|v,w=0|y,v=0|b,y=0|m,b=0|g,({h:m,l:g}=s.default.add(0|p,0|f,0|I,0|x)),p=0|d,f=0|h,d=0|i,h=0|l,i=0|n,l=0|r;const A=s.default.add3L(x,j,N);n=s.default.add3H(A,I,O,C),r=0|A}({h:n,l:r}=s.default.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:l}=s.default.add(0|this.Bh,0|this.Bl,0|i,0|l)),({h:d,l:h}=s.default.add(0|this.Ch,0|this.Cl,0|d,0|h)),({h:p,l:f}=s.default.add(0|this.Dh,0|this.Dl,0|p,0|f)),({h:m,l:g}=s.default.add(0|this.Eh,0|this.El,0|m,0|g)),({h:y,l:b}=s.default.add(0|this.Fh,0|this.Fl,0|y,0|b)),({h:w,l:v}=s.default.add(0|this.Gh,0|this.Gl,0|w,0|v)),({h:k,l:S}=s.default.add(0|this.Hh,0|this.Hl,0|k,0|S)),this.set(n,r,i,l,d,h,p,f,m,g,y,b,w,v,k,S)}roundClean(){c.fill(0),u.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}n.SHA512=l;class d extends l{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class h extends l{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}n.sha512=(0,i.wrapConstructor)((()=>new l)),n.sha512_256=(0,i.wrapConstructor)((()=>new d)),n.sha384=(0,i.wrapConstructor)((()=>new h))}}},{package:"@metamask/scure-bip39>@noble/hashes",file:"node_modules/@metamask/scure-bip39/node_modules/@noble/hashes/sha512.js"}],[1467,{"@noble/hashes/crypto":1462},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(n,"__esModule",{value:!0}),n.randomBytes=n.wrapConstructorWithOpts=n.wrapConstructor=n.checkOpts=n.Hash=n.concatBytes=n.toBytes=n.utf8ToBytes=n.asyncLoop=n.nextTick=n.hexToBytes=n.bytesToHex=n.isLE=n.rotr=n.createView=n.u32=n.u8=void 0;const r=e("@noble/hashes/crypto");n.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);n.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));n.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(n.rotr=(e,t)=>e<<32-t|e>>>t,n.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!n.isLE)throw new Error("Non little-endian hardware is not supported");const s=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));n.bytesToHex=function(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=s[e[n]];return t},n.hexToBytes=function(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,s=e.slice(r,r+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[n]=i}return t};function i(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}function o(e){if("string"==typeof e&&(e=i(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}n.nextTick=async()=>{},n.asyncLoop=async function(e,t,r){let s=Date.now();for(let i=0;i<e;i++){r(i);const e=Date.now()-s;e>=0&&e<t||(await(0,n.nextTick)(),s+=e)}},n.utf8ToBytes=i,n.toBytes=o,n.concatBytes=function(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const s=e[t];n.set(s,r),r+=s.length}return n};n.Hash=class{clone(){return this._cloneInto()}};n.checkOpts=function(e,t){if(t!==undefined&&("object"!=typeof t||(n=t,"[object Object]"!==Object.prototype.toString.call(n)||n.constructor!==Object)))throw new TypeError("Options should be object or undefined");var n;return Object.assign(e,t)},n.wrapConstructor=function(e){const t=t=>e().update(o(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t},n.wrapConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(o(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},n.randomBytes=function(e=32){if(r.crypto.web)return r.crypto.web.getRandomValues(new Uint8Array(e));if(r.crypto.node)return new Uint8Array(r.crypto.node.randomBytes(e).buffer);throw new Error("The environment doesn't have randomBytes function")}}}},{package:"@metamask/scure-bip39>@noble/hashes",file:"node_modules/@metamask/scure-bip39/node_modules/@noble/hashes/utils.js"}],[1468,{"@metamask/base-controller":1063,"@metamask/controller-utils":1068,"@metamask/message-manager":1322,buffer:2426,"eth-rpc-errors":2739,"ethereumjs-util":2780,events:2427,lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r,s,i,o,a,c,u,l,d,h,p,f,m,g,y,b,w,v,k,S,_,E,T,P,I,x,O,j,C,N=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},A=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},B=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},R=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},M=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SignatureController=void 0;const U=e("@metamask/base-controller"),L=e("@metamask/controller-utils"),D=e("@metamask/message-manager"),H=e("eth-rpc-errors"),F=e("ethereumjs-util"),z=M(e("events")),V=e("lodash"),K={unapprovedMsgs:{persist:!1,anonymous:!1},unapprovedPersonalMsgs:{persist:!1,anonymous:!1},unapprovedTypedMessages:{persist:!1,anonymous:!1},unapprovedMsgCount:{persist:!1,anonymous:!1},unapprovedPersonalMsgCount:{persist:!1,anonymous:!1},unapprovedTypedMessagesCount:{persist:!1,anonymous:!1}};class $ extends U.BaseControllerV2{constructor({messenger:e,keyringController:t,isEthSignEnabled:n,getAllState:l,securityProviderRequest:d,getCurrentChainId:h}){super({name:"SignatureController",metadata:K,messenger:e,state:{unapprovedMsgs:{},unapprovedPersonalMsgs:{},unapprovedTypedMessages:{},unapprovedMsgCount:0,unapprovedPersonalMsgCount:0,unapprovedTypedMessagesCount:0}}),r.add(this),s.set(this,void 0),i.set(this,void 0),o.set(this,void 0),a.set(this,void 0),c.set(this,void 0),u.set(this,void 0),A(this,s,t,"f"),A(this,i,n,"f"),A(this,o,l,"f"),this.hub=new z.default,A(this,a,new D.MessageManager(undefined,undefined,d),"f"),A(this,c,new D.PersonalMessageManager(undefined,undefined,d),"f"),A(this,u,new D.TypedMessageManager(undefined,undefined,d,undefined,h),"f"),B(this,r,"m",E).call(this,B(this,a,"f"),"unapprovedMessage"),B(this,r,"m",E).call(this,B(this,c,"f"),"unapprovedPersonalMessage"),B(this,r,"m",E).call(this,B(this,u,"f"),"unapprovedTypedMessage"),B(this,r,"m",T).call(this,B(this,a,"f"),((e,t,n)=>{e.unapprovedMsgs=t,e.unapprovedMsgCount=n})),B(this,r,"m",T).call(this,B(this,c,"f"),((e,t,n)=>{e.unapprovedPersonalMsgs=t,e.unapprovedPersonalMsgCount=n})),B(this,r,"m",T).call(this,B(this,u,"f"),((e,t,n)=>{e.unapprovedTypedMessages=t,e.unapprovedTypedMessagesCount=n}))}get unapprovedMsgCount(){return B(this,a,"f").getUnapprovedMessagesCount()}get unapprovedPersonalMessagesCount(){return B(this,c,"f").getUnapprovedMessagesCount()}get unapprovedTypedMessagesCount(){return B(this,u,"f").getUnapprovedMessagesCount()}get messages(){return[...B(this,u,"f").getAllMessages(),...B(this,c,"f").getAllMessages(),...B(this,a,"f").getAllMessages()].reduce(((e,t)=>(e[t.id]=t,e)),{})}resetState(){this.update((()=>({unapprovedMsgs:{},unapprovedPersonalMsgs:{},unapprovedTypedMessages:{},unapprovedMsgCount:0,unapprovedPersonalMsgCount:0,unapprovedTypedMessagesCount:0})))}rejectUnapproved(e){B(this,r,"m",w).call(this,B(this,a,"f"),e),B(this,r,"m",w).call(this,B(this,c,"f"),e),B(this,r,"m",w).call(this,B(this,u,"f"),e)}clearUnapproved(){B(this,r,"m",v).call(this,B(this,a,"f")),B(this,r,"m",v).call(this,B(this,c,"f")),B(this,r,"m",v).call(this,B(this,u,"f"))}newUnsignedMessage(e,t){return N(this,void 0,void 0,(function*(){return B(this,r,"m",d).call(this,B(this,a,"f"),L.ApprovalType.EthSign,"Message",B(this,r,"m",h).bind(this),e,t,B(this,r,"m",l).bind(this))}))}newUnsignedPersonalMessage(e,t){return N(this,void 0,void 0,(function*(){return B(this,r,"m",d).call(this,B(this,c,"f"),L.ApprovalType.PersonalSign,"Personal Message",B(this,r,"m",p).bind(this),e,t)}))}newUnsignedTypedMessage(e,t,n,s){return N(this,void 0,void 0,(function*(){return B(this,r,"m",d).call(this,B(this,u,"f"),L.ApprovalType.EthSignTypedData,"Typed Message",B(this,r,"m",f).bind(this),e,t,undefined,n,s)}))}setDeferredSignSuccess(e,t){B(this,r,"m",m).call(this,B(this,r,"m",g),e,t)}setMessageMetadata(e,t){B(this,r,"m",m).call(this,B(this,r,"m",y),e,t)}setDeferredSignError(e){B(this,r,"m",m).call(this,B(this,r,"m",b),e)}setTypedMessageInProgress(e){B(this,u,"f").setMessageStatusInProgress(e)}setPersonalMessageInProgress(e){B(this,c,"f").setMessageStatusInProgress(e)}}n.SignatureController=$,s=new WeakMap,i=new WeakMap,o=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,r=new WeakSet,l=function(e){if(!B(this,i,"f").call(this))throw H.ethErrors.rpc.methodNotFound("eth_sign has been disabled. You must enable it in the advanced settings");const t=B(this,r,"m",x).call(this,e.data);if(66!==t.length&&67!==t.length)throw H.ethErrors.rpc.invalidParams("eth_sign requires 32 byte message hash")},d=function(e,t,n,s,i,o,a,c,u){return N(this,void 0,void 0,(function*(){let l;a&&a(i);try{const a=yield e.addUnapprovedMessage(i,o,c),d=Object.assign(Object.assign(Object.assign({},i),{metamaskId:a}),c&&{version:c}),h=e.waitForFinishStatus(d,n);try{l=(yield B(this,r,"m",j).call(this,d,t)).resultCallbacks}catch(t){throw h.catch((()=>{})),B(this,r,"m",_).call(this,e,a),H.ethErrors.provider.userRejectedRequest(`MetaMask ${n} Signature: User denied message signature.`)}yield s(d,u);const p=yield h;return null==l||l.success(p),p}catch(e){throw null==l||l.error(e),e}}))},h=function(e){return N(this,void 0,void 0,(function*(){return yield B(this,r,"m",k).call(this,B(this,a,"f"),L.ApprovalType.EthSign,e,(e=>N(this,void 0,void 0,(function*(){return yield B(this,s,"f").signMessage(e)}))))}))},p=function(e){return N(this,void 0,void 0,(function*(){return yield B(this,r,"m",k).call(this,B(this,c,"f"),L.ApprovalType.PersonalSign,e,(e=>N(this,void 0,void 0,(function*(){return yield B(this,s,"f").signPersonalMessage(e)}))))}))},f=function(e,t={parseJsonData:!0}){return N(this,void 0,void 0,(function*(){const{version:n}=e;return yield B(this,r,"m",k).call(this,B(this,u,"f"),L.ApprovalType.EthSignTypedData,e,(e=>N(this,void 0,void 0,(function*(){const i=t.parseJsonData?B(this,r,"m",C).call(this,e,n):e;return yield B(this,s,"f").signTypedMessage(i,{version:n})}))))}))},m=function(e,...t){const n=[B(this,a,"f"),B(this,c,"f"),B(this,u,"f")];for(const r of n)if(e(r,...t))return!0;throw new Error("Message not found")},g=function(e,t,n){try{return e.setMessageStatusSigned(t,n),!0}catch(e){return!1}},y=function(e,t,n){try{return e.setMetadata(t,n),!0}catch(e){return!1}},b=function(e,t){try{return e.rejectMessage(t),!0}catch(e){return!1}},w=function(e,t){Object.keys(e.getUnapprovedMessages()).forEach((n=>{B(this,r,"m",_).call(this,e,n,t)}))},v=function(e){e.update({unapprovedMessages:{},unapprovedMessagesCount:0})},k=function(e,t,n,s){return N(this,void 0,void 0,(function*(){console.info(`MetaMaskController - ${t}`);const i=n.metamaskId;try{const r=yield e.approveMessage(n);try{const n=yield s(r);return this.hub.emit(`${t}:signed`,{signature:n,messageId:i}),r.deferSetAsSigned||e.setMessageStatusSigned(i,n),n}catch(e){throw this.hub.emit(`${i}:signError`,{error:e}),e}}catch(n){throw console.info(`MetaMaskController - ${t} failed.`,n),B(this,r,"m",S).call(this,e,i,n.message),n}}))},S=function(e,t,n){e instanceof D.TypedMessageManager?e.setMessageStatusErrored(t,n):B(this,r,"m",_).call(this,e,t)},_=function(e,t,n){if(n){const e=B(this,r,"m",O).call(this,t);this.hub.emit("cancelWithReason",{message:e,reason:n})}e.rejectMessage(t)},E=function(e,t){e.hub.on("updateBadge",(()=>{this.hub.emit("updateBadge")})),e.hub.on("unapprovedMessage",(e=>{this.hub.emit(t,e)}))},T=function(e,t){e.subscribe((e=>{const n=B(this,r,"m",P).call(this,e.unapprovedMessages);this.update((()=>{const r=Object.assign({},this.state);return t(r,n,e.unapprovedMessagesCount),r}))}))},P=function(e){const t={};for(const n of Object.keys(e)){const s=e[n],i=B(this,r,"m",I).call(this,s);t[n]=i}return t},I=function(e){const{messageParams:t}=e,n=R(e,["messageParams"]);return Object.assign(Object.assign({},n),{msgParams:t})},x=function(e){return e.startsWith("0x")?e:(0,F.bufferToHex)(t.from(e,"utf8"))},O=function(e){return Object.assign(Object.assign(Object.assign({},this.state.unapprovedMsgs),this.state.unapprovedPersonalMsgs),this.state.unapprovedTypedMessages)[e]},j=function(e,t){return N(this,void 0,void 0,(function*(){const n=e.metamaskId,r=e.origin||L.ORIGIN_METAMASK,s=(0,V.cloneDeep)(e);return yield this.messagingSystem.call("ApprovalController:addRequest",{id:n,origin:r,type:t,requestData:s,expectsResult:!0},!0)}))},C=function(e,t){return"V1"===t||"string"!=typeof e.data?e:Object.assign(Object.assign({},e),{data:JSON.parse(e.data)})}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/signature-controller",file:"node_modules/@metamask/signature-controller/dist/SignatureController.js"}],[1469,{"./SignatureController":1468},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./SignatureController"),n)}}},{package:"@metamask/signature-controller",file:"node_modules/@metamask/signature-controller/dist/index.js"}],[147,{"../../../shared/constants/network":4019,"bignumber.js":2330,lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,s=e("lodash"),i=(r=e("bignumber.js"))&&r.__esModule?r:{default:r},o=e("../../../shared/constants/network");const a=e=>new i.default(e||"0x0",16).gt(0);var c={version:67,async migrate(e){const t=(0,s.cloneDeep)(e);t.meta.version=67;const n=function(e){var t,n,r;const s=(null==e?void 0:e.PreferencesController)||{},i=s.preferences||{};if(i.showTestNetworks)return e;const c=(null==e||null===(t=e.TransactionController)||void 0===t?void 0:t.transactions)||{},u=(null===(n=e.NetworkController)||void 0===n?void 0:n.provider)||{},l=(null===(r=e.CachedBalancesController)||void 0===r?void 0:r.cachedBalances)||{},d=o.TEST_CHAINS.includes(null==u?void 0:u.chainId),h=Object.values(c).some((({chainId:e})=>o.TEST_CHAINS.includes(e))),p=o.TEST_CHAINS.some((e=>Object.values(l[e]||{}).some(a))),f=d||h||p,m={...e,PreferencesController:{...s,preferences:{...i,showTestNetworks:f}}};return m}(t.data);return t.data=n,t}};n.default=c}}},{package:"$root$",file:"app/scripts/migrations/067.js"}],[1471,{"./constants":1472,"./types":1474,"./utils":1475,"@ethersproject/bignumber":437,"@ethersproject/bytes":439,"@ethersproject/providers":485,"@metamask/base-controller":1063,"@metamask/controller-utils":1068,"bignumber.js":1476,"lodash/cloneDeep":3507,"lodash/mapValues":3535},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_INTERVAL=void 0;const s=e("@metamask/base-controller"),i=e("@metamask/controller-utils"),o=e("bignumber.js"),a=e("@ethersproject/bignumber"),c=e("@ethersproject/providers"),u=e("@ethersproject/bytes"),l=r(e("lodash/mapValues")),d=r(e("lodash/cloneDeep")),h=e("./types"),p=e("./utils"),f=e("./constants");n.DEFAULT_INTERVAL=5e3;class m extends s.BaseController{constructor({onNetworkStateChange:e,getNonceLock:t,getNetwork:r,provider:s,confirmExternalTransaction:i,trackMetaMetricsEvent:o},a,u){super(a,u),this.defaultConfig={interval:n.DEFAULT_INTERVAL,chainId:f.CHAIN_IDS.ETHEREUM,clientId:"default",supportedChainIds:[f.CHAIN_IDS.ETHEREUM,f.CHAIN_IDS.RINKEBY]},this.defaultState={smartTransactionsState:{smartTransactions:{},userOptIn:undefined,fees:{approvalTxFees:undefined,tradeTxFees:undefined},liveness:!0}},this.getNonceLock=t,this.getNetwork=r,this.ethersProvider=new c.Web3Provider(s),this.confirmExternalTransaction=i,this.trackMetaMetricsEvent=o,this.initialize(),this.initializeSmartTransactionsForChainId(),e((({providerConfig:e})=>{const{chainId:t}=e;this.configure({chainId:t}),this.initializeSmartTransactionsForChainId(),this.checkPoll(this.state),this.ethersProvider=new c.Web3Provider(s)})),this.subscribe((e=>this.checkPoll(e)))}async fetch(e,t){const{clientId:n}=this.config,r=Object.assign(Object.assign({},t),{headers:Object.assign({"Content-Type":"application/json"},n&&{"X-Client-Id":n})});return(0,p.handleFetch)(e,r)}checkPoll(e){const{smartTransactions:t}=e.smartTransactionsState,n=t[this.config.chainId],r=null==n?void 0:n.filter(p.isSmartTransactionPending);!this.timeoutHandle&&(null==r?void 0:r.length)>0?this.poll():this.timeoutHandle&&0===(null==r?void 0:r.length)&&this.stop()}initializeSmartTransactionsForChainId(){var e;if(this.config.supportedChainIds.includes(this.config.chainId)){const{smartTransactionsState:t}=this.state;this.update({smartTransactionsState:Object.assign(Object.assign({},t),{smartTransactions:Object.assign(Object.assign({},t.smartTransactions),{[this.config.chainId]:null!==(e=t.smartTransactions[this.config.chainId])&&void 0!==e?e:[]})})})}}async poll(e){const{chainId:t,supportedChainIds:n}=this.config;e&&this.configure({interval:e},!1,!1),this.timeoutHandle&&clearInterval(this.timeoutHandle),n.includes(t)&&(await(0,i.safelyExecute)((()=>this.updateSmartTransactions())),this.timeoutHandle=setInterval((()=>{(0,i.safelyExecute)((()=>this.updateSmartTransactions()))}),this.config.interval))}async stop(){this.timeoutHandle&&clearInterval(this.timeoutHandle),this.timeoutHandle=undefined}setOptInState(e){this.update({smartTransactionsState:Object.assign(Object.assign({},this.state.smartTransactionsState),{userOptIn:e})})}trackStxStatusChange(e,t){if(!t)return;let n=(0,d.default)(e);if(n=Object.assign(Object.assign({},(0,d.default)(t)),n),!n.swapMetaData||n.status===t.status&&t.swapMetaData)return;const r={stx_status:n.status,token_from_symbol:n.sourceTokenSymbol,token_to_symbol:n.destinationTokenSymbol,processing_time:(0,p.getStxProcessingTime)(n.time),stx_enabled:!0,current_stx_enabled:!0,stx_user_opt_in:!0};this.trackMetaMetricsEvent({event:"STX Status Updated",category:"swaps",sensitiveProperties:r})}isNewSmartTransaction(e){const{chainId:t}=this.config,{smartTransactionsState:n}=this.state,{smartTransactions:r}=n,s=r[t],i=null==s?void 0:s.findIndex((t=>t.uuid===e));return-1===i||i===undefined}updateSmartTransaction(e){const{chainId:t}=this.config,{smartTransactionsState:n}=this.state,{smartTransactions:r}=n,s=r[t],i=null==s?void 0:s.findIndex((t=>t.uuid===e.uuid)),o=this.isNewSmartTransaction(e.uuid);if(this.trackStxStatusChange(e,o?undefined:s[i]),o){const r=s.findIndex((t=>{var n,r,s;return(null===(n=t.txParams)||void 0===n?void 0:n.nonce)===(null===(r=e.txParams)||void 0===r?void 0:r.nonce)&&(null===(s=t.status)||void 0===s?void 0:s.startsWith("cancelled"))})),i=[(0,d.default)(e)],o=Object.assign(Object.assign({},e),{history:i}),a=r>-1?s.slice(0,r).concat(s.slice(r+1)).concat(o):s.concat(o);this.update({smartTransactionsState:Object.assign(Object.assign({},n),{smartTransactions:Object.assign(Object.assign({},n.smartTransactions),{[t]:a})})})}else{if((e.status===h.SmartTransactionStatuses.SUCCESS||e.status===h.SmartTransactionStatuses.REVERTED)&&!e.confirmed){const t=s[i],n=Object.assign(Object.assign({},t),e);this.confirmSmartTransaction(n)}this.update({smartTransactionsState:Object.assign(Object.assign({},n),{smartTransactions:Object.assign(Object.assign({},n.smartTransactions),{[t]:n.smartTransactions[t].map(((t,n)=>n===i?Object.assign(Object.assign({},t),e):t))})})})}}async updateSmartTransactions(){const{smartTransactions:e}=this.state.smartTransactionsState,{chainId:t}=this.config,n=(null==e?void 0:e[t]).filter(p.isSmartTransactionPending).map((e=>e.uuid));n.length>0&&this.fetchSmartTransactionsStatus(n)}async confirmSmartTransaction(e){var t,n,r;const s=null===(t=e.statusMetadata)||void 0===t?void 0:t.minedHash;try{const t=await this.ethersProvider.getTransactionReceipt(s),i=await this.ethersProvider.getTransaction(s),o=null===(n=i.maxFeePerGas)||void 0===n?void 0:n.toHexString(),c=null===(r=i.maxPriorityFeePerGas)||void 0===r?void 0:r.toHexString();if(null==t?void 0:t.blockNumber){const n=await this.ethersProvider.getBlock(null==t?void 0:t.blockNumber,!1),r=null==n?void 0:n.baseFeePerGas.toHexString(),i=(0,l.default)(t,(e=>e instanceof a.BigNumber?e.toHexString():e)),u=Object.assign(Object.assign({},e.txParams),{maxFeePerGas:o,maxPriorityFeePerGas:c}),d=Object.assign(Object.assign({},e),{id:e.uuid,status:"confirmed",hash:s,txParams:u}),h=(0,p.snapshotFromTxMeta)(d),f=(0,p.replayHistory)(d.history),m=(0,p.generateHistoryEntry)(f,h,"txStateManager: setting status to confirmed"),g=m.length>0?Object.assign(Object.assign({},d),{history:d.history.concat(m)}):d;this.confirmExternalTransaction(g,i,r),this.trackMetaMetricsEvent({event:"STX Confirmed",category:"swaps"}),this.updateSmartTransaction(Object.assign(Object.assign({},e),{confirmed:!0}))}}catch(e){this.trackMetaMetricsEvent({event:"STX Confirmation Failed",category:"swaps"}),console.error("confirm error",e)}}async fetchSmartTransactionsStatus(e){const{chainId:t}=this.config,n=new URLSearchParams({uuids:e.join(",")}),r=`${(0,p.getAPIRequestURL)(h.APIType.BATCH_STATUS,t)}?${n.toString()}`,s=await this.fetch(r);return Object.entries(s).forEach((([e,t])=>{this.updateSmartTransaction({statusMetadata:t,status:(0,p.calculateStatus)(t),cancellable:(0,p.isSmartTransactionCancellable)(t),uuid:e})})),s}async addNonceToTransaction(e){const t=await this.getNonceLock(e.from),n=t.nextNonce;return t.releaseLock(),Object.assign(Object.assign({},e),{nonce:`0x${n.toString(16)}`})}clearFees(){const e={approvalTxFees:undefined,tradeTxFees:undefined};return this.update({smartTransactionsState:Object.assign(Object.assign({},this.state.smartTransactionsState),{fees:e})}),e}async getFees(e,t){const{chainId:n}=this.config,r=[];let s;if(t){const n=await this.addNonceToTransaction(t);r.push(n),s=Object.assign(Object.assign({},e),{nonce:(0,p.incrementNonceInHex)(n.nonce)})}else s=await this.addNonceToTransaction(e);r.push(s);const i=await this.fetch((0,p.getAPIRequestURL)(h.APIType.GET_FEES,n),{method:"POST",body:JSON.stringify({txs:r})});let o,a;return t?(o=null==i?void 0:i.txs[0],a=null==i?void 0:i.txs[1]):a=null==i?void 0:i.txs[0],this.update({smartTransactionsState:Object.assign(Object.assign({},this.state.smartTransactionsState),{fees:{approvalTxFees:o,tradeTxFees:a}})}),{approvalTxFees:o,tradeTxFees:a}}async submitSignedTransactions({txParams:e,signedTransactions:t,signedCanceledTransactions:n}){const{chainId:r}=this.config,s=await this.fetch((0,p.getAPIRequestURL)(h.APIType.SUBMIT_TRANSACTIONS,r),{method:"POST",body:JSON.stringify({rawTxs:t,rawCancelTxs:n})}),i=Date.now(),a=this.getNetwork();let c;try{const t=await this.ethersProvider.getBalance(null==e?void 0:e.from);c=new o.BigNumber(t.toHexString()).toString(16)}catch(e){console.error("ethers error",e)}const l=await this.getNonceLock(null==e?void 0:e.from);try{const t=(0,u.hexlify)(l.nextNonce);e&&!(null==e?void 0:e.nonce)&&(e.nonce=t);const{nonceDetails:n}=l;this.updateSmartTransaction({chainId:r,nonceDetails:n,metamaskNetworkId:a,preTxBalance:c,status:h.SmartTransactionStatuses.PENDING,time:i,txParams:e,uuid:s.uuid,cancellable:!0})}finally{l.releaseLock()}return s}async cancelSmartTransaction(e){const{chainId:t}=this.config;await this.fetch((0,p.getAPIRequestURL)(h.APIType.CANCEL,t),{method:"POST",body:JSON.stringify({uuid:e})})}async fetchLiveness(){const{chainId:e}=this.config;let t=!1;try{const n=await this.fetch((0,p.getAPIRequestURL)(h.APIType.LIVENESS,e));t=Boolean(n.lastBlock)}catch(e){console.log('"fetchLiveness" API call failed')}return this.update({smartTransactionsState:Object.assign(Object.assign({},this.state.smartTransactionsState),{liveness:t})}),t}async setStatusRefreshInterval(e){e!==this.config.interval&&this.configure({interval:e},!1,!1)}getTransactions({addressFrom:e,status:t}){const{smartTransactions:n}=this.state.smartTransactionsState,{chainId:r}=this.config,s=null==n?void 0:n[r];return s&&0!==s.length?s.filter((n=>{var r;return n.status===t&&(null===(r=n.txParams)||void 0===r?void 0:r.from)===e})):[]}}n.default=m}}},{package:"@metamask/smart-transactions-controller",file:"node_modules/@metamask/smart-transactions-controller/dist/SmartTransactionsController.js"}],[1472,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CHAIN_IDS=n.API_BASE_URL=void 0,n.API_BASE_URL="https://transaction.metaswap.codefi.network",n.CHAIN_IDS={ETHEREUM:"0x1",RINKEBY:"0x4",BSC:"0x38"}}}},{package:"@metamask/smart-transactions-controller",file:"node_modules/@metamask/smart-transactions-controller/dist/constants.js"}],[1473,{"./SmartTransactionsController":1471},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const s=r(e("./SmartTransactionsController"));n.default=s.default}}},{package:"@metamask/smart-transactions-controller",file:"node_modules/@metamask/smart-transactions-controller/dist/index.js"}],[1474,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s;Object.defineProperty(n,"__esModule",{value:!0}),n.cancellationReasonToStatusMap=n.SmartTransactionStatuses=n.SmartTransactionCancellationReason=n.SmartTransactionMinedTx=n.APIType=void 0,function(e){e[e.GET_FEES=0]="GET_FEES",e[e.ESTIMATE_GAS=1]="ESTIMATE_GAS",e[e.SUBMIT_TRANSACTIONS=2]="SUBMIT_TRANSACTIONS",e[e.CANCEL=3]="CANCEL",e[e.BATCH_STATUS=4]="BATCH_STATUS",e[e.LIVENESS=5]="LIVENESS"}(n.APIType||(n.APIType={})),function(e){e.NOT_MINED="not_mined",e.SUCCESS="success",e.CANCELLED="cancelled",e.REVERTED="reverted",e.UNKNOWN="unknown"}(n.SmartTransactionMinedTx||(n.SmartTransactionMinedTx={})),function(e){e.WOULD_REVERT="would_revert",e.TOO_CHEAP="too_cheap",e.DEADLINE_MISSED="deadline_missed",e.INVALID_NONCE="invalid_nonce",e.USER_CANCELLED="user_cancelled",e.NOT_CANCELLED="not_cancelled",e.PREVIOUS_TX_CANCELLED="previous_tx_cancelled"}(r=n.SmartTransactionCancellationReason||(n.SmartTransactionCancellationReason={})),function(e){e.PENDING="pending",e.SUCCESS="success",e.REVERTED="reverted",e.UNKNOWN="unknown",e.CANCELLED="cancelled",e.CANCELLED_WOULD_REVERT="cancelled_would_revert",e.CANCELLED_TOO_CHEAP="cancelled_too_cheap",e.CANCELLED_DEADLINE_MISSED="cancelled_deadline_missed",e.CANCELLED_INVALID_NONCE="cancelled_invalid_nonce",e.CANCELLED_USER_CANCELLED="cancelled_user_cancelled",e.CANCELLED_PREVIOUS_TX_CANCELLED="cancelled_previous_tx_cancelled",e.RESOLVED="resolved"}(s=n.SmartTransactionStatuses||(n.SmartTransactionStatuses={})),n.cancellationReasonToStatusMap={[r.WOULD_REVERT]:s.CANCELLED_WOULD_REVERT,[r.TOO_CHEAP]:s.CANCELLED_TOO_CHEAP,[r.DEADLINE_MISSED]:s.CANCELLED_DEADLINE_MISSED,[r.INVALID_NONCE]:s.CANCELLED_INVALID_NONCE,[r.USER_CANCELLED]:s.CANCELLED_USER_CANCELLED,[r.PREVIOUS_TX_CANCELLED]:s.CANCELLED_PREVIOUS_TX_CANCELLED}}}},{package:"@metamask/smart-transactions-controller",file:"node_modules/@metamask/smart-transactions-controller/dist/types.js"}],[1475,{"./constants":1472,"./types":1474,"@ethersproject/bytes":439,"bignumber.js":1476,"fast-json-patch":3029,lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.incrementNonceInHex=n.isSmartTransactionCancellable=n.handleFetch=n.mapKeysToCamel=n.getStxProcessingTime=n.snapshotFromTxMeta=n.replayHistory=n.generateHistoryEntry=n.calculateStatus=n.getAPIRequestURL=n.isSmartTransactionStatusResolved=n.isSmartTransactionPending=void 0;const s=r(e("fast-json-patch")),i=r(e("lodash")),o=e("bignumber.js"),a=e("@ethersproject/bytes"),c=e("./types"),u=e("./constants");n.isSmartTransactionPending=function(e){return e.status===c.SmartTransactionStatuses.PENDING};n.isSmartTransactionStatusResolved=e=>"uuid_not_found"===e,n.getAPIRequestURL=function(e,t){const n=parseInt(t,16);switch(e){case c.APIType.GET_FEES:return`${u.API_BASE_URL}/networks/${n}/getFees`;case c.APIType.ESTIMATE_GAS:return`${u.API_BASE_URL}/networks/${n}/estimateGas`;case c.APIType.SUBMIT_TRANSACTIONS:return`${u.API_BASE_URL}/networks/${n}/submitTransactions`;case c.APIType.CANCEL:return`${u.API_BASE_URL}/networks/${n}/cancel`;case c.APIType.BATCH_STATUS:return`${u.API_BASE_URL}/networks/${n}/batchStatus`;case c.APIType.LIVENESS:return`${u.API_BASE_URL}/networks/${n}/health`;default:throw new Error("Invalid APIType")}};n.calculateStatus=e=>{if((0,n.isSmartTransactionStatusResolved)(e))return c.SmartTransactionStatuses.RESOLVED;const t=[c.SmartTransactionCancellationReason.WOULD_REVERT,c.SmartTransactionCancellationReason.TOO_CHEAP,c.SmartTransactionCancellationReason.DEADLINE_MISSED,c.SmartTransactionCancellationReason.INVALID_NONCE,c.SmartTransactionCancellationReason.USER_CANCELLED,c.SmartTransactionCancellationReason.PREVIOUS_TX_CANCELLED];if((null==e?void 0:e.minedTx)===c.SmartTransactionMinedTx.NOT_MINED){if(e.cancellationReason===c.SmartTransactionCancellationReason.NOT_CANCELLED)return c.SmartTransactionStatuses.PENDING;const n=t.findIndex((t=>t===e.cancellationReason))>-1;if(e.cancellationReason&&n)return e.isSettled?c.cancellationReasonToStatusMap[e.cancellationReason]:c.SmartTransactionStatuses.PENDING}else{if((null==e?void 0:e.minedTx)===c.SmartTransactionMinedTx.SUCCESS)return c.SmartTransactionStatuses.SUCCESS;if((null==e?void 0:e.minedTx)===c.SmartTransactionMinedTx.CANCELLED)return c.SmartTransactionStatuses.CANCELLED;if((null==e?void 0:e.minedTx)===c.SmartTransactionMinedTx.REVERTED)return c.SmartTransactionStatuses.REVERTED;if((null==e?void 0:e.minedTx)===c.SmartTransactionMinedTx.UNKNOWN)return c.SmartTransactionStatuses.UNKNOWN}return c.SmartTransactionStatuses.UNKNOWN},n.generateHistoryEntry=function(e,t,n){const r=s.default.compare(e,t);return r[0]&&(n&&(r[0].note=n),r[0].timestamp=Date.now()),r},n.replayHistory=function(e){return i.default.cloneDeep(e).reduce(((e,t)=>s.default.applyPatch(e,t).newDocument))},n.snapshotFromTxMeta=function(e){const t=Object.assign({},e);return delete t.history,i.default.cloneDeep(t)};n.getStxProcessingTime=e=>e?Math.round((Date.now()-e)/1e3):undefined;n.mapKeysToCamel=e=>{if(!i.default.isObject(e))return e;const t=i.default.mapValues(e,(e=>i.default.isArray(e)?e.map(n.mapKeysToCamel):i.default.isObject(e)?(0,n.mapKeysToCamel)(e):e));return i.default.mapKeys(t,((e,t)=>i.default.camelCase(t)))},n.handleFetch=async function(e,t){const r=await fetch(e,t),s=await r.json();if(!r.ok)throw console.log("response",r),new Error(`Fetch error:${JSON.stringify(Object.assign({status:r.status},(0,n.mapKeysToCamel)(s)))}`);return s};n.isSmartTransactionCancellable=e=>e.minedTx===c.SmartTransactionMinedTx.NOT_MINED&&(!e.cancellationReason||e.cancellationReason===c.SmartTransactionCancellationReason.NOT_CANCELLED);n.incrementNonceInHex=e=>{const t=new o.BigNumber(e,16).toString(10);return(0,a.hexlify)(Number(t)+1)}}}},{package:"@metamask/smart-transactions-controller",file:"node_modules/@metamask/smart-transactions-controller/dist/utils.js"}],[1476,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){!function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,i=Math.floor,o="[BigNumber Error] ",a=o+"Number primitive has more than 15 significant digits: ",c=1e14,u=14,l=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,p=1e9;function f(e){var t=0|e;return e>0||e===t?t:t-1}function m(e){for(var t,n,r=1,s=e.length,i=e[0]+"";r<s;){for(t=e[r++]+"",n=u-t.length;n--;t="0"+t);i+=t}for(s=i.length;48===i.charCodeAt(--s););return i.slice(0,s+1||1)}function g(e,t){var n,r,s=e.c,i=t.c,o=e.s,a=t.s,c=e.e,u=t.e;if(!o||!a)return null;if(n=s&&!s[0],r=i&&!i[0],n||r)return n?r?0:-a:o;if(o!=a)return o;if(n=o<0,r=c==u,!s||!i)return r?0:!s^n?1:-1;if(!r)return c>u^n?1:-1;for(a=(c=s.length)<(u=i.length)?c:u,o=0;o<a;o++)if(s[o]!=i[o])return s[o]>i[o]^n?1:-1;return c==u?0:c>u^n?1:-1}function y(e,t,n,r){if(e<t||e>n||e!==i(e))throw Error(o+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function b(e){var t=e.c.length-1;return f(e.e/u)==t&&e.c[t]%2!=0}function w(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function v(e,t,n){var r,s;if(t<0){for(s=n+".";++t;s+=n);e=s+e}else if(++t>(r=e.length)){for(s=n,t-=r;--t;s+=n);e+=s}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}n=function e(t){var n,k,S,_,E,T,P,I,x,O,j=K.prototype={constructor:K,toString:null,valueOf:null},C=new K(1),N=20,A=4,B=-7,R=21,M=-1e7,U=1e7,L=!1,D=1,H=0,F={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},z="0123456789abcdefghijklmnopqrstuvwxyz",V=!0;function K(e,t){var n,s,o,c,d,h,p,f,m=this;if(!(m instanceof K))return new K(e,t);if(null==t){if(e&&!0===e._isBigNumber)return m.s=e.s,void(!e.c||e.e>U?m.c=m.e=null:e.e<M?m.c=[m.e=0]:(m.e=e.e,m.c=e.c.slice()));if((h="number"==typeof e)&&0*e==0){if(m.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,d=e;d>=10;d/=10,c++);return void(c>U?m.c=m.e=null:(m.e=c,m.c=[e]))}f=String(e)}else{if(!r.test(f=String(e)))return S(m,f,h);m.s=45==f.charCodeAt(0)?(f=f.slice(1),-1):1}(c=f.indexOf("."))>-1&&(f=f.replace(".","")),(d=f.search(/e/i))>0?(c<0&&(c=d),c+=+f.slice(d+1),f=f.substring(0,d)):c<0&&(c=f.length)}else{if(y(t,2,z.length,"Base"),10==t&&V)return q(m=new K(e),N+m.e+1,A);if(f=String(e),h="number"==typeof e){if(0*e!=0)return S(m,f,h,t);if(m.s=1/e<0?(f=f.slice(1),-1):1,K.DEBUG&&f.replace(/^0\.0*|\./,"").length>15)throw Error(a+e)}else m.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1;for(n=z.slice(0,t),c=d=0,p=f.length;d<p;d++)if(n.indexOf(s=f.charAt(d))<0){if("."==s){if(d>c){c=p;continue}}else if(!o&&(f==f.toUpperCase()&&(f=f.toLowerCase())||f==f.toLowerCase()&&(f=f.toUpperCase()))){o=!0,d=-1,c=0;continue}return S(m,String(e),h,t)}h=!1,(c=(f=k(f,t,10,m.s)).indexOf("."))>-1?f=f.replace(".",""):c=f.length}for(d=0;48===f.charCodeAt(d);d++);for(p=f.length;48===f.charCodeAt(--p););if(f=f.slice(d,++p)){if(p-=d,h&&K.DEBUG&&p>15&&(e>l||e!==i(e)))throw Error(a+m.s*e);if((c=c-d-1)>U)m.c=m.e=null;else if(c<M)m.c=[m.e=0];else{if(m.e=c,m.c=[],d=(c+1)%u,c<0&&(d+=u),d<p){for(d&&m.c.push(+f.slice(0,d)),p-=u;d<p;)m.c.push(+f.slice(d,d+=u));d=u-(f=f.slice(d)).length}else d-=p;for(;d--;f+="0");m.c.push(+f)}}else m.c=[m.e=0]}function $(e,t,n,r){var s,i,o,a,c;if(null==n?n=A:y(n,0,8),!e.c)return e.toString();if(s=e.c[0],o=e.e,null==t)c=m(e.c),c=1==r||2==r&&(o<=B||o>=R)?w(c,o):v(c,o,"0");else if(i=(e=q(new K(e),t,n)).e,a=(c=m(e.c)).length,1==r||2==r&&(t<=i||i<=B)){for(;a<t;c+="0",a++);c=w(c,i)}else if(t-=o,c=v(c,i,"0"),i+1>a){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=i-a)>0)for(i+1==a&&(c+=".");t--;c+="0");return e.s<0&&s?"-"+c:c}function J(e,t){for(var n,r=1,s=new K(e[0]);r<e.length;r++){if(!(n=new K(e[r])).s){s=n;break}t.call(s,n)&&(s=n)}return s}function G(e,t,n){for(var r=1,s=t.length;!t[--s];t.pop());for(s=t[0];s>=10;s/=10,r++);return(n=r+n*u-1)>U?e.c=e.e=null:n<M?e.c=[e.e=0]:(e.e=n,e.c=t),e}function q(e,t,n,r){var o,a,l,h,p,f,m,g=e.c,y=d;if(g){e:{for(o=1,h=g[0];h>=10;h/=10,o++);if((a=t-o)<0)a+=u,l=t,m=(p=g[f=0])/y[o-l-1]%10|0;else if((f=s((a+1)/u))>=g.length){if(!r)break e;for(;g.length<=f;g.push(0));p=m=0,o=1,l=(a%=u)-u+1}else{for(p=h=g[f],o=1;h>=10;h/=10,o++);m=(l=(a%=u)-u+o)<0?0:p/y[o-l-1]%10|0}if(r=r||t<0||null!=g[f+1]||(l<0?p:p%y[o-l-1]),r=n<4?(m||r)&&(0==n||n==(e.s<0?3:2)):m>5||5==m&&(4==n||r||6==n&&(a>0?l>0?p/y[o-l]:0:g[f-1])%10&1||n==(e.s<0?8:7)),t<1||!g[0])return g.length=0,r?(t-=e.e+1,g[0]=y[(u-t%u)%u],e.e=-t||0):g[0]=e.e=0,e;if(0==a?(g.length=f,h=1,f--):(g.length=f+1,h=y[u-a],g[f]=l>0?i(p/y[o-l]%y[l])*h:0),r)for(;;){if(0==f){for(a=1,l=g[0];l>=10;l/=10,a++);for(l=g[0]+=h,h=1;l>=10;l/=10,h++);a!=h&&(e.e++,g[0]==c&&(g[0]=1));break}if(g[f]+=h,g[f]!=c)break;g[f--]=0,h=1}for(a=g.length;0===g[--a];g.pop());}e.e>U?e.c=e.e=null:e.e<M&&(e.c=[e.e=0])}return e}function W(e){var t,n=e.e;return null===n?e.toString():(t=m(e.c),t=n<=B||n>=R?w(t,n):v(t,n,"0"),e.s<0?"-"+t:t)}return K.clone=e,K.ROUND_UP=0,K.ROUND_DOWN=1,K.ROUND_CEIL=2,K.ROUND_FLOOR=3,K.ROUND_HALF_UP=4,K.ROUND_HALF_DOWN=5,K.ROUND_HALF_EVEN=6,K.ROUND_HALF_CEIL=7,K.ROUND_HALF_FLOOR=8,K.EUCLID=9,K.config=K.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(o+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(y(n=e[t],0,p,t),N=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(y(n=e[t],0,8,t),A=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(y(n[0],-p,0,t),y(n[1],0,p,t),B=n[0],R=n[1]):(y(n,-p,p,t),B=-(R=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)y(n[0],-p,-1,t),y(n[1],1,p,t),M=n[0],U=n[1];else{if(y(n,-p,p,t),!n)throw Error(o+t+" cannot be zero: "+n);M=-(U=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(o+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw L=!n,Error(o+"crypto unavailable");L=n}else L=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(y(n=e[t],0,9,t),D=n),e.hasOwnProperty(t="POW_PRECISION")&&(y(n=e[t],0,p,t),H=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(o+t+" not an object: "+n);F=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(o+t+" invalid: "+n);V="0123456789"==n.slice(0,10),z=n}}return{DECIMAL_PLACES:N,ROUNDING_MODE:A,EXPONENTIAL_AT:[B,R],RANGE:[M,U],CRYPTO:L,MODULO_MODE:D,POW_PRECISION:H,FORMAT:F,ALPHABET:z}},K.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!K.DEBUG)return!0;var t,n,r=e.c,s=e.e,a=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===a||-1===a)&&s>=-p&&s<=p&&s===i(s)){if(0===r[0]){if(0===s&&1===r.length)return!0;break e}if((t=(s+1)%u)<1&&(t+=u),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=c||n!==i(n))break e;if(0!==n)return!0}}}else if(null===r&&null===s&&(null===a||1===a||-1===a))return!0;throw Error(o+"Invalid BigNumber: "+e)},K.maximum=K.max=function(){return J(arguments,j.lt)},K.minimum=K.min=function(){return J(arguments,j.gt)},K.random=(_=9007199254740992,E=Math.random()*_&2097151?function(){return i(Math.random()*_)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,a,c,l=0,h=[],f=new K(C);if(null==e?e=N:y(e,0,p),a=s(e/u),L)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(a*=2));l<a;)(c=131072*t[l]+(t[l+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[l]=n[0],t[l+1]=n[1]):(h.push(c%1e14),l+=2);l=a/2}else{if(!crypto.randomBytes)throw L=!1,Error(o+"crypto unavailable");for(t=crypto.randomBytes(a*=7);l<a;)(c=281474976710656*(31&t[l])+1099511627776*t[l+1]+4294967296*t[l+2]+16777216*t[l+3]+(t[l+4]<<16)+(t[l+5]<<8)+t[l+6])>=9e15?crypto.randomBytes(7).copy(t,l):(h.push(c%1e14),l+=7);l=a/7}if(!L)for(;l<a;)(c=E())<9e15&&(h[l++]=c%1e14);for(a=h[--l],e%=u,a&&e&&(c=d[u-e],h[l]=i(a/c)*c);0===h[l];h.pop(),l--);if(l<0)h=[r=0];else{for(r=-1;0===h[0];h.splice(0,1),r-=u);for(l=1,c=h[0];c>=10;c/=10,l++);l<u&&(r-=u-l)}return f.e=r,f.c=h,f}),K.sum=function(){for(var e=1,t=arguments,n=new K(t[0]);e<t.length;)n=n.plus(t[e++]);return n},k=function(){var e="0123456789";function t(e,t,n,r){for(var s,i,o=[0],a=0,c=e.length;a<c;){for(i=o.length;i--;o[i]*=t);for(o[0]+=r.indexOf(e.charAt(a++)),s=0;s<o.length;s++)o[s]>n-1&&(null==o[s+1]&&(o[s+1]=0),o[s+1]+=o[s]/n|0,o[s]%=n)}return o.reverse()}return function(r,s,i,o,a){var c,u,l,d,h,p,f,g,y=r.indexOf("."),b=N,w=A;for(y>=0&&(d=H,H=0,r=r.replace(".",""),p=(g=new K(s)).pow(r.length-y),H=d,g.c=t(v(m(p.c),p.e,"0"),10,i,e),g.e=g.c.length),l=d=(f=t(r,s,i,a?(c=z,e):(c=e,z))).length;0==f[--d];f.pop());if(!f[0])return c.charAt(0);if(y<0?--l:(p.c=f,p.e=l,p.s=o,f=(p=n(p,g,b,w,i)).c,h=p.r,l=p.e),y=f[u=l+b+1],d=i/2,h=h||u<0||null!=f[u+1],h=w<4?(null!=y||h)&&(0==w||w==(p.s<0?3:2)):y>d||y==d&&(4==w||h||6==w&&1&f[u-1]||w==(p.s<0?8:7)),u<1||!f[0])r=h?v(c.charAt(1),-b,c.charAt(0)):c.charAt(0);else{if(f.length=u,h)for(--i;++f[--u]>i;)f[u]=0,u||(++l,f=[1].concat(f));for(d=f.length;!f[--d];);for(y=0,r="";y<=d;r+=c.charAt(f[y++]));r=v(r,l,c.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,s,i,o,a=0,c=e.length,u=t%h,l=t/h|0;for(e=e.slice();c--;)a=((s=u*(i=e[c]%h)+(r=l*i+(o=e[c]/h|0)*u)%h*h+a)/n|0)+(r/h|0)+l*o,e[c]=s%n;return a&&(e=[a].concat(e)),e}function t(e,t,n,r){var s,i;if(n!=r)i=n>r?1:-1;else for(s=i=0;s<n;s++)if(e[s]!=t[s]){i=e[s]>t[s]?1:-1;break}return i}function n(e,t,n,r){for(var s=0;n--;)e[n]-=s,s=e[n]<t[n]?1:0,e[n]=s*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,s,o,a,l){var d,h,p,m,g,y,b,w,v,k,S,_,E,T,P,I,x,O=r.s==s.s?1:-1,j=r.c,C=s.c;if(!(j&&j[0]&&C&&C[0]))return new K(r.s&&s.s&&(j?!C||j[0]!=C[0]:C)?j&&0==j[0]||!C?0*O:O/0:NaN);for(v=(w=new K(O)).c=[],O=o+(h=r.e-s.e)+1,l||(l=c,h=f(r.e/u)-f(s.e/u),O=O/u|0),p=0;C[p]==(j[p]||0);p++);if(C[p]>(j[p]||0)&&h--,O<0)v.push(1),m=!0;else{for(T=j.length,I=C.length,p=0,O+=2,(g=i(l/(C[0]+1)))>1&&(C=e(C,g,l),j=e(j,g,l),I=C.length,T=j.length),E=I,S=(k=j.slice(0,I)).length;S<I;k[S++]=0);x=C.slice(),x=[0].concat(x),P=C[0],C[1]>=l/2&&P++;do{if(g=0,(d=t(C,k,I,S))<0){if(_=k[0],I!=S&&(_=_*l+(k[1]||0)),(g=i(_/P))>1)for(g>=l&&(g=l-1),b=(y=e(C,g,l)).length,S=k.length;1==t(y,k,b,S);)g--,n(y,I<b?x:C,b,l),b=y.length,d=1;else 0==g&&(d=g=1),b=(y=C.slice()).length;if(b<S&&(y=[0].concat(y)),n(k,y,S,l),S=k.length,-1==d)for(;t(C,k,I,S)<1;)g++,n(k,I<S?x:C,S,l),S=k.length}else 0===d&&(g++,k=[0]);v[p++]=g,k[0]?k[S++]=j[E]||0:(k=[j[E]],S=1)}while((E++<T||null!=k[0])&&O--);m=null!=k[0],v[0]||v.splice(0,1)}if(l==c){for(p=1,O=v[0];O>=10;O/=10,p++);q(w,o+(w.e=p+h*u-1)+1,a,m)}else w.e=h,w.r=+m;return w}}(),T=/^(-?)0([xbo])(?=\w[\w.]*$)/i,P=/^([^.]+)\.$/,I=/^\.([^.]+)$/,x=/^-?(Infinity|NaN)$/,O=/^\s*\+(?=[\w.])|^\s+|\s+$/g,S=function(e,t,n,r){var s,i=n?t:t.replace(O,"");if(x.test(i))e.s=isNaN(i)?null:i<0?-1:1;else{if(!n&&(i=i.replace(T,(function(e,t,n){return s="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=s?e:t})),r&&(s=r,i=i.replace(P,"$1").replace(I,"0.$1")),t!=i))return new K(i,s);if(K.DEBUG)throw Error(o+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},j.absoluteValue=j.abs=function(){var e=new K(this);return e.s<0&&(e.s=1),e},j.comparedTo=function(e,t){return g(this,new K(e,t))},j.decimalPlaces=j.dp=function(e,t){var n,r,s,i=this;if(null!=e)return y(e,0,p),null==t?t=A:y(t,0,8),q(new K(i),e+i.e+1,t);if(!(n=i.c))return null;if(r=((s=n.length-1)-f(this.e/u))*u,s=n[s])for(;s%10==0;s/=10,r--);return r<0&&(r=0),r},j.dividedBy=j.div=function(e,t){return n(this,new K(e,t),N,A)},j.dividedToIntegerBy=j.idiv=function(e,t){return n(this,new K(e,t),0,1)},j.exponentiatedBy=j.pow=function(e,t){var n,r,a,c,l,d,h,p,f=this;if((e=new K(e)).c&&!e.isInteger())throw Error(o+"Exponent not an integer: "+W(e));if(null!=t&&(t=new K(t)),l=e.e>14,!f.c||!f.c[0]||1==f.c[0]&&!f.e&&1==f.c.length||!e.c||!e.c[0])return p=new K(Math.pow(+W(f),l?e.s*(2-b(e)):+W(e))),t?p.mod(t):p;if(d=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new K(NaN);(r=!d&&f.isInteger()&&t.isInteger())&&(f=f.mod(t))}else{if(e.e>9&&(f.e>0||f.e<-1||(0==f.e?f.c[0]>1||l&&f.c[1]>=24e7:f.c[0]<8e13||l&&f.c[0]<=9999975e7)))return c=f.s<0&&b(e)?-0:0,f.e>-1&&(c=1/c),new K(d?1/c:c);H&&(c=s(H/u+2))}for(l?(n=new K(.5),d&&(e.s=1),h=b(e)):h=(a=Math.abs(+W(e)))%2,p=new K(C);;){if(h){if(!(p=p.times(f)).c)break;c?p.c.length>c&&(p.c.length=c):r&&(p=p.mod(t))}if(a){if(0===(a=i(a/2)))break;h=a%2}else if(q(e=e.times(n),e.e+1,1),e.e>14)h=b(e);else{if(0===(a=+W(e)))break;h=a%2}f=f.times(f),c?f.c&&f.c.length>c&&(f.c.length=c):r&&(f=f.mod(t))}return r?p:(d&&(p=C.div(p)),t?p.mod(t):c?q(p,H,A,undefined):p)},j.integerValue=function(e){var t=new K(this);return null==e?e=A:y(e,0,8),q(t,t.e+1,e)},j.isEqualTo=j.eq=function(e,t){return 0===g(this,new K(e,t))},j.isFinite=function(){return!!this.c},j.isGreaterThan=j.gt=function(e,t){return g(this,new K(e,t))>0},j.isGreaterThanOrEqualTo=j.gte=function(e,t){return 1===(t=g(this,new K(e,t)))||0===t},j.isInteger=function(){return!!this.c&&f(this.e/u)>this.c.length-2},j.isLessThan=j.lt=function(e,t){return g(this,new K(e,t))<0},j.isLessThanOrEqualTo=j.lte=function(e,t){return-1===(t=g(this,new K(e,t)))||0===t},j.isNaN=function(){return!this.s},j.isNegative=function(){return this.s<0},j.isPositive=function(){return this.s>0},j.isZero=function(){return!!this.c&&0==this.c[0]},j.minus=function(e,t){var n,r,s,i,o=this,a=o.s;if(t=(e=new K(e,t)).s,!a||!t)return new K(NaN);if(a!=t)return e.s=-t,o.plus(e);var l=o.e/u,d=e.e/u,h=o.c,p=e.c;if(!l||!d){if(!h||!p)return h?(e.s=-t,e):new K(p?o:NaN);if(!h[0]||!p[0])return p[0]?(e.s=-t,e):new K(h[0]?o:3==A?-0:0)}if(l=f(l),d=f(d),h=h.slice(),a=l-d){for((i=a<0)?(a=-a,s=h):(d=l,s=p),s.reverse(),t=a;t--;s.push(0));s.reverse()}else for(r=(i=(a=h.length)<(t=p.length))?a:t,a=t=0;t<r;t++)if(h[t]!=p[t]){i=h[t]<p[t];break}if(i&&(s=h,h=p,p=s,e.s=-e.s),(t=(r=p.length)-(n=h.length))>0)for(;t--;h[n++]=0);for(t=c-1;r>a;){if(h[--r]<p[r]){for(n=r;n&&!h[--n];h[n]=t);--h[n],h[r]+=c}h[r]-=p[r]}for(;0==h[0];h.splice(0,1),--d);return h[0]?G(e,h,d):(e.s=3==A?-1:1,e.c=[e.e=0],e)},j.modulo=j.mod=function(e,t){var r,s,i=this;return e=new K(e,t),!i.c||!e.s||e.c&&!e.c[0]?new K(NaN):!e.c||i.c&&!i.c[0]?new K(i):(9==D?(s=e.s,e.s=1,r=n(i,e,0,3),e.s=s,r.s*=s):r=n(i,e,0,D),(e=i.minus(r.times(e))).c[0]||1!=D||(e.s=i.s),e)},j.multipliedBy=j.times=function(e,t){var n,r,s,i,o,a,l,d,p,m,g,y,b,w,v,k=this,S=k.c,_=(e=new K(e,t)).c;if(!(S&&_&&S[0]&&_[0]))return!k.s||!e.s||S&&!S[0]&&!_||_&&!_[0]&&!S?e.c=e.e=e.s=null:(e.s*=k.s,S&&_?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=f(k.e/u)+f(e.e/u),e.s*=k.s,(l=S.length)<(m=_.length)&&(b=S,S=_,_=b,s=l,l=m,m=s),s=l+m,b=[];s--;b.push(0));for(w=c,v=h,s=m;--s>=0;){for(n=0,g=_[s]%v,y=_[s]/v|0,i=s+(o=l);i>s;)n=((d=g*(d=S[--o]%v)+(a=y*d+(p=S[o]/v|0)*g)%v*v+b[i]+n)/w|0)+(a/v|0)+y*p,b[i--]=d%w;b[i]=n}return n?++r:b.splice(0,1),G(e,b,r)},j.negated=function(){var e=new K(this);return e.s=-e.s||null,e},j.plus=function(e,t){var n,r=this,s=r.s;if(t=(e=new K(e,t)).s,!s||!t)return new K(NaN);if(s!=t)return e.s=-t,r.minus(e);var i=r.e/u,o=e.e/u,a=r.c,l=e.c;if(!i||!o){if(!a||!l)return new K(s/0);if(!a[0]||!l[0])return l[0]?e:new K(a[0]?r:0*s)}if(i=f(i),o=f(o),a=a.slice(),s=i-o){for(s>0?(o=i,n=l):(s=-s,n=a),n.reverse();s--;n.push(0));n.reverse()}for((s=a.length)-(t=l.length)<0&&(n=l,l=a,a=n,t=s),s=0;t;)s=(a[--t]=a[t]+l[t]+s)/c|0,a[t]=c===a[t]?0:a[t]%c;return s&&(a=[s].concat(a),++o),G(e,a,o)},j.precision=j.sd=function(e,t){var n,r,s,i=this;if(null!=e&&e!==!!e)return y(e,1,p),null==t?t=A:y(t,0,8),q(new K(i),e,t);if(!(n=i.c))return null;if(r=(s=n.length-1)*u+1,s=n[s]){for(;s%10==0;s/=10,r--);for(s=n[0];s>=10;s/=10,r++);}return e&&i.e+1>r&&(r=i.e+1),r},j.shiftedBy=function(e){return y(e,-9007199254740991,l),this.times("1e"+e)},j.squareRoot=j.sqrt=function(){var e,t,r,s,i,o=this,a=o.c,c=o.s,u=o.e,l=N+4,d=new K("0.5");if(1!==c||!a||!a[0])return new K(!c||c<0&&(!a||a[0])?NaN:a?o:1/0);if(0==(c=Math.sqrt(+W(o)))||c==1/0?(((t=m(a)).length+u)%2==0&&(t+="0"),c=Math.sqrt(+t),u=f((u+1)/2)-(u<0||u%2),r=new K(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):r=new K(c+""),r.c[0])for((c=(u=r.e)+l)<3&&(c=0);;)if(i=r,r=d.times(i.plus(n(o,i,l,1))),m(i.c).slice(0,c)===(t=m(r.c)).slice(0,c)){if(r.e<u&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(s||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(q(r,r.e+N+2,1),e=!r.times(r).eq(o));break}if(!s&&(q(i,i.e+N+2,0),i.times(i).eq(o))){r=i;break}l+=4,c+=4,s=1}return q(r,r.e+N+1,A,e)},j.toExponential=function(e,t){return null!=e&&(y(e,0,p),e++),$(this,e,t,1)},j.toFixed=function(e,t){return null!=e&&(y(e,0,p),e=e+this.e+1),$(this,e,t)},j.toFormat=function(e,t,n){var r,s=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=F;else if("object"!=typeof n)throw Error(o+"Argument not an object: "+n);if(r=s.toFixed(e,t),s.c){var i,a=r.split("."),c=+n.groupSize,u=+n.secondaryGroupSize,l=n.groupSeparator||"",d=a[0],h=a[1],p=s.s<0,f=p?d.slice(1):d,m=f.length;if(u&&(i=c,c=u,u=i,m-=i),c>0&&m>0){for(i=m%c||c,d=f.substr(0,i);i<m;i+=c)d+=l+f.substr(i,c);u>0&&(d+=l+f.slice(i)),p&&(d="-"+d)}r=h?d+(n.decimalSeparator||"")+((u=+n.fractionGroupSize)?h.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):h):d}return(n.prefix||"")+r+(n.suffix||"")},j.toFraction=function(e){var t,r,s,i,a,c,l,h,p,f,g,y,b=this,w=b.c;if(null!=e&&(!(l=new K(e)).isInteger()&&(l.c||1!==l.s)||l.lt(C)))throw Error(o+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+W(l));if(!w)return new K(b);for(t=new K(C),p=r=new K(C),s=h=new K(C),y=m(w),a=t.e=y.length-b.e-1,t.c[0]=d[(c=a%u)<0?u+c:c],e=!e||l.comparedTo(t)>0?a>0?t:p:l,c=U,U=1/0,l=new K(y),h.c[0]=0;f=n(l,t,0,1),1!=(i=r.plus(f.times(s))).comparedTo(e);)r=s,s=i,p=h.plus(f.times(i=p)),h=i,t=l.minus(f.times(i=t)),l=i;return i=n(e.minus(r),s,0,1),h=h.plus(i.times(p)),r=r.plus(i.times(s)),h.s=p.s=b.s,g=n(p,s,a*=2,A).minus(b).abs().comparedTo(n(h,r,a,A).minus(b).abs())<1?[p,s]:[h,r],U=c,g},j.toNumber=function(){return+W(this)},j.toPrecision=function(e,t){return null!=e&&y(e,1,p),$(this,e,t,2)},j.toString=function(e){var t,n=this,r=n.s,s=n.e;return null===s?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=s<=B||s>=R?w(m(n.c),s):v(m(n.c),s,"0"):10===e&&V?t=v(m((n=q(new K(n),N+s+1,A)).c),n.e,"0"):(y(e,2,z.length,"Base"),t=k(v(m(n.c),s,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},j.valueOf=j.toJSON=function(){return W(this)},j._isBigNumber=!0,null!=t&&K.set(t),K}(),n.default=n.BigNumber=n,"function"==typeof define&&define.amd?define((function(){return n})):void 0!==t&&t.exports?t.exports=n:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=n)}(this)}}},{package:"@metamask/smart-transactions-controller>bignumber.js",file:"node_modules/@metamask/smart-transactions-controller/node_modules/bignumber.js/bignumber.js"}],[1477,{"./nodes":1479,"@metamask/utils":1489},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.text=n.spinner=n.panel=n.heading=n.divider=n.copyable=void 0;const r=e("@metamask/utils"),s=e("./nodes");function i(e,t,n=[]){return(...s)=>{if(1===s.length&&(0,r.isPlainObject)(s[0])){const n={...s[0],type:e};return(0,r.assertStruct)(n,t,`Invalid ${e} component`),n}const i=n.reduce(((e,t,n)=>({...e,[t]:s[n]})),{type:e});return(0,r.assertStruct)(i,t,`Invalid ${e} component`),i}}n.copyable=i(s.NodeType.Copyable,s.CopyableStruct,["value"]),n.divider=i(s.NodeType.Divider,s.DividerStruct),n.heading=i(s.NodeType.Heading,s.HeadingStruct,["value"]),n.panel=i(s.NodeType.Panel,s.PanelStruct,["children"]),n.spinner=i(s.NodeType.Spinner,s.SpinnerStruct),n.text=i(s.NodeType.Text,s.TextStruct,["value"])}}},{package:"@metamask/snaps-ui",file:"node_modules/@metamask/snaps-ui/dist/builder.js"}],[1478,{"./builder":1477,"./nodes":1479,"./validation":1480},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./builder"),n),s(e("./nodes"),n),s(e("./validation"),n)}}},{package:"@metamask/snaps-ui",file:"node_modules/@metamask/snaps-ui/dist/index.js"}],[1479,{superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ComponentStruct=n.TextStruct=n.SpinnerStruct=n.PanelStruct=n.HeadingStruct=n.DividerStruct=n.CopyableStruct=n.NodeType=void 0;const r=e("superstruct"),s=(0,r.object)({type:(0,r.string)()}),i=(0,r.assign)(s,(0,r.object)({children:(0,r.array)((0,r.lazy)((()=>n.ComponentStruct)))})),o=(0,r.assign)(s,(0,r.object)({value:(0,r.unknown)()}));var a;!function(e){e.Copyable="copyable",e.Divider="divider",e.Heading="heading",e.Panel="panel",e.Spinner="spinner",e.Text="text"}(a=n.NodeType||(n.NodeType={})),n.CopyableStruct=(0,r.assign)(o,(0,r.object)({type:(0,r.literal)(a.Copyable),value:(0,r.string)()})),n.DividerStruct=(0,r.assign)(s,(0,r.object)({type:(0,r.literal)(a.Divider)})),n.HeadingStruct=(0,r.assign)(o,(0,r.object)({type:(0,r.literal)(a.Heading),value:(0,r.string)()})),n.PanelStruct=(0,r.assign)(i,(0,r.object)({type:(0,r.literal)(a.Panel)})),n.SpinnerStruct=(0,r.assign)(s,(0,r.object)({type:(0,r.literal)(a.Spinner)})),n.TextStruct=(0,r.assign)(o,(0,r.object)({type:(0,r.literal)(a.Text),value:(0,r.string)()})),n.ComponentStruct=(0,r.union)([n.CopyableStruct,n.DividerStruct,n.HeadingStruct,n.PanelStruct,n.SpinnerStruct,n.TextStruct])}}},{package:"@metamask/snaps-ui",file:"node_modules/@metamask/snaps-ui/dist/nodes.js"}],[148,{lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("lodash");var s={version:68,async migrate(e){const t=(0,r.cloneDeep)(e);t.meta.version=68;const n=function(e){const{PermissionsController:t={},PermissionsMetadata:n={},...r}=e,{domainMetadata:s={},permissionsHistory:a={},permissionsLog:c=[]}=n;return{...r,PermissionController:i(t),PermissionLogController:{permissionActivityLog:c,permissionHistory:a},SubjectMetadataController:o(s)}}(t.data);return t.data=n,t}};function i(e){const{domains:t={}}=e;return{subjects:Object.entries(t).reduce(((e,[t,n])=>{const{permissions:[r]}=n,s=r.caveats.find((e=>"exposedAccounts"===e.name)),i={...r,caveats:[{type:"restrictReturnedAccounts",value:s.value}]};return delete i["@context"],e[t]={origin:t,permissions:{eth_accounts:i}},e}),{})}}function o(e){return{subjectMetadata:Object.entries(e).reduce(((e,[t,n])=>{const{name:r=null,icon:s=null,extensionId:i=null,...o}=n;return delete o.lastUpdated,delete o.host,t&&(e[t]={name:r,iconUrl:s,extensionId:i,...o,origin:t}),e}),{})}}n.default=s}}},{package:"$root$",file:"app/scripts/migrations/068.js"}],[1480,{"./nodes":1479,"@metamask/utils":1489,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.assertIsComponent=n.isComponent=void 0;const r=e("@metamask/utils"),s=e("superstruct"),i=e("./nodes");n.isComponent=function(e){return(0,s.is)(e,i.ComponentStruct)},n.assertIsComponent=function(e){(0,r.assertStruct)(e,i.ComponentStruct,"Invalid component")}}}},{package:"@metamask/snaps-ui",file:"node_modules/@metamask/snaps-ui/dist/validation.js"}],[1481,{superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.assertExhaustive=n.assertStruct=n.assert=n.AssertionError=void 0;const r=e("superstruct");function s(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class i extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}n.AssertionError=i,n.assert=function(e,t="Assertion failed.",n=i){if(!e){if(t instanceof Error)throw t;throw s(n,t)}},n.assertStruct=function(e,t,n="Assertion failed",o=i){try{(0,r.assert)(e,t)}catch(e){throw s(o,`${n}: ${function(e){const t=function(e){return"object"==typeof e&&null!==e&&"message"in e}(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}(e)}.`)}},n.assertExhaustive=function(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}}}},{package:"@metamask/snaps-ui>@metamask/utils",file:"node_modules/@metamask/snaps-ui/node_modules/@metamask/utils/dist/assert.js"}],[1482,{"./assert":1481,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.base64=void 0;const r=e("superstruct"),s=e("./assert");n.base64=(e,t={})=>{const n=t.paddingRequired??!1,i=t.characterSet??"base64";let o,a;return"base64"===i?o=String.raw`[A-Za-z0-9+\/]`:((0,s.assert)("base64url"===i),o=String.raw`[-_A-Za-z0-9]`),a=n?new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,r.pattern)(e,a)}}}},{package:"@metamask/snaps-ui>@metamask/utils",file:"node_modules/@metamask/snaps-ui/node_modules/@metamask/utils/dist/base64.js"}],[1483,{"./assert":1481,"./hex":1488,buffer:2426},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.createDataView=n.concatBytes=n.valueToBytes=n.stringToBytes=n.numberToBytes=n.signedBigIntToBytes=n.bigIntToBytes=n.hexToBytes=n.bytesToString=n.bytesToNumber=n.bytesToSignedBigInt=n.bytesToBigInt=n.bytesToHex=n.assertIsBytes=n.isBytes=void 0;const r=e("./assert"),s=e("./hex"),i=48,o=58,a=87;const c=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function u(e){return e instanceof Uint8Array}function l(e){(0,r.assert)(u(e),"Value must be a Uint8Array.")}function d(e){if(l(e),0===e.length)return"0x";const t=c(),n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t[e[r]];return(0,s.add0x)(n.join(""))}function h(e){l(e);const t=d(e);return BigInt(t)}function p(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;(0,s.assertIsHexString)(e);const t=(0,s.remove0x)(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=n.charCodeAt(2*e),s=n.charCodeAt(2*e+1),c=t-(t<o?i:a),u=s-(s<o?i:a);r[e]=16*c+u}return r}function f(e){(0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");return p(e.toString(16))}function m(e){(0,r.assert)("number"==typeof e,"Value must be a number."),(0,r.assert)(e>=0,"Value must be a non-negative number."),(0,r.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");return p(e.toString(16))}function g(e){return(0,r.assert)("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function y(e){if("bigint"==typeof e)return f(e);if("number"==typeof e)return m(e);if("string"==typeof e)return e.startsWith("0x")?p(e):g(e);if(u(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}n.isBytes=u,n.assertIsBytes=l,n.bytesToHex=d,n.bytesToBigInt=h,n.bytesToSignedBigInt=function(e){l(e);let t=BigInt(0);for(const n of e)t=(t<<BigInt(8))+BigInt(n);return BigInt.asIntN(8*e.length,t)},n.bytesToNumber=function(e){l(e);const t=h(e);return(0,r.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},n.bytesToString=function(e){return l(e),(new TextDecoder).decode(e)},n.hexToBytes=p,n.bigIntToBytes=f,n.signedBigIntToBytes=function(e,t){(0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)("number"==typeof t,"Byte length must be a number."),(0,r.assert)(t>0,"Byte length must be greater than 0."),(0,r.assert)(function(e,t){(0,r.assert)(t>0);const n=e>>BigInt(31);return!((~e&n)+(e&~n)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let n=e;const s=new Uint8Array(t);for(let e=0;e<s.length;e++)s[e]=Number(BigInt.asUintN(8,n)),n>>=BigInt(8);return s.reverse()},n.numberToBytes=m,n.stringToBytes=g,n.valueToBytes=y,n.concatBytes=function(e){const t=new Array(e.length);let n=0;for(let r=0;r<e.length;r++){const s=y(e[r]);t[r]=s,n+=s.length}const r=new Uint8Array(n);for(let e=0,n=0;e<t.length;e++)r.set(t[e],n),n+=t[e].length;return r},n.createDataView=function(e){if(void 0!==t&&e instanceof t){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/snaps-ui>@metamask/utils",file:"node_modules/@metamask/snaps-ui/node_modules/@metamask/utils/dist/bytes.js"}],[1484,{"./base64":1482,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ChecksumStruct=void 0;const r=e("superstruct"),s=e("./base64");n.ChecksumStruct=(0,r.size)((0,s.base64)((0,r.string)(),{paddingRequired:!0}),44,44)}}},{package:"@metamask/snaps-ui>@metamask/utils",file:"node_modules/@metamask/snaps-ui/node_modules/@metamask/utils/dist/checksum.js"}],[1485,{"./assert":1481,"./bytes":1483,"./hex":1488,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createHex=n.createBytes=n.createBigInt=n.createNumber=void 0;const r=e("superstruct"),s=e("./assert"),i=e("./bytes"),o=e("./hex"),a=(0,r.union)([(0,r.number)(),(0,r.bigint)(),(0,r.string)(),o.StrictHexStruct]),c=(0,r.coerce)((0,r.number)(),a,Number),u=(0,r.coerce)((0,r.bigint)(),a,BigInt),l=((0,r.union)([o.StrictHexStruct,(0,r.instance)(Uint8Array)]),(0,r.coerce)((0,r.instance)(Uint8Array),(0,r.union)([o.StrictHexStruct]),i.hexToBytes)),d=(0,r.coerce)(o.StrictHexStruct,(0,r.instance)(Uint8Array),i.bytesToHex);n.createNumber=function(e){try{const t=(0,r.create)(e,c);return(0,s.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof r.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}},n.createBigInt=function(e){try{return(0,r.create)(e,u)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}},n.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,r.create)(e,l)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}},n.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,r.create)(e,d)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}}}},{package:"@metamask/snaps-ui>@metamask/utils",file:"node_modules/@metamask/snaps-ui/node_modules/@metamask/utils/dist/coercers.js"}],[1486,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,i=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},o=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.FrozenSet=n.FrozenMap=void 0;class a{constructor(e){r.set(this,void 0),i(this,r,new Map(e),"f"),Object.freeze(this)}get size(){return o(this,r,"f").size}[(r=new WeakMap,Symbol.iterator)](){return o(this,r,"f")[Symbol.iterator]()}entries(){return o(this,r,"f").entries()}forEach(e,t){return o(this,r,"f").forEach(((n,r,s)=>e.call(t,n,r,this)))}get(e){return o(this,r,"f").get(e)}has(e){return o(this,r,"f").has(e)}keys(){return o(this,r,"f").keys()}values(){return o(this,r,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map((([e,t])=>`${String(e)} => ${String(t)}`)).join(", ")} `:""}}`}}n.FrozenMap=a;class c{constructor(e){s.set(this,void 0),i(this,s,new Set(e),"f"),Object.freeze(this)}get size(){return o(this,s,"f").size}[(s=new WeakMap,Symbol.iterator)](){return o(this,s,"f")[Symbol.iterator]()}entries(){return o(this,s,"f").entries()}forEach(e,t){return o(this,s,"f").forEach(((n,r,s)=>e.call(t,n,r,this)))}has(e){return o(this,s,"f").has(e)}keys(){return o(this,s,"f").keys()}values(){return o(this,s,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map((e=>String(e))).join(", ")} `:""}}`}}n.FrozenSet=c,Object.freeze(a),Object.freeze(a.prototype),Object.freeze(c),Object.freeze(c.prototype)}}},{package:"@metamask/snaps-ui>@metamask/utils",file:"node_modules/@metamask/snaps-ui/node_modules/@metamask/utils/dist/collections.js"}],[1487,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-ui>@metamask/utils",file:"node_modules/@metamask/snaps-ui/node_modules/@metamask/utils/dist/encryption-types.js"}],[1488,{"./assert":1481,"./bytes":1483,"@noble/hashes/sha3":1620,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.remove0x=n.add0x=n.isValidChecksumAddress=n.getChecksumAddress=n.isValidHexAddress=n.assertIsStrictHexString=n.assertIsHexString=n.isStrictHexString=n.isHexString=n.HexChecksumAddressStruct=n.HexAddressStruct=n.StrictHexStruct=n.HexStruct=void 0;const r=e("@noble/hashes/sha3"),s=e("superstruct"),i=e("./assert"),o=e("./bytes");function a(e){return(0,s.is)(e,n.HexStruct)}function c(e){return(0,s.is)(e,n.StrictHexStruct)}function u(e){(0,i.assert)((0,s.is)(e,n.HexChecksumAddressStruct),"Invalid hex address.");const t=d(e.toLowerCase()),a=d((0,o.bytesToHex)((0,r.keccak_256)(t)));return`0x${t.split("").map(((e,t)=>{const n=a[t];return(0,i.assert)((0,s.is)(n,(0,s.string)()),"Hash shorter than address."),parseInt(n,16)>7?e.toUpperCase():e})).join("")}`}function l(e){return!!(0,s.is)(e,n.HexChecksumAddressStruct)&&u(e)===e}function d(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}n.HexStruct=(0,s.pattern)((0,s.string)(),/^(?:0x)?[0-9a-f]+$/iu),n.StrictHexStruct=(0,s.pattern)((0,s.string)(),/^0x[0-9a-f]+$/iu),n.HexAddressStruct=(0,s.pattern)((0,s.string)(),/^0x[0-9a-f]{40}$/u),n.HexChecksumAddressStruct=(0,s.pattern)((0,s.string)(),/^0x[0-9a-fA-F]{40}$/u),n.isHexString=a,n.isStrictHexString=c,n.assertIsHexString=function(e){(0,i.assert)(a(e),"Value must be a hexadecimal string.")},n.assertIsStrictHexString=function(e){(0,i.assert)(c(e),'Value must be a hexadecimal string, starting with "0x".')},n.isValidHexAddress=function(e){return(0,s.is)(e,n.HexAddressStruct)||l(e)},n.getChecksumAddress=u,n.isValidChecksumAddress=l,n.add0x=function(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`},n.remove0x=d}}},{package:"@metamask/snaps-ui>@metamask/utils",file:"node_modules/@metamask/snaps-ui/node_modules/@metamask/utils/dist/hex.js"}],[1489,{"./assert":1481,"./base64":1482,"./bytes":1483,"./checksum":1484,"./coercers":1485,"./collections":1486,"./encryption-types":1487,"./hex":1488,"./json":1490,"./keyring":1491,"./logging":1492,"./misc":1493,"./number":1494,"./opaque":1495,"./time":1496,"./transaction-types":1497,"./versions":1498},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./assert"),n),s(e("./base64"),n),s(e("./bytes"),n),s(e("./checksum"),n),s(e("./coercers"),n),s(e("./collections"),n),s(e("./encryption-types"),n),s(e("./hex"),n),s(e("./json"),n),s(e("./keyring"),n),s(e("./logging"),n),s(e("./misc"),n),s(e("./number"),n),s(e("./opaque"),n),s(e("./time"),n),s(e("./transaction-types"),n),s(e("./versions"),n)}}},{package:"@metamask/snaps-ui>@metamask/utils",file:"node_modules/@metamask/snaps-ui/node_modules/@metamask/utils/dist/index.js"}],[149,{"@metamask/subject-metadata-controller":1558,lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@metamask/subject-metadata-controller"),s=e("lodash");var i={version:69,async migrate(e){const t=(0,s.cloneDeep)(e);t.meta.version=69;const n=function(e){var t;if("object"==typeof(null==e||null===(t=e.SubjectMetadataController)||void 0===t?void 0:t.subjectMetadata)){const{SubjectMetadataController:{subjectMetadata:t}}=e;Object.values(t).forEach((e=>{e&&"object"==typeof e&&!Array.isArray(e)&&(e.subjectType=e.extensionId?r.SubjectType.Extension:r.SubjectType.Website)}))}return e}(t.data);return t.data=n,t}};n.default=i}}},{package:"$root$",file:"app/scripts/migrations/069.js"}],[1490,{"./assert":1481,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getJsonRpcIdValidator=n.assertIsJsonRpcError=n.isJsonRpcError=n.assertIsJsonRpcFailure=n.isJsonRpcFailure=n.assertIsJsonRpcSuccess=n.isJsonRpcSuccess=n.assertIsJsonRpcResponse=n.isJsonRpcResponse=n.assertIsPendingJsonRpcResponse=n.isPendingJsonRpcResponse=n.JsonRpcResponseStruct=n.JsonRpcFailureStruct=n.JsonRpcSuccessStruct=n.PendingJsonRpcResponseStruct=n.assertIsJsonRpcRequest=n.isJsonRpcRequest=n.assertIsJsonRpcNotification=n.isJsonRpcNotification=n.JsonRpcNotificationStruct=n.JsonRpcRequestStruct=n.JsonRpcParamsStruct=n.JsonRpcErrorStruct=n.JsonRpcIdStruct=n.JsonRpcVersionStruct=n.jsonrpc2=n.getJsonSize=n.getSafeJson=n.isValidJson=n.JsonStruct=n.UnsafeJsonStruct=void 0;const r=e("superstruct"),s=e("./assert");function i(e){return(0,r.create)(e,n.JsonStruct)}n.UnsafeJsonStruct=(0,r.union)([(0,r.literal)(null),(0,r.boolean)(),(0,r.define)("finite number",(e=>(0,r.is)(e,(0,r.number)())&&Number.isFinite(e))),(0,r.string)(),(0,r.array)((0,r.lazy)((()=>n.UnsafeJsonStruct))),(0,r.record)((0,r.string)(),(0,r.lazy)((()=>n.UnsafeJsonStruct)))]),n.JsonStruct=(0,r.coerce)(n.UnsafeJsonStruct,(0,r.any)(),(e=>((0,s.assertStruct)(e,n.UnsafeJsonStruct),JSON.parse(JSON.stringify(e,((e,t)=>"__proto__"===e||"constructor"===e?undefined:t)))))),n.isValidJson=function(e){try{return i(e),!0}catch{return!1}},n.getSafeJson=i,n.getJsonSize=function(e){(0,s.assertStruct)(e,n.JsonStruct,"Invalid JSON value");const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength},n.jsonrpc2="2.0",n.JsonRpcVersionStruct=(0,r.literal)(n.jsonrpc2),n.JsonRpcIdStruct=(0,r.nullable)((0,r.union)([(0,r.number)(),(0,r.string)()])),n.JsonRpcErrorStruct=(0,r.object)({code:(0,r.integer)(),message:(0,r.string)(),data:(0,r.optional)(n.JsonStruct),stack:(0,r.optional)((0,r.string)())}),n.JsonRpcParamsStruct=(0,r.optional)((0,r.union)([(0,r.record)((0,r.string)(),n.JsonStruct),(0,r.array)(n.JsonStruct)])),n.JsonRpcRequestStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,method:(0,r.string)(),params:n.JsonRpcParamsStruct}),n.JsonRpcNotificationStruct=(0,r.omit)(n.JsonRpcRequestStruct,["id"]),n.isJsonRpcNotification=function(e){return(0,r.is)(e,n.JsonRpcNotificationStruct)},n.assertIsJsonRpcNotification=function(e,t){(0,s.assertStruct)(e,n.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",t)},n.isJsonRpcRequest=function(e){return(0,r.is)(e,n.JsonRpcRequestStruct)},n.assertIsJsonRpcRequest=function(e,t){(0,s.assertStruct)(e,n.JsonRpcRequestStruct,"Invalid JSON-RPC request",t)},n.PendingJsonRpcResponseStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,result:(0,r.optional)((0,r.unknown)()),error:(0,r.optional)(n.JsonRpcErrorStruct)}),n.JsonRpcSuccessStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,result:n.JsonStruct}),n.JsonRpcFailureStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,error:n.JsonRpcErrorStruct}),n.JsonRpcResponseStruct=(0,r.union)([n.JsonRpcSuccessStruct,n.JsonRpcFailureStruct]),n.isPendingJsonRpcResponse=function(e){return(0,r.is)(e,n.PendingJsonRpcResponseStruct)},n.assertIsPendingJsonRpcResponse=function(e,t){(0,s.assertStruct)(e,n.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",t)},n.isJsonRpcResponse=function(e){return(0,r.is)(e,n.JsonRpcResponseStruct)},n.assertIsJsonRpcResponse=function(e,t){(0,s.assertStruct)(e,n.JsonRpcResponseStruct,"Invalid JSON-RPC response",t)},n.isJsonRpcSuccess=function(e){return(0,r.is)(e,n.JsonRpcSuccessStruct)},n.assertIsJsonRpcSuccess=function(e,t){(0,s.assertStruct)(e,n.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",t)},n.isJsonRpcFailure=function(e){return(0,r.is)(e,n.JsonRpcFailureStruct)},n.assertIsJsonRpcFailure=function(e,t){(0,s.assertStruct)(e,n.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",t)},n.isJsonRpcError=function(e){return(0,r.is)(e,n.JsonRpcErrorStruct)},n.assertIsJsonRpcError=function(e,t){(0,s.assertStruct)(e,n.JsonRpcErrorStruct,"Invalid JSON-RPC error",t)},n.getJsonRpcIdValidator=function(e){const{permitEmptyString:t,permitFractions:n,permitNull:r}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return e=>Boolean("number"==typeof e&&(n||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||r&&null===e)}}}},{package:"@metamask/snaps-ui>@metamask/utils",file:"node_modules/@metamask/snaps-ui/node_modules/@metamask/utils/dist/json.js"}],[1491,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-ui>@metamask/utils",file:"node_modules/@metamask/snaps-ui/node_modules/@metamask/utils/dist/keyring.js"}],[1492,{debug:2645},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.createModuleLogger=n.createProjectLogger=void 0;const s=(0,r(e("debug")).default)("metamask");n.createProjectLogger=function(e){return s.extend(e)},n.createModuleLogger=function(e,t){return e.extend(t)}}}},{package:"@metamask/snaps-ui>@metamask/utils",file:"node_modules/@metamask/snaps-ui/node_modules/@metamask/utils/dist/logging.js"}],[1493,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.calculateNumberSize=n.calculateStringSize=n.isASCII=n.isPlainObject=n.ESCAPE_CHARACTERS_REGEXP=n.JsonSize=n.hasProperty=n.isObject=n.isNullOrUndefined=n.isNonEmptyArray=void 0,n.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},n.isNullOrUndefined=function(e){return null===e||e===undefined},n.isObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)};function r(e){return e.charCodeAt(0)<=127}n.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(n.JsonSize||(n.JsonSize={})),n.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu,n.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},n.isASCII=r,n.calculateStringSize=function(e){return e.split("").reduce(((e,t)=>r(t)?e+1:e+2),0)+(e.match(n.ESCAPE_CHARACTERS_REGEXP)??[]).length},n.calculateNumberSize=function(e){return e.toString().length}}}},{package:"@metamask/snaps-ui>@metamask/utils",file:"node_modules/@metamask/snaps-ui/node_modules/@metamask/utils/dist/misc.js"}],[1494,{"./assert":1481,"./hex":1488},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hexToBigInt=n.hexToNumber=n.bigIntToHex=n.numberToHex=void 0;const r=e("./assert"),s=e("./hex");n.numberToHex=e=>((0,r.assert)("number"==typeof e,"Value must be a number."),(0,r.assert)(e>=0,"Value must be a non-negative number."),(0,r.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,s.add0x)(e.toString(16)));n.bigIntToHex=e=>((0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)(e>=0,"Value must be a non-negative bigint."),(0,s.add0x)(e.toString(16)));n.hexToNumber=e=>{(0,s.assertIsHexString)(e);const t=parseInt(e,16);return(0,r.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};n.hexToBigInt=e=>((0,s.assertIsHexString)(e),BigInt((0,s.add0x)(e)))}}},{package:"@metamask/snaps-ui>@metamask/utils",file:"node_modules/@metamask/snaps-ui/node_modules/@metamask/utils/dist/number.js"}],[1495,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-ui>@metamask/utils",file:"node_modules/@metamask/snaps-ui/node_modules/@metamask/utils/dist/opaque.js"}],[1496,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.timeSince=n.inMilliseconds=n.Duration=void 0,function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"}(n.Duration||(n.Duration={}));const r=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};n.inMilliseconds=function(e,t){return r(e,"count"),e*t},n.timeSince=function(e){return r(e,"timestamp"),Date.now()-e}}}},{package:"@metamask/snaps-ui>@metamask/utils",file:"node_modules/@metamask/snaps-ui/node_modules/@metamask/utils/dist/time.js"}],[1497,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-ui>@metamask/utils",file:"node_modules/@metamask/snaps-ui/node_modules/@metamask/utils/dist/transaction-types.js"}],[1498,{"./assert":1481,semver:3869,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.satisfiesVersionRange=n.gtRange=n.gtVersion=n.assertIsSemVerRange=n.assertIsSemVerVersion=n.isValidSemVerRange=n.isValidSemVerVersion=n.VersionRangeStruct=n.VersionStruct=void 0;const r=e("semver"),s=e("superstruct"),i=e("./assert");n.VersionStruct=(0,s.refine)((0,s.string)(),"Version",(e=>null!==(0,r.valid)(e)||`Expected SemVer version, got "${e}"`)),n.VersionRangeStruct=(0,s.refine)((0,s.string)(),"Version range",(e=>null!==(0,r.validRange)(e)||`Expected SemVer range, got "${e}"`)),n.isValidSemVerVersion=function(e){return(0,s.is)(e,n.VersionStruct)},n.isValidSemVerRange=function(e){return(0,s.is)(e,n.VersionRangeStruct)},n.assertIsSemVerVersion=function(e){(0,i.assertStruct)(e,n.VersionStruct)},n.assertIsSemVerRange=function(e){(0,i.assertStruct)(e,n.VersionRangeStruct)},n.gtVersion=function(e,t){return(0,r.gt)(e,t)},n.gtRange=function(e,t){return(0,r.gtr)(e,t)},n.satisfiesVersionRange=function(e,t){return(0,r.satisfies)(e,t,{includePrerelease:!0})}}}},{package:"@metamask/snaps-ui>@metamask/utils",file:"node_modules/@metamask/snaps-ui/node_modules/@metamask/utils/dist/versions.js"}],[1499,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isEqual=void 0,n.isEqual=function(e,t){return e.length===t.length&&e.every(((e,n)=>e===t[n]))}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/array.js"}],[15,{"../../../../shared/constants/network":4019,"../../../../shared/modules/hexstring-utils":4047,"./ens":14,"@metamask/obs-store":1375,loglevel:3546,"punycode/punycode":3686},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=u(e("punycode/punycode")),s=e("@metamask/obs-store"),i=u(e("loglevel")),o=e("../../../../shared/constants/network"),a=e("../../../../shared/modules/hexstring-utils"),c=u(e("./ens"));function u(e){return e&&e.__esModule?e:{default:e}}n.default=class{constructor({ens:e,provider:t,onNetworkDidChange:n,getCurrentChainId:r}={}){const i={ensResolutionsByAddress:{}};if(this._ens=e,!this._ens){const e=r(),n=o.CHAIN_ID_TO_NETWORK_ID_MAP[e];c.default.getNetworkEnsSupport(n)&&(this._ens=new c.default({network:n,provider:t}))}this.store=new s.ObservableStore(i),this.resetState=()=>{this.store.updateState(i)},n((()=>{this.store.putState(i);const e=r(),n=o.CHAIN_ID_TO_NETWORK_ID_MAP[e];c.default.getNetworkEnsSupport(n)?this._ens=new c.default({network:n,provider:t}):delete this._ens}))}reverseResolveAddress(e){return this._reverseResolveAddress((0,a.toChecksumHexAddress)(e))}async _reverseResolveAddress(e){if(!this._ens)return undefined;const t=this.store.getState();if(t.ensResolutionsByAddress[e])return t.ensResolutionsByAddress[e];let n,s;try{n=await this._ens.reverse(e)}catch(e){return i.default.debug(e),undefined}try{s=await this._ens.lookup(n)}catch(e){return i.default.debug(e),undefined}return"0x0000000000000000000000000000000000000000"===s||"0x"===s||(0,a.toChecksumHexAddress)(s)!==e?undefined:(this._updateResolutionsByAddress(e,r.default.toASCII(n)),n)}_updateResolutionsByAddress(e,t){const n=this.store.getState();this.store.putState({ensResolutionsByAddress:{...n.ensResolutionsByAddress,[e]:t}})}}}}},{package:"$root$",file:"app/scripts/controllers/ens/index.js"}],[150,{lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("lodash");var s={version:70,async migrate(e){const t=(0,r.cloneDeep)(e);t.meta.version=70;const n=function(e){var t;if(Array.isArray(null==e||null===(t=e.PermissionLogController)||void 0===t?void 0:t.permissionActivityLog)){const{PermissionLogController:{permissionActivityLog:t}}=e;t.forEach((e=>{e&&"object"==typeof e&&!Array.isArray(e)&&(delete e.request,delete e.response)}))}return e}(t.data);return t.data=n,t}};n.default=s}}},{package:"$root$",file:"app/scripts/migrations/070.js"}],[1500,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapCaveatType=void 0,function(e){e.PermittedDerivationPaths="permittedDerivationPaths",e.PermittedCoinTypes="permittedCoinTypes",e.SnapKeyring="snapKeyring",e.SnapCronjob="snapCronjob",e.TransactionOrigin="transactionOrigin",e.RpcOrigin="rpcOrigin",e.SnapIds="snapIds"}(n.SnapCaveatType||(n.SnapCaveatType={}))}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/caveats.js"}],[1501,{"./virtual-file/VirtualFile":1520,"@metamask/utils":1547,"@noble/hashes/sha256":1619},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.checksumFiles=n.checksum=void 0;const r=e("@metamask/utils"),s=e("@noble/hashes/sha256"),i=e("./virtual-file/VirtualFile");function o(e){const t=e instanceof i.VirtualFile?e.value:e;return(0,s.sha256)(t)}n.checksum=o,n.checksumFiles=function(e){return o((0,r.concatBytes)([...e].sort(((e,t)=>((0,r.assert)(e.path!==t.path,"Tried to sort files with non-unique paths."),e.path<t.path?-1:1))).map((e=>o(e)))))}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/checksum.js"}],[1502,{"@metamask/utils":1547,"cron-parser":2635,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isCronjobSpecificationArray=n.CronjobSpecificationArrayStruct=n.isCronjobSpecification=n.CronjobSpecificationStruct=n.parseCronExpression=n.CronExpressionStruct=n.CronjobRpcRequestStruct=void 0;const r=e("@metamask/utils"),s=e("cron-parser"),i=e("superstruct");n.CronjobRpcRequestStruct=(0,i.assign)((0,i.partial)((0,i.pick)(r.JsonRpcRequestStruct,["id","jsonrpc"])),(0,i.omit)(r.JsonRpcRequestStruct,["id","jsonrpc"])),n.CronExpressionStruct=(0,i.refine)((0,i.coerce)((0,i.string)(),(0,i.object)({minute:(0,i.optional)((0,i.string)()),hour:(0,i.optional)((0,i.string)()),dayOfMonth:(0,i.optional)((0,i.string)()),month:(0,i.optional)((0,i.string)()),dayOfWeek:(0,i.optional)((0,i.string)())}),(e=>`${e.minute??"*"} ${e.hour??"*"} ${e.dayOfMonth??"*"} ${e.month??"*"} ${e.dayOfWeek??"*"}`)),"CronExpression",(e=>{try{return(0,s.parseExpression)(e),!0}catch{return!1}})),n.parseCronExpression=function(e){const t=(0,i.create)(e,n.CronExpressionStruct);return(0,s.parseExpression)(t)},n.CronjobSpecificationStruct=(0,i.object)({expression:n.CronExpressionStruct,request:n.CronjobRpcRequestStruct}),n.isCronjobSpecification=function(e){try{return(0,i.create)(e,n.CronjobSpecificationStruct),!0}catch{return!1}},n.CronjobSpecificationArrayStruct=(0,i.array)(n.CronjobSpecificationStruct),n.isCronjobSpecificationArray=function(e){try{return(0,i.create)(e,n.CronjobSpecificationArrayStruct),!0}catch{return!1}}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/cronjob.js"}],[1503,{rfdc:3825},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.deepClone=void 0;const s=r(e("rfdc"));n.deepClone=(0,s.default)({proto:!1,circles:!1})}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/deep-clone.js"}],[1504,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_ENDOWMENTS=void 0,n.DEFAULT_ENDOWMENTS=Object.freeze(["atob","btoa","BigInt","console","crypto","Date","Math","setTimeout","clearTimeout","SubtleCrypto","TextDecoder","TextEncoder","URL","setInterval","clearInterval","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array","DataView","ArrayBuffer","AbortController","AbortSignal"])}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/default-endowments.js"}],[1505,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.STATE_ENCRYPTION_MAGIC_VALUE=n.SIP_6_MAGIC_VALUE=void 0,n.SIP_6_MAGIC_VALUE="1399742832'",n.STATE_ENCRYPTION_MAGIC_VALUE="572232532'"}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/entropy.js"}],[1506,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/handlers.js"}],[1507,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createWindow=void 0,n.createWindow=async function(e,t){return await new Promise(((n,r)=>{const s=document.createElement("iframe");s.setAttribute("id",t),s.setAttribute("data-testid","snaps-iframe"),s.setAttribute("sandbox","allow-scripts"),s.setAttribute("src",e),document.body.appendChild(s),s.addEventListener("load",(()=>{s.contentWindow?n(s.contentWindow):r(new Error(`iframe.contentWindow not present on load for job "${t}".`))}))}))}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/iframe.js"}],[1508,{"./array":1499,"./caveats":1500,"./checksum":1501,"./cronjob":1502,"./deep-clone":1503,"./default-endowments":1504,"./entropy":1505,"./handlers":1506,"./iframe":1507,"./json":1510,"./json-rpc":1509,"./logging":1511,"./manifest/index.browser":1512,"./namespace":1514,"./notification":1515,"./path":1516,"./snaps":1517,"./types":1518,"./versions":1519,"./virtual-file/index.browser":1521},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./array"),n),s(e("./caveats"),n),s(e("./checksum"),n),s(e("./cronjob"),n),s(e("./deep-clone"),n),s(e("./default-endowments"),n),s(e("./entropy"),n),s(e("./handlers"),n),s(e("./iframe"),n),s(e("./json"),n),s(e("./json-rpc"),n),s(e("./logging"),n),s(e("./manifest/index.browser"),n),s(e("./namespace"),n),s(e("./notification"),n),s(e("./path"),n),s(e("./snaps"),n),s(e("./types"),n),s(e("./versions"),n),s(e("./virtual-file/index.browser"),n)}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/index.browser.js"}],[1509,{"@metamask/utils":1547,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.assertIsJsonRpcSuccess=n.assertIsRpcOrigins=n.RpcOriginsStruct=void 0;const r=e("@metamask/utils"),s=e("superstruct");n.RpcOriginsStruct=(0,s.refine)((0,s.object)({dapps:(0,s.optional)((0,s.boolean)()),snaps:(0,s.optional)((0,s.boolean)())}),"RPC origins",(e=>{if(!Object.values(e).some(Boolean))throw new Error("Must specify at least one JSON-RPC origin");return!0})),n.assertIsRpcOrigins=function(e,t){(0,r.assertStruct)(e,n.RpcOriginsStruct,"Invalid JSON-RPC origins",t)},n.assertIsJsonRpcSuccess=function(e){if(!(0,r.isJsonRpcSuccess)(e)){if((0,r.isJsonRpcFailure)(e))throw new Error(`JSON-RPC request failed: ${e.error.message}`);throw new Error("Invalid JSON-RPC response.")}}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/json-rpc.js"}],[151,{lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("lodash");var s={version:71,async migrate(e){const t=(0,r.cloneDeep)(e);t.meta.version=71;const n=function(e){e.NotificationController&&(e.AnnouncementController={announcements:e.NotificationController.notifications},delete e.NotificationController);return e}(t.data);return t.data=n,t}};n.default=s}}},{package:"$root$",file:"app/scripts/migrations/071.js"}],[1510,{"@metamask/utils":1547},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseJson=void 0;const r=e("@metamask/utils");n.parseJson=function(e){return(0,r.getSafeJson)(JSON.parse(e))}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/json.js"}],[1511,{"@metamask/utils":1547},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.logWarning=n.logError=n.logInfo=n.snapsLogger=void 0;const r=e("@metamask/utils");n.snapsLogger=(0,r.createProjectLogger)("snaps"),n.logInfo=function(e,...t){console.log(e,...t)},n.logError=function(e,...t){console.error(e,...t)},n.logWarning=function(e,...t){console.warn(e,...t)}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/logging.js"}],[1512,{"./validation":1513},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./validation"),n)}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/manifest/index.browser.js"}],[1513,{"../array":1499,"../cronjob":1502,"../entropy":1505,"../json-rpc":1509,"../namespace":1514,"../types":1518,"@metamask/key-tree":1537,"@metamask/utils":1547,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createSnapManifest=n.assertIsSnapManifest=n.isSnapManifest=n.SnapManifestStruct=n.PermissionsStruct=n.SnapGetBip32EntropyPermissionsStruct=n.Bip32EntropyStruct=n.bip32entropy=n.Bip32PathStruct=n.FORBIDDEN_COIN_TYPES=void 0;const r=e("@metamask/key-tree"),s=e("@metamask/utils"),i=e("superstruct"),o=e("../array"),a=e("../cronjob"),c=e("../entropy"),u=e("../json-rpc"),l=e("../namespace"),d=e("../types"),h=[c.SIP_6_MAGIC_VALUE,c.STATE_ENCRYPTION_MAGIC_VALUE];n.FORBIDDEN_COIN_TYPES=[60];const p=n.FORBIDDEN_COIN_TYPES.map((e=>["m","44'",`${e}'`]));n.Bip32PathStruct=(0,i.refine)((0,i.array)((0,i.string)()),"BIP-32 path",(e=>0===e.length?"Path must be a non-empty BIP-32 derivation path array":"m"!==e[0]?'Path must start with "m".':e.length<3?"Paths must have a length of at least three.":e.slice(1).some((e=>!(0,r.isValidBIP32PathSegment)(e)))?"Path must be a valid BIP-32 derivation path array.":h.includes(e[1])?`The purpose "${e[1]}" is not allowed for entropy derivation.`:!p.some((t=>(0,o.isEqual)(e.slice(0,t.length),t)))||`The path "${e.join("/")}" is not allowed for entropy derivation.`));n.bip32entropy=e=>(0,i.refine)(e,"BIP-32 entropy",(e=>"ed25519"!==e.curve||!e.path.slice(1).some((e=>!e.endsWith("'")))||"Ed25519 does not support unhardened paths.")),n.Bip32EntropyStruct=(0,n.bip32entropy)((0,i.type)({path:n.Bip32PathStruct,curve:(0,i.enums)(["ed25519","secp256k1"])})),n.SnapGetBip32EntropyPermissionsStruct=(0,i.size)((0,i.array)(n.Bip32EntropyStruct),1,Infinity),n.PermissionsStruct=(0,i.type)({"endowment:long-running":(0,i.optional)((0,i.object)({})),"endowment:network-access":(0,i.optional)((0,i.object)({})),"endowment:webassembly":(0,i.optional)((0,i.object)({})),"endowment:transaction-insight":(0,i.optional)((0,i.object)({allowTransactionOrigin:(0,i.optional)((0,i.boolean)())})),"endowment:cronjob":(0,i.optional)((0,i.object)({jobs:a.CronjobSpecificationArrayStruct})),"endowment:rpc":(0,i.optional)(u.RpcOriginsStruct),snap_dialog:(0,i.optional)((0,i.object)({})),snap_confirm:(0,i.optional)((0,i.object)({})),snap_manageState:(0,i.optional)((0,i.object)({})),snap_notify:(0,i.optional)((0,i.object)({})),snap_getBip32Entropy:(0,i.optional)(n.SnapGetBip32EntropyPermissionsStruct),snap_getBip32PublicKey:(0,i.optional)(n.SnapGetBip32EntropyPermissionsStruct),snap_getBip44Entropy:(0,i.optional)((0,i.size)((0,i.array)((0,i.object)({coinType:(0,i.size)((0,i.integer)(),0,2**32-1)})),1,Infinity)),snap_getEntropy:(0,i.optional)((0,i.object)({})),"endowment:keyring":(0,i.optional)((0,i.object)({namespaces:l.NamespacesStruct}))}),n.SnapManifestStruct=(0,i.object)({version:s.VersionStruct,description:(0,i.size)((0,i.string)(),1,280),proposedName:(0,i.size)((0,i.pattern)((0,i.string)(),/^(?:[A-Za-z0-9-_]+( [A-Za-z0-9-_]+)*)|(?:(?:@[A-Za-z0-9-*~][A-Za-z0-9-*._~]*\/)?[A-Za-z0-9-~][A-Za-z0-9-._~]*)$/u),1,214),repository:(0,i.optional)((0,i.object)({type:(0,i.size)((0,i.string)(),1,Infinity),url:(0,i.size)((0,i.string)(),1,Infinity)})),source:(0,i.object)({shasum:s.ChecksumStruct,location:(0,i.object)({npm:(0,i.object)({filePath:(0,i.size)((0,i.string)(),1,Infinity),iconPath:(0,i.optional)((0,i.size)((0,i.string)(),1,Infinity)),packageName:d.NameStruct,registry:(0,i.union)([(0,i.literal)("https://registry.npmjs.org"),(0,i.literal)("https://registry.npmjs.org/")])})})}),initialPermissions:n.PermissionsStruct,manifestVersion:(0,i.literal)("0.1")}),n.isSnapManifest=function(e){return(0,i.is)(e,n.SnapManifestStruct)},n.assertIsSnapManifest=function(e){(0,s.assertStruct)(e,n.SnapManifestStruct,`"${d.NpmSnapFileNames.Manifest}" is invalid`)},n.createSnapManifest=function(e){return(0,i.create)(e,n.SnapManifestStruct)}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/manifest/validation.js"}],[1514,{"@metamask/utils":1547,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.assertIsNamespacesObject=n.isNamespacesObject=n.isNamespace=n.assertIsMultiChainRequest=n.isMultiChainRequest=n.assertIsConnectArguments=n.isConnectArguments=n.isAccountIdArray=n.isAccountId=n.isChainId=n.isNamespaceId=n.MultiChainRequestStruct=n.RequestArgumentsStruct=n.ConnectArgumentsStruct=n.assertIsSession=n.SessionStruct=n.NamespacesStruct=n.NamespaceIdStruct=n.SessionNamespaceStruct=n.RequestNamespaceStruct=n.NamespaceStruct=n.ChainStruct=n.AccountIdArrayStruct=n.AccountIdStruct=n.ChainIdStruct=n.LimitedString=n.parseAccountId=n.parseChainId=n.ACCOUNT_ID_REGEX=n.CHAIN_ID_REGEX=void 0;const r=e("@metamask/utils"),s=e("superstruct");n.CHAIN_ID_REGEX=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-a-zA-Z0-9]{1,32})$/u,n.ACCOUNT_ID_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-a-zA-Z0-9]{1,32})):(?<accountAddress>[a-zA-Z0-9]{1,64})$/u,n.parseChainId=function(e){const t=n.CHAIN_ID_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid chain ID.");return{namespace:t.groups.namespace,reference:t.groups.reference}},n.parseAccountId=function(e){const t=n.ACCOUNT_ID_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid account ID.");return{address:t.groups.accountAddress,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}},n.LimitedString=(0,s.size)((0,s.string)(),1,40),n.ChainIdStruct=(0,s.pattern)((0,s.string)(),n.CHAIN_ID_REGEX),n.AccountIdStruct=(0,s.pattern)((0,s.string)(),n.ACCOUNT_ID_REGEX),n.AccountIdArrayStruct=(0,s.array)(n.AccountIdStruct),n.ChainStruct=(0,s.object)({id:n.ChainIdStruct,name:n.LimitedString}),n.NamespaceStruct=(0,s.object)({chains:(0,s.array)(n.ChainStruct),methods:(0,s.optional)((0,s.array)(n.LimitedString)),events:(0,s.optional)((0,s.array)(n.LimitedString))}),n.RequestNamespaceStruct=(0,s.assign)((0,s.omit)(n.NamespaceStruct,["chains"]),(0,s.object)({chains:(0,s.array)(n.ChainIdStruct)})),n.SessionNamespaceStruct=(0,s.assign)(n.RequestNamespaceStruct,(0,s.object)({accounts:(0,s.array)(n.AccountIdStruct)})),n.NamespaceIdStruct=(0,s.pattern)((0,s.string)(),/^[-a-z0-9]{3,8}$/u),n.NamespacesStruct=(0,s.record)(n.NamespaceIdStruct,n.NamespaceStruct),n.SessionStruct=(0,s.object)({namespaces:(0,s.record)(n.NamespaceIdStruct,n.SessionNamespaceStruct)}),n.assertIsSession=function(e){(0,r.assertStruct)(e,n.SessionStruct,"Invalid session")},n.ConnectArgumentsStruct=(0,s.object)({requiredNamespaces:(0,s.record)(n.NamespaceIdStruct,n.RequestNamespaceStruct)}),n.RequestArgumentsStruct=(0,s.assign)((0,s.partial)((0,s.pick)(r.JsonRpcRequestStruct,["id","jsonrpc"])),(0,s.omit)(r.JsonRpcRequestStruct,["id","jsonrpc"])),n.MultiChainRequestStruct=(0,s.object)({chainId:n.ChainIdStruct,request:n.RequestArgumentsStruct}),n.isNamespaceId=function(e){return(0,s.is)(e,n.NamespaceIdStruct)},n.isChainId=function(e){return(0,s.is)(e,n.ChainIdStruct)},n.isAccountId=function(e){return(0,s.is)(e,n.AccountIdStruct)},n.isAccountIdArray=function(e){return(0,s.is)(e,n.AccountIdArrayStruct)},n.isConnectArguments=function(e){return(0,s.is)(e,n.ConnectArgumentsStruct)},n.assertIsConnectArguments=function(e){(0,r.assertStruct)(e,n.ConnectArgumentsStruct,"Invalid connect arguments")},n.isMultiChainRequest=function(e){return(0,s.is)(e,n.MultiChainRequestStruct)},n.assertIsMultiChainRequest=function(e){(0,r.assertStruct)(e,n.MultiChainRequestStruct,"Invalid request arguments")},n.isNamespace=function(e){return(0,s.is)(e,n.NamespaceStruct)},n.isNamespacesObject=function(e){return(0,s.is)(e,n.NamespacesStruct)},n.assertIsNamespacesObject=function(e,t){(0,r.assertStruct)(e,n.NamespacesStruct,"Invalid namespaces object",t)}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/namespace.js"}],[1515,{"./namespace":1514,"@metamask/utils":1547,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.assertIsMetaMaskNotification=n.isMetaMaskNotification=n.MetaMaskNotificationStruct=n.assertIsEvent=n.isEvent=n.EventStruct=void 0;const r=e("@metamask/utils"),s=e("superstruct"),i=e("./namespace");n.EventStruct=(0,s.object)({name:(0,s.string)(),data:(0,s.unknown)()}),n.isEvent=function(e){return(0,s.is)(e,n.EventStruct)},n.assertIsEvent=function(e){(0,r.assertStruct)(e,n.EventStruct,"Invalid event")},n.MetaMaskNotificationStruct=(0,s.object)({method:(0,s.literal)("multichainHack_metamask_event"),params:(0,s.object)({chainId:i.ChainIdStruct,event:n.EventStruct})}),n.isMetaMaskNotification=function(e){return(0,s.is)(e,n.MetaMaskNotificationStruct)},n.assertIsMetaMaskNotification=function(e){(0,r.assertStruct)(e,n.MetaMaskNotificationStruct,"Invalid notification")}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/notification.js"}],[1516,{"@metamask/utils":1547},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.normalizeRelative=void 0;const r=e("@metamask/utils");n.normalizeRelative=function(e){return(0,r.assert)(!e.startsWith("/")),(0,r.assert)(-1===e.search(/:|\/\//u),`Path "${e}" potentially an URI instead of local relative`),e.startsWith("./")?e.slice(2):e}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/path.js"}],[1517,{"./caveats":1500,"./checksum":1501,"./types":1518,"@metamask/utils":1547,"@scure/base":1639,"fast-json-stable-stringify":3030,superstruct:3920,"validate-npm-package-name":3978},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.verifyRequestedSnapPermissions=n.isSnapPermitted=n.isCaipChainId=n.assertIsValidSnapId=n.getSnapPrefix=n.SnapIdStruct=n.HttpSnapIdStruct=n.NpmSnapIdStruct=n.LocalSnapIdStruct=n.BaseSnapIdStruct=n.LOCALHOST_HOSTNAMES=n.validateSnapShasum=n.getSnapChecksum=n.ProgrammaticallyFixableSnapError=n.SnapStatusEvents=n.SnapStatus=n.PROPOSED_NAME_REGEX=void 0;const s=e("@metamask/utils"),i=e("@scure/base"),o=r(e("fast-json-stable-stringify")),a=e("superstruct"),c=r(e("validate-npm-package-name")),u=e("./caveats"),l=e("./checksum"),d=e("./types");n.PROPOSED_NAME_REGEX=/^(?:[A-Za-z0-9-_]+( [A-Za-z0-9-_]+)*)|(?:(?:@[A-Za-z0-9-*~][A-Za-z0-9-*._~]*\/)?[A-Za-z0-9-~][A-Za-z0-9-._~]*)$/u,function(e){e.Installing="installing",e.Updating="updating",e.Running="running",e.Stopped="stopped",e.Crashed="crashed"}(n.SnapStatus||(n.SnapStatus={})),function(e){e.Start="START",e.Stop="STOP",e.Crash="CRASH",e.Update="UPDATE"}(n.SnapStatusEvents||(n.SnapStatusEvents={}));class h extends Error{constructor(e,t){super(e),this.reason=t}}function p(e){const t=e.clone();return delete t.result.source.shasum,t.value=(0,o.default)(t.result),t}function f(e){const{manifest:t,sourceCode:n,svgIcon:r}=e,s=[p(t),n,r].filter((e=>e!==undefined));return i.base64.encode((0,l.checksumFiles)(s))}n.ProgrammaticallyFixableSnapError=h,n.getSnapChecksum=f,n.validateSnapShasum=function(e,t="Invalid Snap manifest: manifest shasum does not match computed shasum."){if(e.manifest.result.source.shasum!==f(e))throw new h(t,d.SnapValidationFailureReason.ShasumMismatch)},n.LOCALHOST_HOSTNAMES=["localhost","127.0.0.1","[::1]"],n.BaseSnapIdStruct=(0,a.pattern)((0,a.string)(),/^[\x21-\x7E]*$/u);const m=(0,d.uri)({protocol:(0,a.enums)(["http:","https:"]),hostname:(0,a.enums)(n.LOCALHOST_HOSTNAMES),hash:(0,a.empty)((0,a.string)()),search:(0,a.empty)((0,a.string)())});n.LocalSnapIdStruct=(0,a.refine)(n.BaseSnapIdStruct,"local Snap Id",(e=>{if(!e.startsWith(d.SnapIdPrefixes.local))return`Expected local snap ID, got "${e}".`;const[t]=(0,a.validate)(e.slice(d.SnapIdPrefixes.local.length),m);return t??!0})),n.NpmSnapIdStruct=(0,a.intersection)([n.BaseSnapIdStruct,(0,d.uri)({protocol:(0,a.literal)(d.SnapIdPrefixes.npm),pathname:(0,a.refine)((0,a.string)(),"package name",(function*(e){const t=e.startsWith("/")?e.slice(1):e,{errors:n,validForNewPackages:r,warnings:i}=(0,c.default)(t);return r||(n===undefined?((0,s.assert)(i!==undefined),yield*i):yield*n),!0})),search:(0,a.empty)((0,a.string)()),hash:(0,a.empty)((0,a.string)())})]),n.HttpSnapIdStruct=(0,a.intersection)([n.BaseSnapIdStruct,(0,d.uri)({protocol:(0,a.enums)(["http:","https:"]),search:(0,a.empty)((0,a.string)()),hash:(0,a.empty)((0,a.string)())})]),n.SnapIdStruct=(0,a.union)([n.NpmSnapIdStruct,n.LocalSnapIdStruct]),n.getSnapPrefix=function(e){const t=Object.values(d.SnapIdPrefixes).find((t=>e.startsWith(t)));if(t!==undefined)return t;throw new Error(`Invalid or no prefix found for "${e}"`)},n.assertIsValidSnapId=function(e){(0,s.assertStruct)(e,n.SnapIdStruct,"Invalid snap ID")},n.isCaipChainId=function(e){return"string"==typeof e&&/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-a-zA-Z0-9]{1,32})$/u.test(e)},n.isSnapPermitted=function(e,t){return Boolean((e?.wallet_snap?.caveats?.find((e=>e.type===u.SnapCaveatType.SnapIds))??{}).value?.[t])},n.verifyRequestedSnapPermissions=function(e){(0,s.assert)((0,s.isObject)(e),"Requested permissions must be an object.");const{wallet_snap:t}=e;(0,s.assert)((0,s.isObject)(t),"wallet_snap is missing from the requested permissions.");const{caveats:n}=t;(0,s.assert)(Array.isArray(n)&&1===n.length,"wallet_snap must have a caveat property with a single-item array value.");const[r]=n;(0,s.assert)((0,s.isObject)(r)&&r.type===u.SnapCaveatType.SnapIds&&(0,s.isObject)(r.value),`The requested permissions do not have a valid ${u.SnapCaveatType.SnapIds} caveat.`)}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/snaps.js"}],[1518,{"@metamask/utils":1547,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WALLET_SNAP_PERMISSION_KEY=n.isValidUrl=n.uri=n.SNAP_EXPORT_NAMES=n.HandlerType=n.SNAP_STREAM_NAMES=n.SnapValidationFailureReason=n.SnapIdPrefixes=n.assertIsNpmSnapPackageJson=n.isNpmSnapPackageJson=n.NpmSnapPackageJsonStruct=n.NameStruct=n.NpmSnapFileNames=void 0;const r=e("@metamask/utils"),s=e("superstruct");var i,o;!function(e){e.PackageJson="package.json",e.Manifest="snap.manifest.json"}(i=n.NpmSnapFileNames||(n.NpmSnapFileNames={})),n.NameStruct=(0,s.size)((0,s.pattern)((0,s.string)(),/^(?:@[a-z0-9-*~][a-z0-9-*._~]*\/)?[a-z0-9-~][a-z0-9-._~]*$/u),1,214),n.NpmSnapPackageJsonStruct=(0,s.type)({version:r.VersionStruct,name:n.NameStruct,main:(0,s.optional)((0,s.size)((0,s.string)(),1,Infinity)),repository:(0,s.optional)((0,s.object)({type:(0,s.size)((0,s.string)(),1,Infinity),url:(0,s.size)((0,s.string)(),1,Infinity)}))}),n.isNpmSnapPackageJson=function(e){return(0,s.is)(e,n.NpmSnapPackageJsonStruct)},n.assertIsNpmSnapPackageJson=function(e){(0,r.assertStruct)(e,n.NpmSnapPackageJsonStruct,`"${i.PackageJson}" is invalid`)},function(e){e.npm="npm:",e.local="local:"}(n.SnapIdPrefixes||(n.SnapIdPrefixes={})),function(e){e.NameMismatch='"name" field mismatch',e.VersionMismatch='"version" field mismatch',e.RepositoryMismatch='"repository" field mismatch',e.ShasumMismatch='"shasum" field mismatch'}(n.SnapValidationFailureReason||(n.SnapValidationFailureReason={})),function(e){e.JSON_RPC="jsonRpc",e.COMMAND="command"}(n.SNAP_STREAM_NAMES||(n.SNAP_STREAM_NAMES={})),function(e){e.OnRpcRequest="onRpcRequest",e.OnTransaction="onTransaction",e.SnapKeyring="keyring",e.OnCronjob="onCronjob"}(o=n.HandlerType||(n.HandlerType={})),n.SNAP_EXPORT_NAMES=Object.values(o);n.uri=(e={})=>(0,s.refine)((0,s.union)([(0,s.string)(),(0,s.instance)(URL)]),"uri",(t=>{try{const n=new URL(t),r=(0,s.type)(e);return(0,s.assert)(n,r),!0}catch{return`Expected URL, got "${t.toString()}".`}})),n.isValidUrl=function(e,t={}){return(0,s.is)(e,(0,n.uri)(t))},n.WALLET_SNAP_PERMISSION_KEY="wallet_snap"}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/types.js"}],[1519,{"@metamask/utils":1547,semver:3869,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.resolveVersionRange=n.getTargetVersion=n.DEFAULT_REQUESTED_SNAP_VERSION=void 0;const r=e("@metamask/utils"),s=e("semver"),i=e("superstruct");n.DEFAULT_REQUESTED_SNAP_VERSION="*",n.getTargetVersion=function(e,t){const n=(0,s.maxSatisfying)(e,t);return n||(0,s.maxSatisfying)(e,t,{includePrerelease:!0})},n.resolveVersionRange=function(e){return e===undefined||"latest"===e?[undefined,n.DEFAULT_REQUESTED_SNAP_VERSION]:(0,i.validate)(e,r.VersionRangeStruct)}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/versions.js"}],[152,{lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("lodash");var s={version:72,async migrate(e){const t=(0,r.cloneDeep)(e);t.meta.version=72;const n=function(e){const t=(null==e?void 0:e.PreferencesController)||{};return{...e,PreferencesController:{...t,knownMethodData:{}}}}(t.data);return t.data=n,t}};n.default=s}}},{package:"$root$",file:"app/scripts/migrations/072.js"}],[1520,{"../deep-clone":1503,"@metamask/utils":1547},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.VirtualFile=void 0;const r=e("@metamask/utils"),s=e("../deep-clone");class i{constructor(e){let t;t="string"==typeof e||e instanceof Uint8Array?{value:e}:e,this.value=t?.value??"",this.result=t?.result??undefined,this.data=t?.data??{},this.path=t?.path??"/"}toString(e){if("string"==typeof this.value)return(0,r.assert)(e===undefined,"Tried to encode string."),this.value;return new TextDecoder(e).decode(this.value)}clone(){const e=new i;return"string"==typeof this.value?e.value=this.value:e.value=this.value.slice(0),e.result=(0,s.deepClone)(this.result),e.data=(0,s.deepClone)(this.data),e.path=this.path,e}}n.VirtualFile=i}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/virtual-file/VirtualFile.js"}],[1521,{"./VirtualFile":1520},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./VirtualFile"),n)}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/virtual-file/index.browser.js"}],[1522,{"./BIP44Node":1523,"./SLIP10Node":1524,"./constants":1525,"./utils":1538},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},i=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.getBIP44AddressKeyDeriver=n.deriveBIP44AddressKey=n.BIP44CoinTypeNode=n.BIP_44_COIN_TYPE_DEPTH=void 0;const o=e("./BIP44Node"),a=e("./constants"),c=e("./SLIP10Node"),u=e("./utils");n.BIP_44_COIN_TYPE_DEPTH=2;class l{constructor(e,t){r.set(this,void 0),s(this,r,e,"f"),this.coin_type=t,this.path=(0,u.getBIP44CoinTypePathString)(t),Object.freeze(this)}static async fromJSON(e,t){h(t),d(e.depth);const n=await o.BIP44Node.fromExtendedKey({depth:e.depth,index:e.index,parentFingerprint:e.parentFingerprint,chainCode:(0,u.hexStringToBytes)(e.chainCode),privateKey:(0,u.nullableHexStringToBytes)(e.privateKey),publicKey:(0,u.hexStringToBytes)(e.publicKey)});return new l(n,t)}static async fromDerivationPath(e){d(e.length-1);const t=await o.BIP44Node.fromDerivationPath({derivationPath:e}),r=Number.parseInt(e[n.BIP_44_COIN_TYPE_DEPTH].split(":")[1].replace("'",""),10);return new l(t,r)}static async fromNode(e,t){if(!(e instanceof o.BIP44Node))throw new Error("Invalid node: Expected an instance of BIP44Node.");return h(t),d(e.depth),Promise.resolve(new l(e,t))}get depth(){return i(this,r,"f").depth}get privateKeyBytes(){return i(this,r,"f").privateKeyBytes}get publicKeyBytes(){return i(this,r,"f").publicKeyBytes}get chainCodeBytes(){return i(this,r,"f").chainCodeBytes}get privateKey(){return i(this,r,"f").privateKey}get publicKey(){return i(this,r,"f").publicKey}get compressedPublicKey(){return i(this,r,"f").compressedPublicKey}get compressedPublicKeyBytes(){return i(this,r,"f").compressedPublicKeyBytes}get chainCode(){return i(this,r,"f").chainCode}get address(){return i(this,r,"f").address}get masterFingerprint(){return i(this,r,"f").masterFingerprint}get parentFingerprint(){return i(this,r,"f").parentFingerprint}get fingerprint(){return i(this,r,"f").fingerprint}get index(){return i(this,r,"f").index}get curve(){return i(this,r,"f").curve}get extendedKey(){return i(this,r,"f").extendedKey}async deriveBIP44AddressKey({account:e=0,change:t=0,address_index:n}){return await i(this,r,"f").derive((0,u.getBIP44CoinTypeToAddressPathTuple)({account:e,change:t,address_index:n}))}toJSON(){return Object.assign(Object.assign({},i(this,r,"f").toJSON()),{coin_type:this.coin_type,path:this.path})}}function d(e){if(e!==n.BIP_44_COIN_TYPE_DEPTH)throw new Error(`Invalid depth: Coin type nodes must be of depth ${n.BIP_44_COIN_TYPE_DEPTH}. Received: "${e}"`)}function h(e){if("number"!=typeof e||!Number.isInteger(e)||e<0)throw new Error("Invalid coin type: The specified coin type must be a non-negative integer number.")}async function p(e){if(e instanceof l)return d(e.depth),e;if("string"==typeof e){const t=await o.BIP44Node.fromExtendedKey(e),n=await l.fromNode(t,t.index-a.BIP_32_HARDENED_OFFSET);return d(n.depth),n}return l.fromJSON(e,e.coin_type)}n.BIP44CoinTypeNode=l,r=new WeakMap,n.deriveBIP44AddressKey=async function(e,{account:t=0,change:n=0,address_index:r}){const s=(0,u.getBIP44CoinTypeToAddressPathTuple)({account:t,change:n,address_index:r}),i=await p(e),a=await(0,c.deriveChildNode)({path:s,node:i});return new o.BIP44Node(a)},n.getBIP44AddressKeyDeriver=async function(e,t){const{account:n=0,change:r=0}=null!=t?t:{},s=await p(e),i=(0,u.getHardenedBIP32NodeToken)(n),a=(0,u.getBIP32NodeToken)(r),l=async(e,t=!1)=>{const n=await(0,c.deriveChildNode)({path:[i,a,t?(0,u.getHardenedBIP32NodeToken)(e):(0,u.getUnhardenedBIP32NodeToken)(e)],node:s});return new o.BIP44Node(n)};return l.coin_type=s.coin_type,l.path=(0,u.getBIP44ChangePathString)(s.path,{account:n,change:r}),Object.freeze(l),l}}}},{package:"@metamask/snaps-utils>@metamask/key-tree",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/key-tree/dist/BIP44CoinTypeNode.js"}],[1523,{"./SLIP10Node":1524,"./constants":1525,"./extended-keys":1536,"./utils":1538,"@metamask/utils":1547},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},i=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.validateBIP44Depth=n.BIP44Node=void 0;const o=e("@metamask/utils"),a=e("./constants"),c=e("./extended-keys"),u=e("./SLIP10Node"),l=e("./utils");class d{constructor(e){r.set(this,void 0),s(this,r,e,"f"),Object.freeze(this)}static async fromJSON(e){return d.fromExtendedKey(e)}static async fromExtendedKey(e){if("string"==typeof e){const t=(0,c.decodeExtendedKey)(e),{chainCode:n,depth:r,parentFingerprint:s,index:i}=t;if(t.version===c.PRIVATE_KEY_VERSION){const{privateKey:e}=t;return d.fromExtendedKey({depth:r,parentFingerprint:s,index:i,privateKey:e,chainCode:n})}const{publicKey:o}=t;return d.fromExtendedKey({depth:r,parentFingerprint:s,index:i,publicKey:o,chainCode:n})}const{privateKey:t,publicKey:n,chainCode:r,depth:s,parentFingerprint:i,index:o}=e;h(s);const a=await u.SLIP10Node.fromExtendedKey({privateKey:t,publicKey:n,chainCode:r,depth:s,parentFingerprint:i,index:o,curve:"secp256k1"});return new d(a)}static async fromDerivationPath({derivationPath:e}){h(e.length-1),p(e,a.MIN_BIP_44_DEPTH);const t=await u.SLIP10Node.fromDerivationPath({derivationPath:e,curve:"secp256k1"});return new d(t)}get depth(){return i(this,r,"f").depth}get privateKeyBytes(){return i(this,r,"f").privateKeyBytes}get publicKeyBytes(){return i(this,r,"f").publicKeyBytes}get chainCodeBytes(){return i(this,r,"f").chainCodeBytes}get privateKey(){return i(this,r,"f").privateKey}get publicKey(){return i(this,r,"f").publicKey}get compressedPublicKey(){return i(this,r,"f").compressedPublicKey}get compressedPublicKeyBytes(){return i(this,r,"f").compressedPublicKeyBytes}get chainCode(){return i(this,r,"f").chainCode}get address(){return i(this,r,"f").address}get masterFingerprint(){return i(this,r,"f").masterFingerprint}get parentFingerprint(){return i(this,r,"f").parentFingerprint}get fingerprint(){return i(this,r,"f").fingerprint}get index(){return i(this,r,"f").index}get extendedKey(){const e={depth:this.depth,parentFingerprint:this.parentFingerprint,index:this.index,chainCode:this.chainCodeBytes};return this.privateKeyBytes?(0,c.encodeExtendedKey)(Object.assign(Object.assign({},e),{version:c.PRIVATE_KEY_VERSION,privateKey:this.privateKeyBytes})):(0,c.encodeExtendedKey)(Object.assign(Object.assign({},e),{version:c.PUBLIC_KEY_VERSION,publicKey:this.publicKeyBytes}))}get curve(){return i(this,r,"f").curve}neuter(){const e=i(this,r,"f").neuter();return new d(e)}async derive(e){if(this.depth===a.MAX_BIP_44_DEPTH)throw new Error("Illegal operation: This HD tree node is already a leaf node.");h(this.depth+e.length),p(e,this.depth+1);const t=await i(this,r,"f").derive(e);return new d(t)}toJSON(){return{depth:this.depth,masterFingerprint:this.masterFingerprint,parentFingerprint:this.parentFingerprint,index:this.index,privateKey:this.privateKey,publicKey:this.publicKey,chainCode:this.chainCode}}}function h(e){if((0,u.validateBIP32Depth)(e),e<a.MIN_BIP_44_DEPTH||e>a.MAX_BIP_44_DEPTH)throw new Error(`Invalid HD tree path depth: The depth must be a positive integer N such that 0 <= N <= 5. Received: "${e}"`)}function p(e,t){e.forEach(((e,n)=>{const r=t+n;if(r!==a.MIN_BIP_44_DEPTH)switch((0,o.assert)("string"==typeof e),r){case 1:if(e!==a.BIP44PurposeNodeToken)throw new Error(`Invalid derivation path: The "purpose" node (depth 1) must be the string "${a.BIP44PurposeNodeToken}".`);break;case 2:if(!a.BIP_32_PATH_REGEX.test(e)||!(0,l.isHardened)(e))throw new Error('Invalid derivation path: The "coin_type" node (depth 2) must be a hardened BIP-32 node.');break;case 3:if(!a.BIP_32_PATH_REGEX.test(e)||!(0,l.isHardened)(e))throw new Error('Invalid derivation path: The "account" node (depth 3) must be a hardened BIP-32 node.');break;case 4:if(!a.BIP_32_PATH_REGEX.test(e))throw new Error('Invalid derivation path: The "change" node (depth 4) must be a BIP-32 node.');break;case a.MAX_BIP_44_DEPTH:if(!a.BIP_32_PATH_REGEX.test(e))throw new Error('Invalid derivation path: The "address_index" node (depth 5) must be a BIP-32 node.')}else if(!(e instanceof Uint8Array||a.BIP_39_PATH_REGEX.test(e)))throw new Error('Invalid derivation path: The "m" / seed node (depth 0) must be a BIP-39 node.')}))}n.BIP44Node=d,r=new WeakMap,n.validateBIP44Depth=h}}},{package:"@metamask/snaps-utils>@metamask/key-tree",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/key-tree/dist/BIP44Node.js"}],[1524,{"./constants":1525,"./curves":1528,"./derivation":1530,"./derivers/bip32":1531,"./utils":1538,"@metamask/utils":1547},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,i=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.deriveChildNode=n.validateRootIndex=n.validateMasterParentFingerprint=n.validateParentFingerprint=n.validateBIP32Depth=n.SLIP10Node=void 0;const o=e("@metamask/utils"),a=e("./constants"),c=e("./curves"),u=e("./derivation"),l=e("./derivers/bip32"),d=e("./utils");class h{constructor({depth:e,masterFingerprint:t,parentFingerprint:n,index:a,chainCode:c,privateKey:u,publicKey:l,curve:d},p){(0,o.assert)(p===i(h,r,"f",s),"SLIP10Node can only be constructed using `SLIP10Node.fromJSON`, `SLIP10Node.fromExtendedKey`, or `SLIP10Node.fromDerivationPath`."),this.depth=e,this.masterFingerprint=t,this.parentFingerprint=n,this.index=a,this.chainCodeBytes=c,this.privateKeyBytes=u,this.publicKeyBytes=l,this.curve=d,Object.freeze(this)}static async fromJSON(e){return h.fromExtendedKey(e)}static async fromExtendedKey({depth:e,masterFingerprint:t,parentFingerprint:n,index:u,privateKey:l,publicKey:y,chainCode:b,curve:w}){const v=(0,d.getBytes)(b,a.BYTES_KEY_LENGTH);(0,d.validateCurve)(w),p(e),(0,d.validateBIP32Index)(u),g(u,e),f(n,e),m(t,n,e);const k=(0,c.getCurveByName)(w);if(l){const c=(0,d.getBytesUnsafe)(l,a.BYTES_KEY_LENGTH);return(0,o.assert)(k.isValidPrivateKey(c),`Invalid private key: Value is not a valid ${w} private key.`),new h({depth:e,masterFingerprint:t,parentFingerprint:n,index:u,chainCode:v,privateKey:c,publicKey:await k.getPublicKey(c),curve:w},i(this,r,"f",s))}if(y){const o=(0,d.getBytes)(y,k.publicKeyLength);return new h({depth:e,masterFingerprint:t,parentFingerprint:n,index:u,chainCode:v,publicKey:o,curve:w},i(this,r,"f",s))}throw new Error("Invalid options: Must provide either a private key or a public key.")}static async fromDerivationPath({derivationPath:e,curve:t}){if((0,d.validateCurve)(t),!e)throw new Error("Invalid options: Must provide a derivation path.");if(0===e.length)throw new Error("Invalid derivation path: May not specify an empty derivation path.");return await(0,u.deriveKeyFromPath)({path:e,depth:e.length-1,curve:t})}get chainCode(){return(0,o.bytesToHex)(this.chainCodeBytes)}get privateKey(){return this.privateKeyBytes?(0,o.bytesToHex)(this.privateKeyBytes):undefined}get publicKey(){return(0,o.bytesToHex)(this.publicKeyBytes)}get compressedPublicKeyBytes(){return(0,c.getCurveByName)(this.curve).compressPublicKey(this.publicKeyBytes)}get compressedPublicKey(){return(0,o.bytesToHex)(this.compressedPublicKeyBytes)}get address(){if("secp256k1"!==this.curve)throw new Error("Unable to get address for this node: Only secp256k1 is supported.");return(0,o.bytesToHex)((0,l.publicKeyToEthAddress)(this.publicKeyBytes))}get fingerprint(){return(0,d.getFingerprint)(this.compressedPublicKeyBytes)}neuter(){return new h({depth:this.depth,masterFingerprint:this.masterFingerprint,parentFingerprint:this.parentFingerprint,index:this.index,chainCode:this.chainCodeBytes,publicKey:this.publicKeyBytes,curve:this.curve},i(h,r,"f",s))}async derive(e){return await y({path:e,node:this})}toJSON(){return{depth:this.depth,masterFingerprint:this.masterFingerprint,parentFingerprint:this.parentFingerprint,index:this.index,curve:this.curve,privateKey:this.privateKey,publicKey:this.publicKey,chainCode:this.chainCode}}}function p(e){if(!(0,d.isValidInteger)(e))throw new Error(`Invalid HD tree path depth: The depth must be a positive integer. Received: "${String(e)}".`)}function f(e,t){if(!(0,d.isValidInteger)(e))throw new Error(`Invalid parent fingerprint: The fingerprint must be a positive integer. Received: "${String(e)}".`);if(0===t&&0!==e)throw new Error(`Invalid parent fingerprint: The fingerprint of the root node must be 0. Received: "${String(e)}".`);if(t>0&&0===e)throw new Error(`Invalid parent fingerprint: The fingerprint of a child node must not be 0. Received: "${String(e)}".`)}function m(e,t,n){if(e&&n>=2&&e===t)throw new Error(`Invalid parent fingerprint: The fingerprint of a child node cannot be equal to the master fingerprint. Received: "${String(t)}".`)}function g(e,t){if(0===t&&0!==e)throw new Error(`Invalid index: The index of the root node must be 0. Received: "${String(e)}".`)}async function y({path:e,node:t}){if(0===e.length)throw new Error("Invalid HD tree derivation path: Deriving a path of length 0 is not defined.");const n=t.depth+e.length;return p(n),await(0,u.deriveKeyFromPath)({path:e,node:t,depth:n})}n.SLIP10Node=h,r=h,s={value:Symbol("SLIP10Node.constructor")},n.validateBIP32Depth=p,n.validateParentFingerprint=f,n.validateMasterParentFingerprint=m,n.validateRootIndex=g,n.deriveChildNode=y}}},{package:"@metamask/snaps-utils>@metamask/key-tree",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/key-tree/dist/SLIP10Node.js"}],[1525,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BIP_32_HARDENED_OFFSET=n.BIP_39_PATH_REGEX=n.SLIP_10_PATH_REGEX=n.BIP_32_PATH_REGEX=n.UNPREFIXED_BIP_32_PATH_REGEX=n.UNPREFIXED_PATH_REGEX=n.BIP44PurposeNodeToken=n.MAX_BIP_32_INDEX=n.MAX_UNHARDENED_BIP_32_INDEX=n.MAX_BIP_44_DEPTH=n.MIN_BIP_44_DEPTH=n.BYTES_KEY_LENGTH=void 0,n.BYTES_KEY_LENGTH=32,n.MIN_BIP_44_DEPTH=0,n.MAX_BIP_44_DEPTH=5,n.MAX_UNHARDENED_BIP_32_INDEX=2147483647,n.MAX_BIP_32_INDEX=4294967295,n.BIP44PurposeNodeToken="bip32:44'",n.UNPREFIXED_PATH_REGEX=/^\d+$/u,n.UNPREFIXED_BIP_32_PATH_REGEX=/^(?<index>\d+)'?$/u,n.BIP_32_PATH_REGEX=/^bip32:\d+'?$/u,n.SLIP_10_PATH_REGEX=/^slip10:\d+'?$/u,n.BIP_39_PATH_REGEX=/^bip39:([a-z]+){1}( [a-z]+){11,23}$/u,n.BIP_32_HARDENED_OFFSET=2147483648}}},{package:"@metamask/snaps-utils>@metamask/key-tree",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/key-tree/dist/constants.js"}],[1526,{"./ed25519":1527,"./secp256k1":1529,"@noble/secp256k1":1623},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.mod=n.getCurveByName=n.curves=void 0;const o=e("@noble/secp256k1"),a=i(e("./ed25519")),c=i(e("./secp256k1"));n.curves={secp256k1:c,ed25519:a},n.getCurveByName=function(e){return n.curves[e]},n.mod=o.utils.mod}}},{package:"@metamask/snaps-utils>@metamask/key-tree",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/key-tree/dist/curves/curve.js"}],[1527,{"@metamask/utils":1547,"@noble/ed25519":1612},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.decompressPublicKey=n.compressPublicKey=n.publicAdd=n.getPublicKey=n.publicKeyLength=n.deriveUnhardenedKeys=n.isValidPrivateKey=n.secret=n.name=n.curve=void 0;const r=e("@metamask/utils"),s=e("@noble/ed25519");var i=e("@noble/ed25519");Object.defineProperty(n,"curve",{enumerable:!0,get:function(){return i.CURVE}}),n.name="ed25519",n.secret=(0,r.stringToBytes)("ed25519 seed");n.isValidPrivateKey=e=>!0,n.deriveUnhardenedKeys=!1,n.publicKeyLength=33;n.getPublicKey=async(e,t)=>{const n=await(0,s.getPublicKey)(e);return(0,r.concatBytes)([new Uint8Array([0]),n])};n.publicAdd=(e,t)=>{throw new Error("Ed25519 does not support public key derivation.")};n.compressPublicKey=e=>e;n.decompressPublicKey=e=>e}}},{package:"@metamask/snaps-utils>@metamask/key-tree",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/key-tree/dist/curves/ed25519.js"}],[1528,{"./curve":1526,"./ed25519":1527,"./secp256k1":1529},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.ed25519=n.secp256k1=void 0,i(e("./curve"),n),n.secp256k1=o(e("./secp256k1")),n.ed25519=o(e("./ed25519"))}}},{package:"@metamask/snaps-utils>@metamask/key-tree",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/key-tree/dist/curves/index.js"}],[1529,{"../utils":1538,"@metamask/utils":1547,"@noble/secp256k1":1623},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.decompressPublicKey=n.compressPublicKey=n.publicAdd=n.getPublicKey=n.isValidPrivateKey=n.publicKeyLength=n.deriveUnhardenedKeys=n.secret=n.name=n.curve=void 0;const r=e("@metamask/utils"),s=e("@noble/secp256k1"),i=e("../utils");var o=e("@noble/secp256k1");Object.defineProperty(n,"curve",{enumerable:!0,get:function(){return o.CURVE}}),n.name="secp256k1",n.secret=(0,r.stringToBytes)("Bitcoin seed"),n.deriveUnhardenedKeys=!0,n.publicKeyLength=65;n.isValidPrivateKey=e=>s.utils.isValidPrivateKey(e);n.getPublicKey=(e,t)=>(0,s.getPublicKey)(e,t);n.publicAdd=(e,t)=>{(0,r.assert)((0,i.isValidBytesKey)(t,32),"Invalid tweak: Tweak must be a non-zero 32-byte Uint8Array.");const n=s.Point.fromHex(e).add(s.Point.fromPrivateKey(t));return n.assertValidity(),n.toRawBytes(!1)};n.compressPublicKey=e=>s.Point.fromHex(e).toRawBytes(!0);n.decompressPublicKey=e=>s.Point.fromHex(e).toRawBytes(!1)}}},{package:"@metamask/snaps-utils>@metamask/key-tree",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/key-tree/dist/curves/secp256k1.js"}],[153,{lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("lodash");var s={version:73,async migrate(e){const t=(0,r.cloneDeep)(e);t.meta.version=73;const n=function(e){const t=(null==e?void 0:e.PreferencesController)||{};return{...e,PreferencesController:{...t,knownMethodData:{}}}}(t.data);return t.data=n,t}};n.default=s}}},{package:"$root$",file:"app/scripts/migrations/073.js"}],[1530,{"./BIP44CoinTypeNode":1522,"./BIP44Node":1523,"./SLIP10Node":1524,"./constants":1525,"./curves":1528,"./derivers":1533,"@metamask/utils":1547},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validatePathSegment=n.deriveKeyFromPath=void 0;const r=e("@metamask/utils"),s=e("./BIP44CoinTypeNode"),i=e("./BIP44Node"),o=e("./constants"),a=e("./curves"),c=e("./derivers"),u=e("./SLIP10Node");function l(e,t,n){if(0===e.length)throw new Error("Invalid HD path segment: The segment must not be empty.");let s=!1;if(e.forEach(((e,t)=>{if(0===t){if(s=e instanceof Uint8Array||o.BIP_39_PATH_REGEX.test(e),!(e instanceof Uint8Array||s||o.BIP_32_PATH_REGEX.test(e)||o.SLIP_10_PATH_REGEX.test(e)))throw d()}else if(e instanceof Uint8Array||!o.BIP_32_PATH_REGEX.test(e)&&!o.SLIP_10_PATH_REGEX.test(e))throw d()})),n===o.MIN_BIP_44_DEPTH&&(!s||1!==e.length))throw new Error(`Invalid HD path segment: The segment must consist of a single BIP-39 node for depths of ${o.MIN_BIP_44_DEPTH}. Received: "${String(e)}".`);if(!t&&!s)throw new Error("Invalid derivation parameters: Must specify parent key if the first node of the path segment is not a BIP-39 node.");if(t&&s)throw new Error("Invalid derivation parameters: May not specify parent key if the path segment starts with a BIP-39 node.");const i=s?e.slice(1):e;if(i.length>0){const e=i[0].split(":")[0];(0,r.assert)(i.every((t=>t.startsWith(`${e}:`))),"Invalid HD path segment: Cannot mix 'bip32' and 'slip10' path segments.")}}function d(){return new Error("Invalid HD path segment: The path segment is malformed.")}n.deriveKeyFromPath=async function(e){const{path:t,depth:n=t.length}=e,o="node"in e?e.node:undefined,h="curve"in e?e.curve:null==o?void 0:o.curve;if(o&&!(o instanceof u.SLIP10Node)&&!(o instanceof i.BIP44Node)&&!(o instanceof s.BIP44CoinTypeNode))throw new Error("Invalid arguments: Node must be a SLIP-10 node or a BIP-44 node when provided.");if(!h)throw new Error("Invalid arguments: Must specify either a parent node or curve.");return l(t,Boolean(null==o?void 0:o.privateKey)||Boolean(null==o?void 0:o.publicKey),n),await t.reduce((async(e,t,n)=>{const s=await e;if("string"==typeof t){const[e,n]=t.split(":");(0,r.assert)(function(e){return e in c.derivers}(e),`Unknown derivation type: "${e}".`);const i=c.derivers[e];return await i.deriveChildKey({path:n,node:s,curve:(0,a.getCurveByName)(h)})}return(0,r.assert)(0===n,d()),await c.derivers.bip39.deriveChildKey({path:t,node:s,curve:(0,a.getCurveByName)(h)})}),Promise.resolve(o))},n.validatePathSegment=l}}},{package:"@metamask/snaps-utils>@metamask/key-tree",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/key-tree/dist/derivation.js"}],[1531,{"../constants":1525,"../curves":1528,"../utils":1538,"./shared":1534,"@metamask/utils":1547,"@noble/hashes/sha3":1620},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.deriveChildKey=n.publicKeyToEthAddress=n.privateKeyToEthAddress=void 0;const r=e("@metamask/utils"),s=e("@noble/hashes/sha3"),i=e("../constants"),o=e("../curves"),a=e("../utils"),c=e("./shared");function u(e){return(0,r.assert)(e instanceof Uint8Array&&(0,a.isValidBytesKey)(e,o.secp256k1.publicKeyLength),"Invalid key: The key must be a 65-byte, non-zero Uint8Array."),(0,s.keccak_256)(e.slice(1)).slice(-20)}async function l(e,t){const{childIndex:n,privateKey:r,publicKey:s,isHardened:i,curve:o,chainCode:u}=t;if((0,a.validateBIP32Index)(n+1),r){const e=await(0,c.deriveSecretExtension)({privateKey:r,childIndex:n+1,isHardened:i,curve:o}),s=(0,c.generateEntropy)({chainCode:u,extension:e});return Object.assign(Object.assign({},t),{childIndex:n+1,entropy:s})}const l=(0,c.derivePublicExtension)({parentPublicKey:s,childIndex:n+1}),d=(0,c.generateEntropy)({chainCode:u,extension:l});return Object.assign(Object.assign({},t),{childIndex:n+1,entropy:d})}n.privateKeyToEthAddress=function(e){return(0,r.assert)(e instanceof Uint8Array&&(0,a.isValidBytesKey)(e,i.BYTES_KEY_LENGTH),"Invalid key: The key must be a 32-byte, non-zero Uint8Array."),u(o.secp256k1.getPublicKey(e,!1))},n.publicKeyToEthAddress=u,n.deriveChildKey=async function(e){return(0,r.assert)("secp256k1"===e.curve.name,"Invalid curve: Only secp256k1 is supported by BIP-32."),(0,c.deriveChildKey)(e,l)}}}},{package:"@metamask/snaps-utils>@metamask/key-tree",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/key-tree/dist/derivers/bip32.js"}],[1532,{"../SLIP10Node":1524,"../constants":1525,"../utils":1538,"@metamask/scure-bip39":1457,"@metamask/scure-bip39/dist/wordlists/english":1458,"@metamask/utils":1547,"@noble/hashes/hmac":1617,"@noble/hashes/sha512":1621},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createBip39KeyFromSeed=n.deriveChildKey=n.bip39MnemonicToMultipath=void 0;const r=e("@metamask/scure-bip39"),s=e("@metamask/scure-bip39/dist/wordlists/english"),i=e("@metamask/utils"),o=e("@noble/hashes/hmac"),a=e("@noble/hashes/sha512"),c=e("../constants"),u=e("../SLIP10Node"),l=e("../utils");async function d(e,t){(0,i.assert)(e.length>=16&&e.length<=64,"Invalid seed: The seed must be between 16 and 64 bytes long.");const n=(0,o.hmac)(a.sha512,t.secret,e),r=n.slice(0,c.BYTES_KEY_LENGTH),s=n.slice(c.BYTES_KEY_LENGTH);(0,i.assert)(t.isValidPrivateKey(r),"Invalid private key: The private key must greater than 0 and less than the curve order.");const d=(0,l.getFingerprint)(await t.getPublicKey(r,!0));return u.SLIP10Node.fromExtendedKey({privateKey:r,chainCode:s,masterFingerprint:d,depth:0,parentFingerprint:0,index:0,curve:t.name})}n.bip39MnemonicToMultipath=function(e){return`bip39:${e.toLowerCase().trim()}`},n.deriveChildKey=async function({path:e,curve:t}){return d(await(0,r.mnemonicToSeed)(e,s.wordlist),t)},n.createBip39KeyFromSeed=d}}},{package:"@metamask/snaps-utils>@metamask/key-tree",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/key-tree/dist/derivers/bip39.js"}],[1533,{"./bip32":1531,"./bip39":1532,"./slip10":1535},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.derivers=void 0;const o=i(e("./bip32")),a=i(e("./bip39")),c=i(e("./slip10"));n.derivers={bip32:o,bip39:a,slip10:c}}}},{package:"@metamask/snaps-utils>@metamask/key-tree",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/key-tree/dist/derivers/index.js"}],[1534,{"../SLIP10Node":1524,"../constants":1525,"../curves":1528,"../utils":1538,"@metamask/utils":1547,"@noble/hashes/hmac":1617,"@noble/hashes/sha512":1621},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateNode=n.generateEntropy=n.privateAdd=n.derivePublicChildKey=n.derivePublicExtension=n.deriveSecretExtension=n.deriveChildKey=void 0;const r=e("@metamask/utils"),s=e("@noble/hashes/hmac"),i=e("@noble/hashes/sha512"),o=e("../constants"),a=e("../curves"),c=e("../SLIP10Node"),u=e("../utils");async function l(e,t){const{privateKey:n,publicKey:r,entropy:s,childIndex:i,isHardened:a,depth:u,parentFingerprint:d,masterFingerprint:h,curve:m}=e;try{return n?await async function({entropy:e,privateKey:t,depth:n,masterFingerprint:r,parentFingerprint:s,childIndex:i,isHardened:a,curve:u}){const l=i+(a?o.BIP_32_HARDENED_OFFSET:0),{privateKey:d,chainCode:h}=await async function({privateKey:e,entropy:t,curve:n}){const r=t.slice(0,32),s=t.slice(32);if("ed25519"===n.name){return{privateKey:r,publicKey:await n.getPublicKey(r),chainCode:s}}const i=f(e,r,n),o=await n.getPublicKey(i);return{privateKey:i,publicKey:o,chainCode:s}}({privateKey:t,entropy:e,curve:u});return await c.SLIP10Node.fromExtendedKey({privateKey:d,chainCode:h,depth:n+1,masterFingerprint:r,parentFingerprint:s,index:l,curve:u.name})}({entropy:s,privateKey:n,depth:u,masterFingerprint:h,parentFingerprint:d,childIndex:i,isHardened:a,curve:m}):await p({entropy:s,publicKey:r,depth:u,masterFingerprint:h,parentFingerprint:d,childIndex:i,curve:m})}catch(n){return await l(await t(n,e),t)}}async function d({privateKey:e,childIndex:t,isHardened:n,curve:s}){if(n)return(0,r.concatBytes)([new Uint8Array([0]),e,(0,u.numberToUint32)(t+o.BIP_32_HARDENED_OFFSET)]);return h({parentPublicKey:await s.getPublicKey(e,!0),childIndex:t})}function h({parentPublicKey:e,childIndex:t}){return(0,r.concatBytes)([e,(0,u.numberToUint32)(t)])}async function p({entropy:e,publicKey:t,depth:n,masterFingerprint:r,parentFingerprint:s,childIndex:i,curve:o}){const{publicKey:a,chainCode:u}=function({publicKey:e,entropy:t,curve:n}){const r=t.slice(0,32),s=t.slice(32);return{publicKey:n.publicAdd(e,r),chainCode:s}}({publicKey:t,entropy:e,curve:o});return await c.SLIP10Node.fromExtendedKey({publicKey:a,chainCode:u,depth:n+1,masterFingerprint:r,parentFingerprint:s,index:i,curve:o.name})}function f(e,t,n){(0,r.assert)((0,u.isValidBytesKey)(t,32),"Invalid tweak: Tweak must be a non-zero 32-byte Uint8Array.");const s=(0,r.bytesToBigInt)(e),i=(0,r.bytesToBigInt)(t);if(i>=n.curve.n)throw new Error("Invalid tweak: Tweak is larger than the curve order.");const o=(0,a.mod)(s+i,n.curve.n),c=(0,r.hexToBytes)(o.toString(16).padStart(64,"0"));if(!n.isValidPrivateKey(c))throw new Error("Invalid private key or tweak: The resulting private key is invalid.");return c}function m({chainCode:e,extension:t}){return(0,s.hmac)(i.sha512,e,t)}function g(e){(0,r.assert)(e,"Invalid parameters: Must specify a node to derive from.")}n.deriveChildKey=async function({path:e,node:t,curve:n},s){g(t);const{childIndex:i,isHardened:a}=function(e,t,n){!function(e,t,n){(0,r.assert)("string"==typeof e,"Invalid path: Must be a string.");const s=e.endsWith("'");(0,r.assert)(!s||t.privateKey,"Invalid parameters: Cannot derive hardened child keys without a private key."),(0,r.assert)(s||n.deriveUnhardenedKeys,`Invalid path: Cannot derive unhardened child keys with ${n.name}.`)}(e,t,n);const s=e.split("'")[0],i=parseInt(s,10);if(!o.UNPREFIXED_PATH_REGEX.test(s)||!Number.isInteger(i)||i<0||i>=o.BIP_32_HARDENED_OFFSET)throw new Error(`Invalid path: The index must be a non-negative decimal integer less than ${o.BIP_32_HARDENED_OFFSET}.`);return{childIndex:i,isHardened:e.includes("'")}}(e,t,n),c={chainCode:t.chainCodeBytes,childIndex:i,isHardened:a,depth:t.depth,parentFingerprint:t.fingerprint,masterFingerprint:t.masterFingerprint,curve:n};if(t.privateKeyBytes){const e=await d({privateKey:t.privateKeyBytes,childIndex:i,isHardened:a,curve:n}),r=m({chainCode:t.chainCodeBytes,extension:e});return await l(Object.assign({privateKey:t.privateKeyBytes,entropy:r},c),s)}const u=h({parentPublicKey:t.compressedPublicKeyBytes,childIndex:i}),p=m({chainCode:t.chainCodeBytes,extension:u});return await l(Object.assign({publicKey:t.compressedPublicKeyBytes,entropy:p},c),s)},n.deriveSecretExtension=d,n.derivePublicExtension=h,n.derivePublicChildKey=p,n.privateAdd=f,n.generateEntropy=m,n.validateNode=g}}},{package:"@metamask/snaps-utils>@metamask/key-tree",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/key-tree/dist/derivers/shared.js"}],[1535,{"../constants":1525,"../utils":1538,"./shared":1534,"@metamask/utils":1547},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.deriveChildKey=void 0;const r=e("@metamask/utils"),s=e("../constants"),i=e("../utils"),o=e("./shared");async function a(e,t){const{curve:n,isHardened:a,childIndex:c,entropy:u,chainCode:l}=t;if("ed25519"===n.name)throw e;const d=a?c+s.BIP_32_HARDENED_OFFSET:c,h=(0,o.generateEntropy)({chainCode:l,extension:(0,r.concatBytes)([1,u.slice(32,64),(0,i.numberToUint32)(d)])});return Object.assign(Object.assign({},t),{entropy:h})}n.deriveChildKey=async function(e){return await(0,o.deriveChildKey)(e,a)}}}},{package:"@metamask/snaps-utils>@metamask/key-tree",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/key-tree/dist/derivers/slip10.js"}],[1536,{"./BIP44Node":1523,"./curves/secp256k1":1529,"./utils":1538,"@metamask/utils":1547},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.encodeExtendedKey=n.decodeExtendedKey=n.PRIVATE_KEY_VERSION=n.PUBLIC_KEY_VERSION=void 0;const r=e("@metamask/utils"),s=e("./BIP44Node"),i=e("./curves/secp256k1"),o=e("./utils");n.PUBLIC_KEY_VERSION=76067358,n.PRIVATE_KEY_VERSION=76066276;n.decodeExtendedKey=e=>{const t=(0,o.decodeBase58check)(e);if(78!==t.length)throw new Error(`Invalid extended key: Expected a length of 78, got ${t.length}.`);const a=(0,r.createDataView)(t),c=a.getUint32(0,!1),u=a.getUint8(4);(0,s.validateBIP44Depth)(u);const l=a.getUint32(5,!1),d=a.getUint32(9,!1),h=t.slice(13,45);if(!(0,o.isValidBytesKey)(h,32))throw new Error("Invalid extended key: Chain code must be a 32-byte non-zero byte array.");const p=t.slice(45,78);if(!(0,o.isValidBytesKey)(p,33))throw new Error("Invalid extended key: Key must be a 33-byte non-zero byte array.");const f=(0,r.createDataView)(p);if(c===n.PUBLIC_KEY_VERSION){if(2!==f.getUint8(0)&&3!==f.getUint8(0))throw new Error("Invalid extended key: Public key must start with 0x02 or 0x03.");return{version:c,depth:u,parentFingerprint:l,index:d,chainCode:h,publicKey:(0,i.decompressPublicKey)(p)}}if(c===n.PRIVATE_KEY_VERSION){if(0!==f.getUint8(0))throw new Error("Invalid extended key: Private key must start with 0x00.");return{version:c,depth:u,parentFingerprint:l,index:d,chainCode:h,privateKey:p.slice(1)}}throw new Error("Invalid extended key: Expected a public (xpub) or private key (xprv) version.")};n.encodeExtendedKey=e=>{const{version:t,depth:s,parentFingerprint:a,index:c,chainCode:u}=e,l=new Uint8Array(78),d=(0,r.createDataView)(l);if(d.setUint32(0,t,!1),d.setUint8(4,s),d.setUint32(5,a,!1),d.setUint32(9,c,!1),l.set(u,13),e.version===n.PUBLIC_KEY_VERSION){const{publicKey:t}=e,n=(0,i.compressPublicKey)(t);l.set(n,45)}if(e.version===n.PRIVATE_KEY_VERSION){const{privateKey:t}=e;l.set(t,46)}return(0,o.encodeBase58check)(l)}}}},{package:"@metamask/snaps-utils>@metamask/key-tree",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/key-tree/dist/extended-keys.js"}],[1537,{"./BIP44CoinTypeNode":1522,"./BIP44Node":1523,"./SLIP10Node":1524,"./constants":1525,"./curves":1528,"./utils":1538},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.isValidBIP32PathSegment=n.getBIP44AddressKeyDeriver=n.deriveBIP44AddressKey=n.BIP_44_COIN_TYPE_DEPTH=n.BIP44CoinTypeNode=n.ed25519=n.secp256k1=n.SLIP10Node=n.BIP44Node=void 0;var i=e("./BIP44Node");Object.defineProperty(n,"BIP44Node",{enumerable:!0,get:function(){return i.BIP44Node}});var o=e("./SLIP10Node");Object.defineProperty(n,"SLIP10Node",{enumerable:!0,get:function(){return o.SLIP10Node}});var a=e("./curves");Object.defineProperty(n,"secp256k1",{enumerable:!0,get:function(){return a.secp256k1}}),Object.defineProperty(n,"ed25519",{enumerable:!0,get:function(){return a.ed25519}});var c=e("./BIP44CoinTypeNode");Object.defineProperty(n,"BIP44CoinTypeNode",{enumerable:!0,get:function(){return c.BIP44CoinTypeNode}}),Object.defineProperty(n,"BIP_44_COIN_TYPE_DEPTH",{enumerable:!0,get:function(){return c.BIP_44_COIN_TYPE_DEPTH}}),Object.defineProperty(n,"deriveBIP44AddressKey",{enumerable:!0,get:function(){return c.deriveBIP44AddressKey}}),Object.defineProperty(n,"getBIP44AddressKeyDeriver",{enumerable:!0,get:function(){return c.getBIP44AddressKeyDeriver}}),s(e("./constants"),n);var u=e("./utils");Object.defineProperty(n,"isValidBIP32PathSegment",{enumerable:!0,get:function(){return u.isValidBIP32PathSegment}})}}},{package:"@metamask/snaps-utils>@metamask/key-tree",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/key-tree/dist/index.js"}],[1538,{"./constants":1525,"./curves":1528,"@metamask/scure-bip39/dist/wordlists/english":1458,"@metamask/utils":1547,"@noble/hashes/ripemd160":1618,"@noble/hashes/sha256":1619,"@scure/base":1639},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.numberToUint32=n.validateCurve=n.mnemonicPhraseToBytes=n.getFingerprint=n.encodeBase58check=n.decodeBase58check=n.getBytesUnsafe=n.getBytes=n.isValidInteger=n.isValidBytesKey=n.nullableHexStringToBytes=n.hexStringToBytes=n.isHardened=n.isValidBIP32PathSegment=n.isValidBIP32Index=n.validateBIP32Index=n.getBIP32NodeToken=n.getUnhardenedBIP32NodeToken=n.getHardenedBIP32NodeToken=n.getBIP44CoinTypeToAddressPathTuple=n.getBIP44ChangePathString=n.getBIP44CoinTypePathString=void 0;const r=e("@metamask/scure-bip39/dist/wordlists/english"),s=e("@metamask/utils"),i=e("@noble/hashes/ripemd160"),o=e("@noble/hashes/sha256"),a=e("@scure/base"),c=e("./constants"),u=e("./curves");function l(e){return p(e),`${d(e)}'`}function d(e){return p(e),`bip32:${e}`}function h(e){if("number"==typeof e)return d(e);if(!e||!Number.isInteger(e.index)||"boolean"!=typeof e.hardened)throw new Error("Invalid BIP-32 index: Must be an object containing the index and whether it is hardened.");return e.hardened?l(e.index):d(e.index)}function p(e){if(!f(e))throw new Error("Invalid BIP-32 index: Must be a non-negative integer.")}function f(e){return y(e)&&e<=c.MAX_BIP_32_INDEX}function m(e){return e instanceof Uint8Array?e:(0,s.hexToBytes)(e)}function g(e,t){if(e.length!==t)return!1;for(const t of e)if(0!==t)return!0;return!1}function y(e){return"number"==typeof e&&Number.isInteger(e)&&e>=0}function b(e,t){if(!g(e,t))throw new Error(`Invalid value: Must be a non-zero ${t}-byte byte array.`)}n.getBIP44CoinTypePathString=function(e){return`m / ${c.BIP44PurposeNodeToken} / ${l(e)}`},n.getBIP44ChangePathString=function(e,t){var n,r;return`${e} / ${l(null!==(n=t.account)&&void 0!==n?n:0)} / ${h(null!==(r=t.change)&&void 0!==r?r:0)}`},n.getBIP44CoinTypeToAddressPathTuple=function({account:e=0,change:t=0,address_index:n}){return[l(e),h(t),h(n)]},n.getHardenedBIP32NodeToken=l,n.getUnhardenedBIP32NodeToken=d,n.getBIP32NodeToken=h,n.validateBIP32Index=p,n.isValidBIP32Index=f,n.isValidBIP32PathSegment=function(e){if("string"!=typeof e)return!1;const t=e.match(c.UNPREFIXED_BIP_32_PATH_REGEX);if(!(null==t?void 0:t.groups))return!1;const n=parseInt(t.groups.index,10);return y(n)&&n<=c.MAX_UNHARDENED_BIP_32_INDEX},n.isHardened=function(e){return e.endsWith("'")},n.hexStringToBytes=m,n.nullableHexStringToBytes=function(e){return e!==undefined?m(e):undefined},n.isValidBytesKey=g,n.isValidInteger=y,n.getBytes=function(e,t){if(e instanceof Uint8Array)return b(e,t),e;if("string"==typeof e){const n=(0,s.hexToBytes)(e);return b(n,t),n}throw new Error("Invalid value: Expected an instance of Uint8Array or hexadecimal string.")},n.getBytesUnsafe=function e(t,n){if(t instanceof Uint8Array)return(0,s.assert)(t.length===n,`Invalid value: Must be a ${n}-byte byte array.`),t;if("string"==typeof t)return e((0,s.hexToBytes)(t),n);throw new Error("Invalid value: Expected an instance of Uint8Array or hexadecimal string.")};n.decodeBase58check=e=>{const t=(0,a.base58check)(o.sha256);try{return t.decode(e)}catch(e){throw new Error("Invalid extended key: Value is not base58-encoded, or the checksum is invalid.")}};n.encodeBase58check=e=>(0,a.base58check)(o.sha256).encode(e);n.getFingerprint=e=>{if(!g(e,33))throw new Error("Invalid public key: The key must be a 33-byte, non-zero byte array.");const t=(0,i.ripemd160)((0,o.sha256)(e));return(0,s.createDataView)(t).getUint32(0,!1)},n.mnemonicPhraseToBytes=function(e){const t=e.split(" ").map((e=>{const t=r.wordlist.indexOf(e);return(0,s.assert)(-1!==t,`Invalid mnemonic phrase: Unknown word "${e}".`),t}));return new Uint8Array(new Uint16Array(t).buffer)},n.validateCurve=function(e){if(!e||"string"!=typeof e)throw new Error("Invalid curve: Must specify a curve.");if(!Object.keys(u.curves).includes(e))throw new Error(`Invalid curve: Only the following curves are supported: ${Object.keys(u.curves).join(", ")}.`)},n.numberToUint32=function(e){const t=new Uint8Array(4);return(0,s.createDataView)(t).setUint32(0,e,!1),t}}}},{package:"@metamask/snaps-utils>@metamask/key-tree",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/key-tree/dist/utils.js"}],[1539,{superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.assertExhaustive=n.assertStruct=n.assert=n.AssertionError=void 0;const r=e("superstruct");function s(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class i extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}n.AssertionError=i,n.assert=function(e,t="Assertion failed.",n=i){if(!e){if(t instanceof Error)throw t;throw s(n,t)}},n.assertStruct=function(e,t,n="Assertion failed",o=i){try{(0,r.assert)(e,t)}catch(e){throw s(o,`${n}: ${function(e){const t=function(e){return"object"==typeof e&&null!==e&&"message"in e}(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}(e)}.`)}},n.assertExhaustive=function(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}}}},{package:"@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/assert.js"}],[154,{"../../../shared/constants/network":4019,"bignumber.js":2330,lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,s=e("lodash"),i=(r=e("bignumber.js"))&&r.__esModule?r:{default:r},o=e("../../../shared/constants/network");const a=e=>new i.default(e||"0x0",16).gt(0),c=["0x3","0x2a","0x4"],u={"0x3":{rpcUrl:(0,o.getRpcUrl)({network:"ropsten"}),nickname:"Ropsten",ticker:"RopstenETH"},"0x2a":{rpcUrl:(0,o.getRpcUrl)({network:"kovan"}),nickname:"Kovan",ticker:"KovanETH"},"0x4":{rpcUrl:(0,o.getRpcUrl)({network:"rinkeby"}),nickname:"Rinkeby",ticker:"RinkebyETH"}};var l={version:74,async migrate(e){const t=(0,s.cloneDeep)(e);t.meta.version=74;const n=function(e){var t,n;const r=(null==e?void 0:e.PreferencesController)||{},i=r.preferences||{},o=(null==e?void 0:e.NetworkController)||{},l=(null==o?void 0:o.provider)||{},d=c.filter((e=>e===(null==l?void 0:l.chainId)));if(!i.showTestNetworks&&0===d.length)return e;const h=(null==e||null===(t=e.TransactionController)||void 0===t?void 0:t.transactions)||{},p=(null===(n=e.CachedBalancesController)||void 0===n?void 0:n.cachedBalances)||{},f=Object.values(h).filter((({chainId:e})=>c.includes(e))).map((({chainId:e})=>e)),m=c.filter((e=>Object.values(p[e]||{}).some(a))),g=(0,s.uniq)([...m,...f,...d]),y=r.frequentRpcListDetail??[];g.forEach((e=>{y.find((t=>t.chainId===e))||y.unshift({rpcUrl:u[e].rpcUrl,chainId:e,ticker:u[e].ticker,nickname:u[e].nickname,rpcPrefs:{}})})),y.length&&(r.frequentRpcListDetail=y);if(d.length){const e=d[0];o.provider={...o.provider,type:"rpc",rpcUrl:u[e].rpcUrl,chainId:e,nickname:u[e].nickname,ticker:u[e].ticker}}return{...e,PreferencesController:{...r},NetworkController:{...o}}}(t.data);return t.data=n,t}};n.default=l}}},{package:"$root$",file:"app/scripts/migrations/074.js"}],[1540,{"./assert":1539,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.base64=void 0;const r=e("superstruct"),s=e("./assert");n.base64=(e,t={})=>{const n=t.paddingRequired??!1,i=t.characterSet??"base64";let o,a;return"base64"===i?o=String.raw`[A-Za-z0-9+\/]`:((0,s.assert)("base64url"===i),o=String.raw`[-_A-Za-z0-9]`),a=n?new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,r.pattern)(e,a)}}}},{package:"@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/base64.js"}],[1541,{"./assert":1539,"./hex":1546,buffer:2426},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.createDataView=n.concatBytes=n.valueToBytes=n.stringToBytes=n.numberToBytes=n.signedBigIntToBytes=n.bigIntToBytes=n.hexToBytes=n.bytesToString=n.bytesToNumber=n.bytesToSignedBigInt=n.bytesToBigInt=n.bytesToHex=n.assertIsBytes=n.isBytes=void 0;const r=e("./assert"),s=e("./hex"),i=48,o=58,a=87;const c=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function u(e){return e instanceof Uint8Array}function l(e){(0,r.assert)(u(e),"Value must be a Uint8Array.")}function d(e){if(l(e),0===e.length)return"0x";const t=c(),n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t[e[r]];return(0,s.add0x)(n.join(""))}function h(e){l(e);const t=d(e);return BigInt(t)}function p(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;(0,s.assertIsHexString)(e);const t=(0,s.remove0x)(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=n.charCodeAt(2*e),s=n.charCodeAt(2*e+1),c=t-(t<o?i:a),u=s-(s<o?i:a);r[e]=16*c+u}return r}function f(e){(0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");return p(e.toString(16))}function m(e){(0,r.assert)("number"==typeof e,"Value must be a number."),(0,r.assert)(e>=0,"Value must be a non-negative number."),(0,r.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");return p(e.toString(16))}function g(e){return(0,r.assert)("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function y(e){if("bigint"==typeof e)return f(e);if("number"==typeof e)return m(e);if("string"==typeof e)return e.startsWith("0x")?p(e):g(e);if(u(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}n.isBytes=u,n.assertIsBytes=l,n.bytesToHex=d,n.bytesToBigInt=h,n.bytesToSignedBigInt=function(e){l(e);let t=BigInt(0);for(const n of e)t=(t<<BigInt(8))+BigInt(n);return BigInt.asIntN(8*e.length,t)},n.bytesToNumber=function(e){l(e);const t=h(e);return(0,r.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},n.bytesToString=function(e){return l(e),(new TextDecoder).decode(e)},n.hexToBytes=p,n.bigIntToBytes=f,n.signedBigIntToBytes=function(e,t){(0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)("number"==typeof t,"Byte length must be a number."),(0,r.assert)(t>0,"Byte length must be greater than 0."),(0,r.assert)(function(e,t){(0,r.assert)(t>0);const n=e>>BigInt(31);return!((~e&n)+(e&~n)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let n=e;const s=new Uint8Array(t);for(let e=0;e<s.length;e++)s[e]=Number(BigInt.asUintN(8,n)),n>>=BigInt(8);return s.reverse()},n.numberToBytes=m,n.stringToBytes=g,n.valueToBytes=y,n.concatBytes=function(e){const t=new Array(e.length);let n=0;for(let r=0;r<e.length;r++){const s=y(e[r]);t[r]=s,n+=s.length}const r=new Uint8Array(n);for(let e=0,n=0;e<t.length;e++)r.set(t[e],n),n+=t[e].length;return r},n.createDataView=function(e){if(void 0!==t&&e instanceof t){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/bytes.js"}],[1542,{"./base64":1540,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ChecksumStruct=void 0;const r=e("superstruct"),s=e("./base64");n.ChecksumStruct=(0,r.size)((0,s.base64)((0,r.string)(),{paddingRequired:!0}),44,44)}}},{package:"@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/checksum.js"}],[1543,{"./assert":1539,"./bytes":1541,"./hex":1546,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createHex=n.createBytes=n.createBigInt=n.createNumber=void 0;const r=e("superstruct"),s=e("./assert"),i=e("./bytes"),o=e("./hex"),a=(0,r.union)([(0,r.number)(),(0,r.bigint)(),(0,r.string)(),o.StrictHexStruct]),c=(0,r.coerce)((0,r.number)(),a,Number),u=(0,r.coerce)((0,r.bigint)(),a,BigInt),l=((0,r.union)([o.StrictHexStruct,(0,r.instance)(Uint8Array)]),(0,r.coerce)((0,r.instance)(Uint8Array),(0,r.union)([o.StrictHexStruct]),i.hexToBytes)),d=(0,r.coerce)(o.StrictHexStruct,(0,r.instance)(Uint8Array),i.bytesToHex);n.createNumber=function(e){try{const t=(0,r.create)(e,c);return(0,s.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof r.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}},n.createBigInt=function(e){try{return(0,r.create)(e,u)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}},n.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,r.create)(e,l)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}},n.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,r.create)(e,d)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}}}},{package:"@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/coercers.js"}],[1544,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,i=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},o=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.FrozenSet=n.FrozenMap=void 0;class a{constructor(e){r.set(this,void 0),i(this,r,new Map(e),"f"),Object.freeze(this)}get size(){return o(this,r,"f").size}[(r=new WeakMap,Symbol.iterator)](){return o(this,r,"f")[Symbol.iterator]()}entries(){return o(this,r,"f").entries()}forEach(e,t){return o(this,r,"f").forEach(((n,r,s)=>e.call(t,n,r,this)))}get(e){return o(this,r,"f").get(e)}has(e){return o(this,r,"f").has(e)}keys(){return o(this,r,"f").keys()}values(){return o(this,r,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map((([e,t])=>`${String(e)} => ${String(t)}`)).join(", ")} `:""}}`}}n.FrozenMap=a;class c{constructor(e){s.set(this,void 0),i(this,s,new Set(e),"f"),Object.freeze(this)}get size(){return o(this,s,"f").size}[(s=new WeakMap,Symbol.iterator)](){return o(this,s,"f")[Symbol.iterator]()}entries(){return o(this,s,"f").entries()}forEach(e,t){return o(this,s,"f").forEach(((n,r,s)=>e.call(t,n,r,this)))}has(e){return o(this,s,"f").has(e)}keys(){return o(this,s,"f").keys()}values(){return o(this,s,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map((e=>String(e))).join(", ")} `:""}}`}}n.FrozenSet=c,Object.freeze(a),Object.freeze(a.prototype),Object.freeze(c),Object.freeze(c.prototype)}}},{package:"@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/collections.js"}],[1545,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/encryption-types.js"}],[1546,{"./assert":1539,"./bytes":1541,"@noble/hashes/sha3":1620,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.remove0x=n.add0x=n.isValidChecksumAddress=n.getChecksumAddress=n.isValidHexAddress=n.assertIsStrictHexString=n.assertIsHexString=n.isStrictHexString=n.isHexString=n.HexChecksumAddressStruct=n.HexAddressStruct=n.StrictHexStruct=n.HexStruct=void 0;const r=e("@noble/hashes/sha3"),s=e("superstruct"),i=e("./assert"),o=e("./bytes");function a(e){return(0,s.is)(e,n.HexStruct)}function c(e){return(0,s.is)(e,n.StrictHexStruct)}function u(e){(0,i.assert)((0,s.is)(e,n.HexChecksumAddressStruct),"Invalid hex address.");const t=d(e.toLowerCase()),a=d((0,o.bytesToHex)((0,r.keccak_256)(t)));return`0x${t.split("").map(((e,t)=>{const n=a[t];return(0,i.assert)((0,s.is)(n,(0,s.string)()),"Hash shorter than address."),parseInt(n,16)>7?e.toUpperCase():e})).join("")}`}function l(e){return!!(0,s.is)(e,n.HexChecksumAddressStruct)&&u(e)===e}function d(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}n.HexStruct=(0,s.pattern)((0,s.string)(),/^(?:0x)?[0-9a-f]+$/iu),n.StrictHexStruct=(0,s.pattern)((0,s.string)(),/^0x[0-9a-f]+$/iu),n.HexAddressStruct=(0,s.pattern)((0,s.string)(),/^0x[0-9a-f]{40}$/u),n.HexChecksumAddressStruct=(0,s.pattern)((0,s.string)(),/^0x[0-9a-fA-F]{40}$/u),n.isHexString=a,n.isStrictHexString=c,n.assertIsHexString=function(e){(0,i.assert)(a(e),"Value must be a hexadecimal string.")},n.assertIsStrictHexString=function(e){(0,i.assert)(c(e),'Value must be a hexadecimal string, starting with "0x".')},n.isValidHexAddress=function(e){return(0,s.is)(e,n.HexAddressStruct)||l(e)},n.getChecksumAddress=u,n.isValidChecksumAddress=l,n.add0x=function(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`},n.remove0x=d}}},{package:"@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/hex.js"}],[1547,{"./assert":1539,"./base64":1540,"./bytes":1541,"./checksum":1542,"./coercers":1543,"./collections":1544,"./encryption-types":1545,"./hex":1546,"./json":1548,"./keyring":1549,"./logging":1550,"./misc":1551,"./number":1552,"./opaque":1553,"./time":1554,"./transaction-types":1555,"./versions":1556},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./assert"),n),s(e("./base64"),n),s(e("./bytes"),n),s(e("./checksum"),n),s(e("./coercers"),n),s(e("./collections"),n),s(e("./encryption-types"),n),s(e("./hex"),n),s(e("./json"),n),s(e("./keyring"),n),s(e("./logging"),n),s(e("./misc"),n),s(e("./number"),n),s(e("./opaque"),n),s(e("./time"),n),s(e("./transaction-types"),n),s(e("./versions"),n)}}},{package:"@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/index.js"}],[1548,{"./assert":1539,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getJsonRpcIdValidator=n.assertIsJsonRpcError=n.isJsonRpcError=n.assertIsJsonRpcFailure=n.isJsonRpcFailure=n.assertIsJsonRpcSuccess=n.isJsonRpcSuccess=n.assertIsJsonRpcResponse=n.isJsonRpcResponse=n.assertIsPendingJsonRpcResponse=n.isPendingJsonRpcResponse=n.JsonRpcResponseStruct=n.JsonRpcFailureStruct=n.JsonRpcSuccessStruct=n.PendingJsonRpcResponseStruct=n.assertIsJsonRpcRequest=n.isJsonRpcRequest=n.assertIsJsonRpcNotification=n.isJsonRpcNotification=n.JsonRpcNotificationStruct=n.JsonRpcRequestStruct=n.JsonRpcParamsStruct=n.JsonRpcErrorStruct=n.JsonRpcIdStruct=n.JsonRpcVersionStruct=n.jsonrpc2=n.getJsonSize=n.getSafeJson=n.isValidJson=n.JsonStruct=n.UnsafeJsonStruct=void 0;const r=e("superstruct"),s=e("./assert");function i(e){return(0,r.create)(e,n.JsonStruct)}n.UnsafeJsonStruct=(0,r.union)([(0,r.literal)(null),(0,r.boolean)(),(0,r.define)("finite number",(e=>(0,r.is)(e,(0,r.number)())&&Number.isFinite(e))),(0,r.string)(),(0,r.array)((0,r.lazy)((()=>n.UnsafeJsonStruct))),(0,r.record)((0,r.string)(),(0,r.lazy)((()=>n.UnsafeJsonStruct)))]),n.JsonStruct=(0,r.coerce)(n.UnsafeJsonStruct,(0,r.any)(),(e=>((0,s.assertStruct)(e,n.UnsafeJsonStruct),JSON.parse(JSON.stringify(e,((e,t)=>"__proto__"===e||"constructor"===e?undefined:t)))))),n.isValidJson=function(e){try{return i(e),!0}catch{return!1}},n.getSafeJson=i,n.getJsonSize=function(e){(0,s.assertStruct)(e,n.JsonStruct,"Invalid JSON value");const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength},n.jsonrpc2="2.0",n.JsonRpcVersionStruct=(0,r.literal)(n.jsonrpc2),n.JsonRpcIdStruct=(0,r.nullable)((0,r.union)([(0,r.number)(),(0,r.string)()])),n.JsonRpcErrorStruct=(0,r.object)({code:(0,r.integer)(),message:(0,r.string)(),data:(0,r.optional)(n.JsonStruct),stack:(0,r.optional)((0,r.string)())}),n.JsonRpcParamsStruct=(0,r.optional)((0,r.union)([(0,r.record)((0,r.string)(),n.JsonStruct),(0,r.array)(n.JsonStruct)])),n.JsonRpcRequestStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,method:(0,r.string)(),params:n.JsonRpcParamsStruct}),n.JsonRpcNotificationStruct=(0,r.omit)(n.JsonRpcRequestStruct,["id"]),n.isJsonRpcNotification=function(e){return(0,r.is)(e,n.JsonRpcNotificationStruct)},n.assertIsJsonRpcNotification=function(e,t){(0,s.assertStruct)(e,n.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",t)},n.isJsonRpcRequest=function(e){return(0,r.is)(e,n.JsonRpcRequestStruct)},n.assertIsJsonRpcRequest=function(e,t){(0,s.assertStruct)(e,n.JsonRpcRequestStruct,"Invalid JSON-RPC request",t)},n.PendingJsonRpcResponseStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,result:(0,r.optional)((0,r.unknown)()),error:(0,r.optional)(n.JsonRpcErrorStruct)}),n.JsonRpcSuccessStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,result:n.JsonStruct}),n.JsonRpcFailureStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,error:n.JsonRpcErrorStruct}),n.JsonRpcResponseStruct=(0,r.union)([n.JsonRpcSuccessStruct,n.JsonRpcFailureStruct]),n.isPendingJsonRpcResponse=function(e){return(0,r.is)(e,n.PendingJsonRpcResponseStruct)},n.assertIsPendingJsonRpcResponse=function(e,t){(0,s.assertStruct)(e,n.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",t)},n.isJsonRpcResponse=function(e){return(0,r.is)(e,n.JsonRpcResponseStruct)},n.assertIsJsonRpcResponse=function(e,t){(0,s.assertStruct)(e,n.JsonRpcResponseStruct,"Invalid JSON-RPC response",t)},n.isJsonRpcSuccess=function(e){return(0,r.is)(e,n.JsonRpcSuccessStruct)},n.assertIsJsonRpcSuccess=function(e,t){(0,s.assertStruct)(e,n.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",t)},n.isJsonRpcFailure=function(e){return(0,r.is)(e,n.JsonRpcFailureStruct)},n.assertIsJsonRpcFailure=function(e,t){(0,s.assertStruct)(e,n.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",t)},n.isJsonRpcError=function(e){return(0,r.is)(e,n.JsonRpcErrorStruct)},n.assertIsJsonRpcError=function(e,t){(0,s.assertStruct)(e,n.JsonRpcErrorStruct,"Invalid JSON-RPC error",t)},n.getJsonRpcIdValidator=function(e){const{permitEmptyString:t,permitFractions:n,permitNull:r}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return e=>Boolean("number"==typeof e&&(n||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||r&&null===e)}}}},{package:"@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/json.js"}],[1549,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/keyring.js"}],[155,{lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("lodash");var s={version:75,async migrate(e){const t=(0,r.cloneDeep)(e);t.meta.version=75;const n=function(e){return delete e.ThreeBoxController,e}(t.data);return t.data=n,t}};n.default=s}}},{package:"$root$",file:"app/scripts/migrations/075.js"}],[1550,{debug:2645},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.createModuleLogger=n.createProjectLogger=void 0;const s=(0,r(e("debug")).default)("metamask");n.createProjectLogger=function(e){return s.extend(e)},n.createModuleLogger=function(e,t){return e.extend(t)}}}},{package:"@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/logging.js"}],[1551,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.calculateNumberSize=n.calculateStringSize=n.isASCII=n.isPlainObject=n.ESCAPE_CHARACTERS_REGEXP=n.JsonSize=n.hasProperty=n.isObject=n.isNullOrUndefined=n.isNonEmptyArray=void 0,n.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},n.isNullOrUndefined=function(e){return null===e||e===undefined},n.isObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)};function r(e){return e.charCodeAt(0)<=127}n.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(n.JsonSize||(n.JsonSize={})),n.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu,n.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},n.isASCII=r,n.calculateStringSize=function(e){return e.split("").reduce(((e,t)=>r(t)?e+1:e+2),0)+(e.match(n.ESCAPE_CHARACTERS_REGEXP)??[]).length},n.calculateNumberSize=function(e){return e.toString().length}}}},{package:"@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/misc.js"}],[1552,{"./assert":1539,"./hex":1546},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hexToBigInt=n.hexToNumber=n.bigIntToHex=n.numberToHex=void 0;const r=e("./assert"),s=e("./hex");n.numberToHex=e=>((0,r.assert)("number"==typeof e,"Value must be a number."),(0,r.assert)(e>=0,"Value must be a non-negative number."),(0,r.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,s.add0x)(e.toString(16)));n.bigIntToHex=e=>((0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)(e>=0,"Value must be a non-negative bigint."),(0,s.add0x)(e.toString(16)));n.hexToNumber=e=>{(0,s.assertIsHexString)(e);const t=parseInt(e,16);return(0,r.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};n.hexToBigInt=e=>((0,s.assertIsHexString)(e),BigInt((0,s.add0x)(e)))}}},{package:"@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/number.js"}],[1553,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/opaque.js"}],[1554,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.timeSince=n.inMilliseconds=n.Duration=void 0,function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"}(n.Duration||(n.Duration={}));const r=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};n.inMilliseconds=function(e,t){return r(e,"count"),e*t},n.timeSince=function(e){return r(e,"timestamp"),Date.now()-e}}}},{package:"@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/time.js"}],[1555,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/transaction-types.js"}],[1556,{"./assert":1539,semver:3869,superstruct:3920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.satisfiesVersionRange=n.gtRange=n.gtVersion=n.assertIsSemVerRange=n.assertIsSemVerVersion=n.isValidSemVerRange=n.isValidSemVerVersion=n.VersionRangeStruct=n.VersionStruct=void 0;const r=e("semver"),s=e("superstruct"),i=e("./assert");n.VersionStruct=(0,s.refine)((0,s.string)(),"Version",(e=>null!==(0,r.valid)(e)||`Expected SemVer version, got "${e}"`)),n.VersionRangeStruct=(0,s.refine)((0,s.string)(),"Version range",(e=>null!==(0,r.validRange)(e)||`Expected SemVer range, got "${e}"`)),n.isValidSemVerVersion=function(e){return(0,s.is)(e,n.VersionStruct)},n.isValidSemVerRange=function(e){return(0,s.is)(e,n.VersionRangeStruct)},n.assertIsSemVerVersion=function(e){(0,i.assertStruct)(e,n.VersionStruct)},n.assertIsSemVerRange=function(e){(0,i.assertStruct)(e,n.VersionRangeStruct)},n.gtVersion=function(e,t){return(0,r.gt)(e,t)},n.gtRange=function(e,t){return(0,r.gtr)(e,t)},n.satisfiesVersionRange=function(e,t){return(0,r.satisfies)(e,t,{includePrerelease:!0})}}}},{package:"@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/versions.js"}],[156,{lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("lodash");var s={version:76,async migrate(e){const t=(0,r.cloneDeep)(e);t.meta.version=76;const n=function(e){var t;if(e.CollectiblesController){const{allCollectibleContracts:t,allCollectibles:n,ignoredCollectibles:r,...s}=e.CollectiblesController;e.NftController={...t?{allNftContracts:t}:{},...n?{allNfts:n}:{},...r?{ignoredNfts:r}:{},...s},delete e.CollectiblesController}null!==(t=e.PreferencesController)&&void 0!==t&&t.useCollectibleDetection&&(e.PreferencesController.useNftDetection=e.PreferencesController.useCollectibleDetection,delete e.PreferencesController.useCollectibleDetection);return e}(t.data);return t.data=n,t}};n.default=s}}},{package:"$root$",file:"app/scripts/migrations/076.js"}],[1563,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createEventEmitterProxy=void 0;const r=()=>!0,s=["newListener","removeListener"],i=e=>!s.includes(e);n.createEventEmitterProxy=function(e,{eventFilter:t=r}={}){const n="skipInternal"===t?i:t;if("function"!=typeof n)throw new Error("createEventEmitterProxy - Invalid eventFilter");let s=e,o=e=>{const t=s;s=e,t.eventNames().filter(n).forEach((n=>{t.rawListeners(n).forEach((t=>{e.on(n,t)}))})),t.removeAllListeners()};return new Proxy(s,{get(e,t,n){if("setTarget"===t)return o;const r=s[t];return r instanceof Function?function(...e){return r.apply(this===n?s:this,e)}:r},set:(e,t,n)=>"setTarget"===t?(o=n,!0):(s[t]=n,!0)})}}}},{package:"@metamask/network-controller>@metamask/swappable-obj-proxy",file:"node_modules/@metamask/swappable-obj-proxy/dist/createEventEmitterProxy.js"}],[1564,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createSwappableProxy=void 0,n.createSwappableProxy=function(e){let t=e,n=e=>{t=e};return new Proxy(t,{get(e,r,s){if("setTarget"===r)return n;const i=t[r];return i instanceof Function?function(...e){return i.apply(this===s?t:this,e)}:i},set:(e,r,s)=>"setTarget"===r?(n=s,!0):(t[r]=s,!0)})}}}},{package:"@metamask/network-controller>@metamask/swappable-obj-proxy",file:"node_modules/@metamask/swappable-obj-proxy/dist/createSwappableProxy.js"}],[1565,{"./createEventEmitterProxy":1563,"./createSwappableProxy":1564,"./types":1566},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./createEventEmitterProxy"),n),s(e("./createSwappableProxy"),n),s(e("./types"),n)}}},{package:"@metamask/network-controller>@metamask/swappable-obj-proxy",file:"node_modules/@metamask/swappable-obj-proxy/dist/index.js"}],[1566,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/network-controller>@metamask/swappable-obj-proxy",file:"node_modules/@metamask/swappable-obj-proxy/dist/types.js"}],[157,{"@metamask/utils":1575},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){(0,r.hasProperty)(e,"PreferencesController")&&(0,r.isObject)(e.PreferencesController)&&(0,r.hasProperty)(e.PreferencesController,"frequentRpcListDetail")&&(0,r.isObject)(e.NetworkController)&&(0,r.hasProperty)(e.NetworkController,"networkConfigurations")&&delete e.PreferencesController.frequentRpcListDetail;return{...e}};var r=e("@metamask/utils")}}},{package:"$root$",file:"app/scripts/migrations/077-supplements/077-supplement-for-082.ts"}],[158,{"@metamask/utils":1575},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){(0,r.hasProperty)(e,"NetworkController")&&(0,r.isObject)(e.NetworkController)&&(0,r.hasProperty)(e.NetworkController,"network")&&(0,r.hasProperty)(e.NetworkController,"networkId")&&delete e.NetworkController.network;return{...e}};var r=e("@metamask/utils")}}},{package:"$root$",file:"app/scripts/migrations/077-supplements/077-supplement-for-084.ts"}],[1585,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var s=e.charAt(r),i=s.charCodeAt(0);if(255!==t[i])throw new TypeError(s+" is ambiguous");t[i]=r}var o=e.length,a=e.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function l(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var n=0;if(" "!==e[n]){for(var r=0,s=0;e[n]===a;)r++,n++;for(var i=(e.length-n)*c+1>>>0,u=new Uint8Array(i);e[n];){var l=t[e.charCodeAt(n)];if(255===l)return;for(var d=0,h=i-1;(0!==l||d<s)&&-1!==h;h--,d++)l+=o*u[h]>>>0,u[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");s=d,n++}if(" "!==e[n]){for(var p=i-s;p!==i&&0===u[p];)p++;for(var f=new Uint8Array(r+(i-p)),m=r;p!==i;)f[m++]=u[p++];return f}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,s=0,i=t.length;s!==i&&0===t[s];)s++,n++;for(var c=(i-s)*u+1>>>0,l=new Uint8Array(c);s!==i;){for(var d=t[s],h=0,p=c-1;(0!==d||h<r)&&-1!==p;p--,h++)d+=256*l[p]>>>0,l[p]=d%o>>>0,d=d/o>>>0;if(0!==d)throw new Error("Non-zero carry");r=h,s++}for(var f=c-r;f!==c&&0===l[f];)f++;for(var m=a.repeat(n);f<c;++f)m+=e.charAt(l[f]);return m},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+o+" character")}}}}}},{package:"@ensdomains/content-hash>cids>multibase>@multiformats/base-x",file:"node_modules/@multiformats/base-x/src/index.js"}],[159,{"@metamask/utils":1575},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){(0,r.hasProperty)(e,"NetworkController")&&(0,r.isObject)(e.NetworkController)&&(0,r.hasProperty)(e.NetworkController,"provider")&&(0,r.hasProperty)(e.NetworkController,"providerConfig")&&delete e.NetworkController.provider;return{...e}};var r=e("@metamask/utils")}}},{package:"$root$",file:"app/scripts/migrations/077-supplements/077-supplement-for-086.ts"}],[16,{"../../../shared/constants/network":4019,"../../../shared/constants/transaction":4029,"../../../shared/modules/conversion.utils":4043,"../../../shared/modules/fetch-with-timeout":4045,"../../../shared/modules/random-id":4052,"../lib/util":80,"@metamask/obs-store":1375,"bn.js":2377,loglevel:3546},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@metamask/obs-store"),s=h(e("loglevel")),i=h(e("bn.js")),o=h(e("../../../shared/modules/random-id")),a=e("../lib/util"),c=h(e("../../../shared/modules/fetch-with-timeout")),u=e("../../../shared/constants/transaction"),l=e("../../../shared/constants/network"),d=e("../../../shared/modules/conversion.utils");function h(e){return e&&e.__esModule?e:{default:e}}const p=(0,c.default)();n.default=class{constructor(e={}){const{blockTracker:t,onNetworkDidChange:n,getCurrentChainId:s,preferencesController:i,onboardingController:o}=e;this.blockTracker=t,this.getCurrentChainId=s,this.preferencesController=i,this.onboardingController=o,this._onLatestBlock=async e=>{const t=this.preferencesController.getSelectedAddress(),n=parseInt(e,16);await this._update(t,n)};const c={incomingTransactions:{},incomingTxLastFetchedBlockByChainId:Object.keys(l.ETHERSCAN_SUPPORTED_NETWORKS).reduce(((e,t)=>(e[t]=null,e)),{}),...e.initState};this.store=new r.ObservableStore(c),this.preferencesController.store.subscribe((0,a.previousValueComparator)(((e,t)=>{const{featureFlags:{showIncomingTransactions:n}={}}=e,{featureFlags:{showIncomingTransactions:r}={}}=t;r!==n&&(!n||r?this.start():this.stop())}),this.preferencesController.store.getState())),this.preferencesController.store.subscribe((0,a.previousValueComparator)((async(e,t)=>{const{selectedAddress:n}=e,{selectedAddress:r}=t;r!==n&&await this._update(r)}),this.preferencesController.store.getState())),this.onboardingController.store.subscribe((0,a.previousValueComparator)((async(e,t)=>{const{completedOnboarding:n}=e,{completedOnboarding:r}=t;if(!n&&r){const e=this.preferencesController.getSelectedAddress();await this._update(e)}}),this.onboardingController.store.getState())),n((async()=>{const e=this.preferencesController.getSelectedAddress();await this._update(e)}))}start(){const e=this.getCurrentChainId();this._allowedToMakeFetchIncomingTx(e)&&(this.blockTracker.removeListener("latest",this._onLatestBlock),this.blockTracker.addListener("latest",this._onLatestBlock))}stop(){this.blockTracker.removeListener("latest",this._onLatestBlock)}async _update(e,t){const n=this.getCurrentChainId();if(e&&this._allowedToMakeFetchIncomingTx(n))try{const r=this.store.getState(),s=parseInt(this.blockTracker.getCurrentBlock(),16),i=r.incomingTxLastFetchedBlockByChainId[n]??t??s,o=await this._getNewIncomingTransactions(e,i,n);let a=i;o.forEach((e=>{e.blockNumber&&parseInt(a,10)<parseInt(e.blockNumber,10)&&(a=parseInt(e.blockNumber,10))})),this.store.updateState({incomingTxLastFetchedBlockByChainId:{...r.incomingTxLastFetchedBlockByChainId,[n]:a+1},incomingTransactions:o.reduce(((e,t)=>(e[t.hash]=t,e)),{...r.incomingTransactions})})}catch(e){s.default.error(e)}}async _getNewIncomingTransactions(e,t,n){const r=l.ETHERSCAN_SUPPORTED_NETWORKS[n].domain;let s=`${`https://${l.ETHERSCAN_SUPPORTED_NETWORKS[n].subdomain}.${r}`}/api?module=account&action=txlist&address=${e}&tag=latest&page=1`;t&&(s+=`&startBlock=${parseInt(t,10)}`);const i=await p(s),{status:o,result:a}=await i.json();let c=[];if("1"===o&&Array.isArray(a)&&a.length>0){const t={},r=[];a.forEach((e=>{t[e.hash]||(r.push(this._normalizeTxFromEtherscan(e,n)),t[e.hash]=1)})),c=r.filter((t=>{var n,r;return(null===(n=t.txParams)||void 0===n||null===(r=n.to)||void 0===r?void 0:r.toLowerCase())===e.toLowerCase()})),c.sort(((e,t)=>e.time<t.time?-1:1))}return c}_normalizeTxFromEtherscan(e,t){const n=1e3*parseInt(e.timeStamp,10),r="0"===e.isError?u.TransactionStatus.confirmed:u.TransactionStatus.failed,s={from:e.from,gas:(0,d.bnToHex)(new i.default(e.gas)),nonce:(0,d.bnToHex)(new i.default(e.nonce)),to:e.to,value:(0,d.bnToHex)(new i.default(e.value))};return e.gasPrice?s.gasPrice=(0,d.bnToHex)(new i.default(e.gasPrice)):e.maxFeePerGas&&(s.maxFeePerGas=(0,d.bnToHex)(new i.default(e.maxFeePerGas)),s.maxPriorityFeePerGas=(0,d.bnToHex)(new i.default(e.maxPriorityFeePerGas))),{blockNumber:e.blockNumber,id:(0,o.default)(),chainId:t,metamaskNetworkId:l.ETHERSCAN_SUPPORTED_NETWORKS[t].networkId,status:r,time:n,txParams:s,hash:e.hash,type:u.TransactionType.incoming}}_allowedToMakeFetchIncomingTx(e){const{featureFlags:t={}}=this.preferencesController.store.getState(),{completedOnboarding:n}=this.onboardingController.store.getState(),r=Boolean(t.showIncomingTransactions),s=Boolean(l.ETHERSCAN_SUPPORTED_NETWORKS[e]);return n&&s&&r}}}}},{package:"$root$",file:"app/scripts/controllers/incoming-transactions.js"}],[160,{"@metamask/utils":1575},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if((0,r.hasProperty)(e,"NftController")&&(0,r.isObject)(e.NftController)){const t=e.NftController;if((0,r.hasProperty)(t,"allNftContracts")&&(0,r.isObject)(t.allNftContracts)){const{allNftContracts:e}=t;Object.keys(e).every((t=>(0,r.isObject)(e[t])))&&Object.keys(e).forEach((t=>{const n=e[t];if((0,r.isObject)(n)&&s(n))for(const e of Object.keys(n))(0,r.isStrictHexString)(e)||delete n[e]}))}if((0,r.hasProperty)(t,"allNfts")&&(0,r.isObject)(t.allNfts)){const{allNfts:e}=t;Object.keys(e).every((t=>(0,r.isObject)(e[t])))&&Object.keys(e).forEach((t=>{const n=e[t];if((0,r.isObject)(n)&&s(n))for(const e of Object.keys(n))(0,r.isStrictHexString)(e)||delete n[e]}))}e.NftController=t}if((0,r.hasProperty)(e,"TokenListController")&&(0,r.isObject)(e.TokenListController)){const t=e.TokenListController;if((0,r.hasProperty)(t,"tokensChainsCache")&&(0,r.isObject)(t.tokensChainsCache)&&s(t.tokensChainsCache))for(const e of Object.keys(t.tokensChainsCache))(0,r.isStrictHexString)(e)||delete t.tokensChainsCache[e]}if((0,r.hasProperty)(e,"TokensController")&&(0,r.isObject)(e.TokensController)){const t=e.TokensController;if((0,r.hasProperty)(t,"allTokens")&&(0,r.isObject)(t.allTokens)&&s(t.allTokens)){const{allTokens:e}=t;for(const n of Object.keys(e))(0,r.isStrictHexString)(n)||delete t.allTokens[n]}if((0,r.hasProperty)(t,"allIgnoredTokens")&&(0,r.isObject)(t.allIgnoredTokens)&&s(t.allIgnoredTokens)){const{allIgnoredTokens:e}=t;for(const n of Object.keys(e))(0,r.isStrictHexString)(n)||delete t.allIgnoredTokens[n]}if((0,r.hasProperty)(t,"allDetectedTokens")&&(0,r.isObject)(t.allDetectedTokens)&&s(t.allDetectedTokens)){const{allDetectedTokens:e}=t;for(const n of Object.keys(e))(0,r.isStrictHexString)(n)||delete t.allDetectedTokens[n]}e.TokensController=t}return e};var r=e("@metamask/utils");function s(e){return Object.keys(e).some((e=>(0,r.isStrictHexString)(e)))}}}},{package:"$root$",file:"app/scripts/migrations/077-supplements/077-supplement-for-088.ts"}],[161,{"./077-supplements/077-supplement-for-082":157,"./077-supplements/077-supplement-for-084":158,"./077-supplements/077-supplement-for-086":159,"./077-supplements/077-supplement-for-088":160,lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("lodash"),s=c(e("./077-supplements/077-supplement-for-082")),i=c(e("./077-supplements/077-supplement-for-084")),o=c(e("./077-supplements/077-supplement-for-086")),a=c(e("./077-supplements/077-supplement-for-088"));function c(e){return e&&e.__esModule?e:{default:e}}var u={version:77,async migrate(e){const t=(0,r.cloneDeep)(e);t.meta.version=77;let n=function(e){const t=(null==e?void 0:e.TokenListController)||{},{tokensChainsCache:n}=t;let r,s;for(const e in n){var i,o,a;if(r=n[e].data||{},s={},Array.isArray(r))for(const e of r)s[e.address]=e;else if((null===(i=Object.keys(r)[0])||void 0===i?void 0:i.toLowerCase())!==(null===(o=r[Object.keys(r)[0]])||void 0===o||null===(a=o.address)||void 0===a?void 0:a.toLowerCase()))for(const e in r)s[r[e].address]=r[e];n[e].data=Object.keys(s).length>0?s:r}return t.tokensChainsCache=n,{...e,TokenListController:{...t}}}(t.data);return n=(0,s.default)(n),n=(0,i.default)(n),n=(0,o.default)(n),n=(0,a.default)(n),t.data=n,t}};n.default=u}}},{package:"$root$",file:"app/scripts/migrations/077.js"}],[1612,{crypto:2390},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){
/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */
var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.utils=n.curve25519=n.getSharedSecret=n.verify=n.sign=n.getPublicKey=n.Signature=n.Point=n.RistrettoPoint=n.ExtendedPoint=n.CURVE=void 0;const s=r(e("crypto")),i=BigInt(0),o=BigInt(1),a=BigInt(2),c=BigInt(255),u=a**BigInt(252)+BigInt("27742317777372353535851937790883648493"),l={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:a**c-BigInt(19),l:u,n:u,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")};n.CURVE=l;const d=a**BigInt(256),h=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),p=(BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235")),f=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),m=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),g=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class y{constructor(e,t,n,r){this.x=e,this.y=t,this.z=n,this.t=r}static fromAffine(e){if(!(e instanceof _))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(_.ZERO)?y.ZERO:new y(e.x,e.y,o,A(e.x*e.y))}static toAffineBatch(e){const t=function(e,t=l.P){const n=new Array(e.length),r=B(e.reduce(((e,r,s)=>r===i?e:(n[s]=e,A(e*r,t))),o),t);return e.reduceRight(((e,r,s)=>r===i?e:(n[s]=A(e*n[s],t),A(e*r,t))),r),n}(e.map((e=>e.z)));return e.map(((e,n)=>e.toAffine(t[n])))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){b(e);const{x:t,y:n,z:r}=this,{x:s,y:i,z:o}=e,a=A(t*o),c=A(s*r),u=A(n*o),l=A(i*r);return a===c&&u===l}negate(){return new y(A(-this.x),this.y,this.z,A(-this.t))}double(){const{x:e,y:t,z:n}=this,{a:r}=l,s=A(e**a),i=A(t**a),o=A(a*A(n**a)),c=A(r*s),u=A(A((e+t)**a)-s-i),d=c+i,h=d-o,p=c-i,f=A(u*h),m=A(d*p),g=A(u*p),b=A(h*d);return new y(f,m,b,g)}add(e){b(e);const{x:t,y:n,z:r,t:s}=this,{x:o,y:c,z:u,t:l}=e,d=A((n-t)*(c+o)),h=A((n+t)*(c-o)),p=A(h-d);if(p===i)return this.double();const f=A(r*a*l),m=A(s*a*u),g=m+f,w=h+d,v=m-f,k=A(g*p),S=A(w*v),_=A(g*v),E=A(p*w);return new y(k,S,E,_)}subtract(e){return this.add(e.negate())}precomputeWindow(e){const t=1+256/e,n=[];let r=this,s=r;for(let i=0;i<t;i++){s=r,n.push(s);for(let t=1;t<2**(e-1);t++)s=s.add(r),n.push(s);r=s.double()}return n}wNAF(e,t){!t&&this.equals(y.BASE)&&(t=_.BASE);const n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=t&&S.get(t);r||(r=this.precomputeWindow(n),t&&1!==n&&(r=y.normalizeZ(r),S.set(t,r)));let s=y.ZERO,i=y.ZERO;const a=1+256/n,c=2**(n-1),u=BigInt(2**n-1),l=2**n,d=BigInt(n);for(let t=0;t<a;t++){const n=t*c;let a=Number(e&u);if(e>>=d,a>c&&(a-=l,e+=o),0===a){let e=r[n];t%2&&(e=e.negate()),i=i.add(e)}else{let e=r[n+Math.abs(a)-1];a<0&&(e=e.negate()),s=s.add(e)}}return y.normalizeZ([s,i])[0]}multiply(e,t){return this.wNAF(F(e,l.l),t)}multiplyUnsafe(e){let t=F(e,l.l,!1);const n=y.BASE,r=y.ZERO;if(t===i)return r;if(this.equals(r)||t===o)return this;if(this.equals(n))return this.wNAF(t);let s=r,a=this;for(;t>i;)t&o&&(s=s.add(a)),a=a.double(),t>>=o;return s}isSmallOrder(){return this.multiplyUnsafe(l.h).equals(y.ZERO)}isTorsionFree(){return this.multiplyUnsafe(l.l).equals(y.ZERO)}toAffine(e=B(this.z)){const{x:t,y:n,z:r}=this,s=A(t*e),i=A(n*e);if(A(r*e)!==o)throw new Error("invZ was invalid");return new _(s,i)}fromRistrettoBytes(){v()}toRistrettoBytes(){v()}fromRistrettoHash(){v()}}function b(e){if(!(e instanceof y))throw new TypeError("ExtendedPoint expected")}function w(e){if(!(e instanceof k))throw new TypeError("RistrettoPoint expected")}function v(){throw new Error("Legacy method: switch to RistrettoPoint")}n.ExtendedPoint=y,y.BASE=new y(l.Gx,l.Gy,o,A(l.Gx*l.Gy)),y.ZERO=new y(i,o,o,i);class k{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){const{d:t}=l,n=A(h*e*e),r=A((n+o)*m);let s=BigInt(-1);const i=A((s-t*n)*A(n+t));let{isValid:a,value:c}=U(r,i),u=A(c*e);j(u)||(u=A(-u)),a||(c=u),a||(s=n);const d=A(s*(n-o)*g-i),f=c*c,b=A((c+c)*i),w=A(d*p),v=A(o-f),k=A(o+f);return new y(A(b*k),A(v*w),A(w*k),A(b*v))}static hashToCurve(e){const t=N((e=H(e,64)).slice(0,32)),n=this.calcElligatorRistrettoMap(t),r=N(e.slice(32,64)),s=this.calcElligatorRistrettoMap(r);return new k(n.add(s))}static fromHex(e){e=H(e,32);const{a:t,d:n}=l,r="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",s=N(e);if(!function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(O(s),e)||j(s))throw new Error(r);const a=A(s*s),c=A(o+t*a),u=A(o-t*a),d=A(c*c),h=A(u*u),p=A(t*n*d-h),{isValid:f,value:m}=L(A(p*h)),g=A(m*u),b=A(m*g*p);let w=A((s+s)*g);j(w)&&(w=A(-w));const v=A(c*b),S=A(w*v);if(!f||j(S)||v===i)throw new Error(r);return new k(new y(w,v,o,S))}toRawBytes(){let{x:e,y:t,z:n,t:r}=this.ep;const s=A(A(n+t)*A(n-t)),i=A(e*t),{value:o}=L(A(s*i**a)),c=A(o*s),u=A(o*i),l=A(c*u*r);let d;if(j(r*l)){let n=A(t*h),r=A(e*h);e=n,t=r,d=A(c*f)}else d=u;j(e*l)&&(t=A(-t));let p=A((n-t)*d);return j(p)&&(p=A(-p)),O(p)}toHex(){return P(this.toRawBytes())}toString(){return this.toHex()}equals(e){w(e);const t=this.ep,n=e.ep,r=A(t.x*n.y)===A(t.y*n.x),s=A(t.y*n.y)===A(t.x*n.x);return r||s}add(e){return w(e),new k(this.ep.add(e.ep))}subtract(e){return w(e),new k(this.ep.subtract(e.ep))}multiply(e){return new k(this.ep.multiply(e))}multiplyUnsafe(e){return new k(this.ep.multiplyUnsafe(e))}}n.RistrettoPoint=k,k.BASE=new k(y.BASE),k.ZERO=new k(y.ZERO);const S=new WeakMap;class _{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,S.delete(this)}static fromHex(e,t=!0){const{d:n,P:r}=l,s=(e=H(e,32)).slice();s[31]=-129&e[31];const i=C(s);if(t&&i>=r)throw new Error("Expected 0 < hex < P");if(!t&&i>=d)throw new Error("Expected 0 < hex < 2**256");const a=A(i*i),c=A(a-o),u=A(n*a+o);let{isValid:h,value:p}=U(c,u);if(!h)throw new Error("Point.fromHex: invalid y coordinate");const f=(p&o)===o;return 0!=(128&e[31])!==f&&(p=A(-p)),new _(p,i)}static async fromPrivateKey(e){return(await V(e)).point}toRawBytes(){const e=O(this.y);return e[31]|=this.x&o?128:0,e}toHex(){return P(this.toRawBytes())}toX25519(){const{y:e}=this;return O(A((o+e)*B(o-e)))}isTorsionFree(){return y.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new _(A(-this.x),this.y)}add(e){return y.fromAffine(this).add(y.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return y.fromAffine(this).multiply(e,this).toAffine()}}n.Point=_,_.BASE=new _(l.Gx,l.Gy),_.ZERO=new _(i,o);class E{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){const t=H(e,64),n=_.fromHex(t.slice(0,32),!1),r=C(t.slice(32,64));return new E(n,r)}assertValidity(){const{r:e,s:t}=this;if(!(e instanceof _))throw new Error("Expected Point instance");return F(t,l.l,!1),this}toRawBytes(){const e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(O(this.s),32),e}toHex(){return P(this.toRawBytes())}}n.Signature=E;const T=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function P(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=T[e[n]];return t}function I(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,s=e.slice(r,r+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[n]=i}return t}function x(e){return I(e.toString(16).padStart(64,"0"))}function O(e){return x(e).reverse()}function j(e){return(A(e)&o)===o}function C(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+P(Uint8Array.from(e).reverse()))}function N(e){return A(C(e)&a**c-o)}function A(e,t=l.P){const n=e%t;return n>=i?n:t+n}function B(e,t=l.P){if(e===i||t<=i)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=A(e,t),r=t,s=i,a=o,c=o,u=i;for(;n!==i;){const e=r/n,t=r%n,i=s-c*e,o=a-u*e;r=n,n=t,s=c,a=u,c=i,u=o}if(r!==o)throw new Error("invert: does not exist");return A(s,t)}function R(e,t){const{P:n}=l;let r=e;for(;t-- >i;)r*=r,r%=n;return r}function M(e){const{P:t}=l,n=BigInt(5),r=BigInt(10),s=BigInt(20),i=BigInt(40),c=BigInt(80),u=e*e%t*e%t,d=R(u,a)*u%t,h=R(d,o)*e%t,p=R(h,n)*h%t,f=R(p,r)*p%t,m=R(f,s)*f%t,g=R(m,i)*m%t,y=R(g,c)*g%t,b=R(y,c)*g%t,w=R(b,r)*p%t;return{pow_p_5_8:R(w,a)*e%t,b2:u}}function U(e,t){const n=A(t*t*t),r=A(n*n*t);let s=A(e*n*M(e*r).pow_p_5_8);const i=A(t*s*s),o=s,a=A(s*h),c=i===e,u=i===A(-e),l=i===A(-e*h);return c&&(s=o),(u||l)&&(s=a),j(s)&&(s=A(-s)),{isValid:c||u,value:s}}function L(e){return U(o,e)}async function D(...e){return A(C(await n.utils.sha512(function(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Expected Uint8Array list");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const s=e[t];n.set(s,r),r+=s.length}return n}(...e))),l.l)}function H(e,t){const n=e instanceof Uint8Array?Uint8Array.from(e):I(e);if("number"==typeof t&&n.length!==t)throw new Error(`Expected ${t} bytes`);return n}function F(e,t,n=!0){if(!t)throw new TypeError("Specify max value");if("number"==typeof e&&Number.isSafeInteger(e)&&(e=BigInt(e)),"bigint"==typeof e&&e<t)if(n){if(i<e)return e}else if(i<=e)return e;throw new TypeError("Expected valid scalar: 0 < scalar < max")}function z(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}async function V(e){if(32!==(e="bigint"==typeof e||"number"==typeof e?x(F(e,d)):H(e)).length)throw new Error("Expected 32 bytes");const t=await n.utils.sha512(e),r=z(t.slice(0,32)),s=t.slice(32,64),i=A(C(r),l.l),o=_.BASE.multiply(i),a=o.toRawBytes();return{head:r,prefix:s,scalar:i,point:o,pointBytes:a}}function K(e,t,n){const r=A(e*(t-n));return[t=A(t-r),n=A(n+r)]}n.getPublicKey=async function(e){return(await V(e)).pointBytes},n.sign=async function(e,t){e=H(e);const{prefix:n,scalar:r,pointBytes:s}=await V(t),i=await D(n,e),o=_.BASE.multiply(i),a=A(i+await D(o.toRawBytes(),s,e)*r,l.l);return new E(o,a).toRawBytes()},n.verify=async function(e,t,n){t=H(t),n instanceof _||(n=_.fromHex(n,!1));const{r:r,s:s}=e instanceof E?e.assertValidity():E.fromHex(e),i=y.BASE.multiplyUnsafe(s),o=await D(r.toRawBytes(),n.toRawBytes(),t),a=y.fromAffine(n).multiplyUnsafe(o);return y.fromAffine(r).add(a).subtract(i).multiplyUnsafe(l.h).equals(y.ZERO)},n.getSharedSecret=async function(e,t){const{head:r}=await V(e),s=_.fromHex(t).toX25519();return n.curve25519.scalarMult(r,s)},_.BASE._setWindowSize(8),n.curve25519={BASE_POINT_U:"0900000000000000000000000000000000000000000000000000000000000000",scalarMult(e,t){const n=function(e,t){const{P:n}=l,r=F(e,n),s=F(t,n),c=BigInt(121665),u=r;let d,h=o,p=i,f=r,m=o,g=i;for(let e=BigInt(254);e>=i;e--){const t=s>>e&o;g^=t,d=K(g,h,f),h=d[0],f=d[1],d=K(g,p,m),p=d[0],m=d[1],g=t;const n=h+p,r=A(n*n),i=h-p,l=A(i*i),y=r-l,b=f+m,w=A((f-m)*n),v=A(b*i);f=A((w+v)**a),m=A(u*(w-v)**a),h=A(r*l),p=A(y*(r+A(c*y)))}d=K(g,h,f),h=d[0],f=d[1],d=K(g,p,m),p=d[0],m=d[1];const{pow_p_5_8:y,b2:b}=M(p),w=A(R(y,BigInt(3))*b);return A(h*w)}(function(e){const t=H(e,32);return t[31]&=127,C(t)}(t),C(z(H(e,32))));if(n===i)throw new Error("Invalid private or public key received");return function(e){return O(A(e,l.P))}(n)},scalarMultBase:e=>n.curve25519.scalarMult(e,n.curve25519.BASE_POINT_U)};const $={node:s.default,web:"object"==typeof self&&"crypto"in self?self.crypto:undefined};n.utils={TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],bytesToHex:P,getExtendedPublicKey:V,mod:A,invert:B,hashToPrivateScalar:e=>{if((e=H(e)).length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");const t=A(C(e),l.l);if(t===i||t===o)throw new Error("Invalid private key");return t},randomBytes:(e=32)=>{if($.web)return $.web.getRandomValues(new Uint8Array(e));if($.node){const{randomBytes:t}=$.node;return new Uint8Array(t(e).buffer)}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>n.utils.randomBytes(32),sha512:async e=>{if($.web){const t=await $.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(t)}if($.node)return Uint8Array.from($.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")},precompute(e=8,t=_.BASE){const n=t.equals(_.BASE)?t:new _(t.x,t.y);return n._setWindowSize(e),n.multiply(a),n}}}}},{package:"@metamask/key-tree>@noble/ed25519",file:"node_modules/@noble/ed25519/lib/index.js"}],[1614,{"./_assert.js":1613,"./utils.js":1622},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SHA2=void 0;const r=e("./_assert.js"),s=e("./utils.js");class i extends s.Hash{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,s.createView)(this.buffer)}update(e){r.default.exists(this);const{view:t,buffer:n,blockLen:i}=this,o=(e=(0,s.toBytes)(e)).length;for(let r=0;r<o;){const a=Math.min(i-this.pos,o-r);if(a!==i)n.set(e.subarray(r,r+a),this.pos),this.pos+=a,r+=a,this.pos===i&&(this.process(t,0),this.pos=0);else{const t=(0,s.createView)(e);for(;i<=o-r;r+=i)this.process(t,r)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){r.default.exists(this),r.default.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:i,isLE:o}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let e=a;e<i;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,a,r)}(n,i-8,BigInt(8*this.length),o),this.process(n,0);const c=(0,s.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)c.setUint32(4*e,d[e],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:s,destroyed:i,pos:o}=this;return e.length=r,e.pos=o,e.finished=s,e.destroyed=i,r%t&&e.buffer.set(n),e}}n.SHA2=i}}},{package:"@metamask/key-tree>@noble/hashes",file:"node_modules/@noble/hashes/_sha2.js"}],[1617,{"./_assert.js":1613,"./utils.js":1622},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hmac=n.HMAC=void 0;const r=e("./_assert.js"),s=e("./utils.js");class i extends s.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,r.default.hash(e);const n=(0,s.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),o.fill(0)}update(e){return r.default.exists(this),this.iHash.update(e),this}digestInto(e){r.default.exists(this),r.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:s,blockLen:i,outputLen:o}=this;return e.finished=r,e.destroyed=s,e.blockLen=i,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}n.HMAC=i;n.hmac=(e,t,n)=>new i(e,t).update(n).digest(),n.hmac.create=(e,t)=>new i(e,t)}}},{package:"@metamask/key-tree>@noble/hashes",file:"node_modules/@noble/hashes/hmac.js"}],[1618,{"./_sha2.js":1614,"./utils.js":1622},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ripemd160=n.RIPEMD160=void 0;const r=e("./_sha2.js"),s=e("./utils.js"),i=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),o=Uint8Array.from({length:16},((e,t)=>t)),a=o.map((e=>(9*e+5)%16));let c=[o],u=[a];for(let e=0;e<4;e++)for(let t of[c,u])t.push(t[e].map((e=>i[e])));const l=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),d=c.map(((e,t)=>e.map((e=>l[t][e])))),h=u.map(((e,t)=>e.map((e=>l[t][e])))),p=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),f=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),m=(e,t)=>e<<t|e>>>32-t;function g(e,t,n,r){return 0===e?t^n^r:1===e?t&n|~t&r:2===e?(t|~n)^r:3===e?t&r|n&~r:t^(n|~r)}const y=new Uint32Array(16);class b extends r.SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:r,h4:s}=this;return[e,t,n,r,s]}set(e,t,n,r,s){this.h0=0|e,this.h1=0|t,this.h2=0|n,this.h3=0|r,this.h4=0|s}process(e,t){for(let n=0;n<16;n++,t+=4)y[n]=e.getUint32(t,!0);let n=0|this.h0,r=n,s=0|this.h1,i=s,o=0|this.h2,a=o,l=0|this.h3,b=l,w=0|this.h4,v=w;for(let e=0;e<5;e++){const t=4-e,k=p[e],S=f[e],_=c[e],E=u[e],T=d[e],P=h[e];for(let t=0;t<16;t++){const r=m(n+g(e,s,o,l)+y[_[t]]+k,T[t])+w|0;n=w,w=l,l=0|m(o,10),o=s,s=r}for(let e=0;e<16;e++){const n=m(r+g(t,i,a,b)+y[E[e]]+S,P[e])+v|0;r=v,v=b,b=0|m(a,10),a=i,i=n}}this.set(this.h1+o+b|0,this.h2+l+v|0,this.h3+w+r|0,this.h4+n+i|0,this.h0+s+a|0)}roundClean(){y.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}n.RIPEMD160=b,n.ripemd160=(0,s.wrapConstructor)((()=>new b))}}},{package:"@metamask/key-tree>@noble/hashes",file:"node_modules/@noble/hashes/ripemd160.js"}],[1619,{"./_sha2.js":1614,"./utils.js":1622},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.sha224=n.sha256=void 0;const r=e("./_sha2.js"),s=e("./utils.js"),i=(e,t,n)=>e&t^e&n^t&n,o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class u extends r.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:n,D:r,E:s,F:i,G:o,H:a}=this;return[e,t,n,r,s,i,o,a]}set(e,t,n,r,s,i,o,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|s,this.F=0|i,this.G=0|o,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)c[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=c[e-15],n=c[e-2],r=(0,s.rotr)(t,7)^(0,s.rotr)(t,18)^t>>>3,i=(0,s.rotr)(n,17)^(0,s.rotr)(n,19)^n>>>10;c[e]=i+c[e-7]+r+c[e-16]|0}let{A:n,B:r,C:a,D:u,E:l,F:d,G:h,H:p}=this;for(let e=0;e<64;e++){const t=p+((0,s.rotr)(l,6)^(0,s.rotr)(l,11)^(0,s.rotr)(l,25))+((f=l)&d^~f&h)+o[e]+c[e]|0,m=((0,s.rotr)(n,2)^(0,s.rotr)(n,13)^(0,s.rotr)(n,22))+i(n,r,a)|0;p=h,h=d,d=l,l=u+t|0,u=a,a=r,r=n,n=t+m|0}var f;n=n+this.A|0,r=r+this.B|0,a=a+this.C|0,u=u+this.D|0,l=l+this.E|0,d=d+this.F|0,h=h+this.G|0,p=p+this.H|0,this.set(n,r,a,u,l,d,h,p)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class l extends u{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}n.sha256=(0,s.wrapConstructor)((()=>new u)),n.sha224=(0,s.wrapConstructor)((()=>new l))}}},{package:"@metamask/key-tree>@noble/hashes",file:"node_modules/@noble/hashes/sha256.js"}],[162,{"@metamask/utils":1575,lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=i,t.data=function(e){if(!(0,s.hasProperty)(e,"PhishingController")||!(0,s.isObject)(e.PhishingController))return e;const{PhishingController:t}=e;return delete t.phishing,delete t.lastFetched,e}(t.data),t},n.version=void 0;var r=e("lodash"),s=e("@metamask/utils");const i=78;n.version=i}}},{package:"$root$",file:"app/scripts/migrations/078.ts"}],[1621,{"./_sha2.js":1614,"./_u64.js":1615,"./utils.js":1622},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.sha384=n.sha512_256=n.sha512_224=n.sha512=n.SHA512=void 0;const r=e("./_sha2.js"),s=e("./_u64.js"),i=e("./utils.js"),[o,a]=s.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),c=new Uint32Array(80),u=new Uint32Array(80);class l extends r.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:s,Cl:i,Dh:o,Dl:a,Eh:c,El:u,Fh:l,Fl:d,Gh:h,Gl:p,Hh:f,Hl:m}=this;return[e,t,n,r,s,i,o,a,c,u,l,d,h,p,f,m]}set(e,t,n,r,s,i,o,a,c,u,l,d,h,p,f,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|s,this.Cl=0|i,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|d,this.Gh=0|h,this.Gl=0|p,this.Hh=0|f,this.Hl=0|m}process(e,t){for(let n=0;n<16;n++,t+=4)c[n]=e.getUint32(t),u[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|c[e-15],n=0|u[e-15],r=s.default.rotrSH(t,n,1)^s.default.rotrSH(t,n,8)^s.default.shrSH(t,n,7),i=s.default.rotrSL(t,n,1)^s.default.rotrSL(t,n,8)^s.default.shrSL(t,n,7),o=0|c[e-2],a=0|u[e-2],l=s.default.rotrSH(o,a,19)^s.default.rotrBH(o,a,61)^s.default.shrSH(o,a,6),d=s.default.rotrSL(o,a,19)^s.default.rotrBL(o,a,61)^s.default.shrSL(o,a,6),h=s.default.add4L(i,d,u[e-7],u[e-16]),p=s.default.add4H(h,r,l,c[e-7],c[e-16]);c[e]=0|p,u[e]=0|h}let{Ah:n,Al:r,Bh:i,Bl:l,Ch:d,Cl:h,Dh:p,Dl:f,Eh:m,El:g,Fh:y,Fl:b,Gh:w,Gl:v,Hh:k,Hl:S}=this;for(let e=0;e<80;e++){const t=s.default.rotrSH(m,g,14)^s.default.rotrSH(m,g,18)^s.default.rotrBH(m,g,41),_=s.default.rotrSL(m,g,14)^s.default.rotrSL(m,g,18)^s.default.rotrBL(m,g,41),E=m&y^~m&w,T=g&b^~g&v,P=s.default.add5L(S,_,T,a[e],u[e]),I=s.default.add5H(P,k,t,E,o[e],c[e]),x=0|P,O=s.default.rotrSH(n,r,28)^s.default.rotrBH(n,r,34)^s.default.rotrBH(n,r,39),j=s.default.rotrSL(n,r,28)^s.default.rotrBL(n,r,34)^s.default.rotrBL(n,r,39),C=n&i^n&d^i&d,N=r&l^r&h^l&h;k=0|w,S=0|v,w=0|y,v=0|b,y=0|m,b=0|g,({h:m,l:g}=s.default.add(0|p,0|f,0|I,0|x)),p=0|d,f=0|h,d=0|i,h=0|l,i=0|n,l=0|r;const A=s.default.add3L(x,j,N);n=s.default.add3H(A,I,O,C),r=0|A}({h:n,l:r}=s.default.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:l}=s.default.add(0|this.Bh,0|this.Bl,0|i,0|l)),({h:d,l:h}=s.default.add(0|this.Ch,0|this.Cl,0|d,0|h)),({h:p,l:f}=s.default.add(0|this.Dh,0|this.Dl,0|p,0|f)),({h:m,l:g}=s.default.add(0|this.Eh,0|this.El,0|m,0|g)),({h:y,l:b}=s.default.add(0|this.Fh,0|this.Fl,0|y,0|b)),({h:w,l:v}=s.default.add(0|this.Gh,0|this.Gl,0|w,0|v)),({h:k,l:S}=s.default.add(0|this.Hh,0|this.Hl,0|k,0|S)),this.set(n,r,i,l,d,h,p,f,m,g,y,b,w,v,k,S)}roundClean(){c.fill(0),u.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}n.SHA512=l;class d extends l{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class h extends l{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class p extends l{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}n.sha512=(0,i.wrapConstructor)((()=>new l)),n.sha512_224=(0,i.wrapConstructor)((()=>new d)),n.sha512_256=(0,i.wrapConstructor)((()=>new h)),n.sha384=(0,i.wrapConstructor)((()=>new p))}}},{package:"@metamask/key-tree>@noble/hashes",file:"node_modules/@noble/hashes/sha512.js"}],[1623,{crypto:2390},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){
/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */
Object.defineProperty(n,"__esModule",{value:!0}),n.utils=n.schnorr=n.verify=n.signSync=n.sign=n.getSharedSecret=n.recoverPublicKey=n.getPublicKey=n.Signature=n.Point=n.CURVE=void 0;const r=e("crypto"),s=BigInt(0),i=BigInt(1),o=BigInt(2),a=BigInt(3),c=BigInt(8),u=Object.freeze({a:s,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:i,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});n.CURVE=u;const l=(e,t)=>(e+t/o)/t,d={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){const{n:t}=u,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-i*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,a=BigInt("0x100000000000000000000000000000000"),c=l(o*e,t),d=l(-r*e,t);let h=D(e-c*n-d*s,t),p=D(-c*r-d*o,t);const f=h>a,m=p>a;if(f&&(h=t-h),m&&(p=t-p),h>a||p>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:f,k1:h,k2neg:m,k2:p}}},h=32,p=32,f=h+1,m=2*h+1;function g(e){const{a:t,b:n}=u,r=D(e*e),s=D(r*e);return D(s+t*e+n)}const y=u.a===s;class b extends Error{constructor(e){super(e)}}function w(e){if(!(e instanceof v))throw new TypeError("JacobianPoint expected")}class v{constructor(e,t,n){this.x=e,this.y=t,this.z=n}static fromAffine(e){if(!(e instanceof _))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(_.ZERO)?v.ZERO:new v(e.x,e.y,i)}static toAffineBatch(e){const t=function(e,t=u.P){const n=new Array(e.length),r=F(e.reduce(((e,r,i)=>r===s?e:(n[i]=e,D(e*r,t))),i),t);return e.reduceRight(((e,r,i)=>r===s?e:(n[i]=D(e*n[i],t),D(e*r,t))),r),n}(e.map((e=>e.z)));return e.map(((e,n)=>e.toAffine(t[n])))}static normalizeZ(e){return v.toAffineBatch(e).map(v.fromAffine)}equals(e){w(e);const{x:t,y:n,z:r}=this,{x:s,y:i,z:o}=e,a=D(r*r),c=D(o*o),u=D(t*c),l=D(s*a),d=D(D(n*o)*c),h=D(D(i*r)*a);return u===l&&d===h}negate(){return new v(this.x,D(-this.y),this.z)}double(){const{x:e,y:t,z:n}=this,r=D(e*e),s=D(t*t),i=D(s*s),u=e+s,l=D(o*(D(u*u)-r-i)),d=D(a*r),h=D(d*d),p=D(h-o*l),f=D(d*(l-p)-c*i),m=D(o*t*n);return new v(p,f,m)}add(e){w(e);const{x:t,y:n,z:r}=this,{x:i,y:a,z:c}=e;if(i===s||a===s)return this;if(t===s||n===s)return e;const u=D(r*r),l=D(c*c),d=D(t*l),h=D(i*u),p=D(D(n*c)*l),f=D(D(a*r)*u),m=D(h-d),g=D(f-p);if(m===s)return g===s?this.double():v.ZERO;const y=D(m*m),b=D(m*y),k=D(d*y),S=D(g*g-b-o*k),_=D(g*(k-S)-p*b),E=D(r*c*m);return new v(S,_,E)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=v.ZERO;if("bigint"==typeof e&&e===s)return t;let n=L(e);if(n===i)return this;if(!y){let e=t,r=this;for(;n>s;)n&i&&(e=e.add(r)),r=r.double(),n>>=i;return e}let{k1neg:r,k1:o,k2neg:a,k2:c}=d.splitScalar(n),u=t,l=t,h=this;for(;o>s||c>s;)o&i&&(u=u.add(h)),c&i&&(l=l.add(h)),h=h.double(),o>>=i,c>>=i;return r&&(u=u.negate()),a&&(l=l.negate()),l=new v(D(l.x*d.beta),l.y,l.z),u.add(l)}precomputeWindow(e){const t=y?128/e+1:256/e+1,n=[];let r=this,s=r;for(let i=0;i<t;i++){s=r,n.push(s);for(let t=1;t<2**(e-1);t++)s=s.add(r),n.push(s);r=s.double()}return n}wNAF(e,t){!t&&this.equals(v.BASE)&&(t=_.BASE);const n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=t&&S.get(t);r||(r=this.precomputeWindow(n),t&&1!==n&&(r=v.normalizeZ(r),S.set(t,r)));let s=v.ZERO,o=v.BASE;const a=1+(y?128/n:256/n),c=2**(n-1),u=BigInt(2**n-1),l=2**n,d=BigInt(n);for(let t=0;t<a;t++){const n=t*c;let a=Number(e&u);e>>=d,a>c&&(a-=l,e+=i);const h=n,p=n+Math.abs(a)-1,f=t%2!=0,m=a<0;0===a?o=o.add(k(f,r[h])):s=s.add(k(m,r[p]))}return{p:s,f:o}}multiply(e,t){let n,r,s=L(e);if(y){const{k1neg:e,k1:i,k2neg:o,k2:a}=d.splitScalar(s);let{p:c,f:u}=this.wNAF(i,t),{p:l,f:h}=this.wNAF(a,t);c=k(e,c),l=k(o,l),l=new v(D(l.x*d.beta),l.y,l.z),n=c.add(l),r=u.add(h)}else{const{p:e,f:i}=this.wNAF(s,t);n=e,r=i}return v.normalizeZ([n,r])[0]}toAffine(e){const{x:t,y:n,z:r}=this,s=this.equals(v.ZERO);null==e&&(e=s?c:F(r));const o=e,a=D(o*o),u=D(a*o),l=D(t*a),d=D(n*u),h=D(r*o);if(s)return _.ZERO;if(h!==i)throw new Error("invZ was invalid");return new _(l,d)}}function k(e,t){const n=t.negate();return e?n:t}v.BASE=new v(u.Gx,u.Gy,i),v.ZERO=new v(s,i,s);const S=new WeakMap;class _{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,S.delete(this)}hasEvenY(){return this.y%o===s}static fromCompressedHex(e){const t=32===e.length,n=M(t?e:e.subarray(1));if(!G(n))throw new Error("Point is not on curve");let r=function(e){const{P:t}=u,n=BigInt(6),r=BigInt(11),s=BigInt(22),i=BigInt(23),c=BigInt(44),l=BigInt(88),d=e*e*e%t,h=d*d*e%t,p=H(h,a)*h%t,f=H(p,a)*h%t,m=H(f,o)*d%t,g=H(m,r)*m%t,y=H(g,s)*g%t,b=H(y,c)*y%t,w=H(b,l)*b%t,v=H(w,c)*y%t,k=H(v,a)*h%t,S=H(k,i)*g%t,_=H(S,n)*d%t,E=H(_,o);if(E*E%t!==e)throw new Error("Cannot find square root");return E}(g(n));const s=(r&i)===i;if(t)s&&(r=D(-r));else{1==(1&e[0])!==s&&(r=D(-r))}const c=new _(n,r);return c.assertValidity(),c}static fromUncompressedHex(e){const t=M(e.subarray(1,h+1)),n=M(e.subarray(h+1,2*h+1)),r=new _(t,n);return r.assertValidity(),r}static fromHex(e){const t=U(e),n=t.length,r=t[0];if(n===h)return this.fromCompressedHex(t);if(n===f&&(2===r||3===r))return this.fromCompressedHex(t);if(n===m&&4===r)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-${f} compressed bytes or ${m} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return _.BASE.multiply(W(e))}static fromSignature(e,t,n){const{r:r,s:s}=X(t);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");const i=z(U(e)),{n:o}=u,a=2===n||3===n?r+o:r,c=F(a,o),l=D(-i*c,o),d=D(s*c,o),h=1&n?"03":"02",p=_.fromHex(h+C(a)),f=_.BASE.multiplyAndAddUnsafe(p,l,d);if(!f)throw new Error("Cannot recover signature: point at infinify");return f.assertValidity(),f}toRawBytes(e=!1){return R(this.toHex(e))}toHex(e=!1){const t=C(this.x);if(e){return`${this.hasEvenY()?"02":"03"}${t}`}return`04${t}${C(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:n}=this;if(!G(t)||!G(n))throw new Error(e);const r=D(n*n);if(D(r-g(t))!==s)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new _(this.x,D(-this.y))}double(){return v.fromAffine(this).double().toAffine()}add(e){return v.fromAffine(this).add(v.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return v.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,n){const r=v.fromAffine(this),o=t===s||t===i||this!==_.BASE?r.multiplyUnsafe(t):r.multiply(t),a=v.fromAffine(e).multiplyUnsafe(n),c=o.add(a);return c.equals(v.ZERO)?undefined:c.toAffine()}}function E(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function T(e){if(e.length<2||2!==e[0])throw new Error(`Invalid signature integer tag: ${O(e)}`);const t=e[1],n=e.subarray(2,t+2);if(!t||n.length!==t)throw new Error("Invalid signature integer: wrong length");if(0===n[0]&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:M(n),left:e.subarray(t+2)}}n.Point=_,_.BASE=new _(u.Gx,u.Gy),_.ZERO=new _(s,s);class P{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=e instanceof Uint8Array,n="Signature.fromCompact";if("string"!=typeof e&&!t)throw new TypeError(`${n}: Expected string or Uint8Array`);const r=t?O(e):e;if(128!==r.length)throw new Error(`${n}: Expected 64-byte hex`);return new P(B(r.slice(0,64)),B(r.slice(64,128)))}static fromDER(e){const t=e instanceof Uint8Array;if("string"!=typeof e&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:r}=function(e){if(e.length<2||48!=e[0])throw new Error(`Invalid signature tag: ${O(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:n}=T(e.subarray(2)),{data:r,left:s}=T(n);if(s.length)throw new Error(`Invalid signature: left bytes after parsing: ${O(s)}`);return{r:t,s:r}}(t?e:R(e));return new P(n,r)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!J(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!J(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=u.n>>i;return this.s>e}normalizeS(){return this.hasHighS()?new P(this.r,D(-this.s,u.n)):this}toDERRawBytes(){return R(this.toDERHex())}toDERHex(){const e=E(A(this.s)),t=E(A(this.r)),n=e.length/2,r=t.length/2,s=A(n),i=A(r);return`30${A(r+n+4)}02${i}${t}02${s}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return R(this.toCompactHex())}toCompactHex(){return C(this.r)+C(this.s)}}function I(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const s=e[t];n.set(s,r),r+=s.length}return n}n.Signature=P;const x=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function O(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let n=0;n<e.length;n++)t+=x[e[n]];return t}const j=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function C(e){if("bigint"!=typeof e)throw new Error("Expected bigint");if(!(s<=e&&e<j))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function N(e){const t=R(C(e));if(32!==t.length)throw new Error("Error: expected 32 bytes");return t}function A(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function B(e){if("string"!=typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function R(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,s=e.slice(r,r+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[n]=i}return t}function M(e){return B(O(e))}function U(e){return e instanceof Uint8Array?Uint8Array.from(e):R(e)}function L(e){if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"==typeof e&&J(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function D(e,t=u.P){const n=e%t;return n>=s?n:t+n}function H(e,t){const{P:n}=u;let r=e;for(;t-- >s;)r*=r,r%=n;return r}function F(e,t=u.P){if(e===s||t<=s)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=D(e,t),r=t,o=s,a=i,c=i,l=s;for(;n!==s;){const e=r/n,t=r%n,s=o-c*e,i=a-l*e;r=n,n=t,o=c,a=l,c=s,l=i}if(r!==i)throw new Error("invert: does not exist");return D(o,t)}function z(e,t=!1){const n=function(e){const t=8*e.length-8*p,n=M(e);return t>0?n>>BigInt(t):n}(e);if(t)return n;const{n:r}=u;return n>=r?n-r:n}let V,K;class ${constructor(e,t){if(this.hashLen=e,this.qByteLen=t,"number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return n.utils.hmacSha256(this.k,...e)}hmacSync(...e){return K(this.k,...e)}checkSync(){if("function"!=typeof K)throw new b("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),0!==e.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),0!==e.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);const n=this.v.slice();t.push(n),e+=this.v.length}return I(...t)}generateSync(){this.checkSync(),this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);const n=this.v.slice();t.push(n),e+=this.v.length}return I(...t)}}function J(e){return s<e&&e<u.n}function G(e){return s<e&&e<u.P}function q(e,t,n,r=!0){const{n:o}=u,a=z(e,!0);if(!J(a))return;const c=F(a,o),l=_.BASE.multiply(a),d=D(l.x,o);if(d===s)return;const h=D(c*D(t+n*d,o),o);if(h===s)return;let p=new P(d,h),f=(l.x===p.r?0:2)|Number(l.y&i);return r&&p.hasHighS()&&(p=p.normalizeS(),f^=1),{sig:p,recovery:f}}function W(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"==typeof e){if(e.length!==2*p)throw new Error("Expected 32 bytes of private key");t=B(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private key");if(e.length!==p)throw new Error("Expected 32 bytes of private key");t=M(e)}if(!J(t))throw new Error("Expected private key: 0 < key < n");return t}function Q(e){return e instanceof _?(e.assertValidity(),e):_.fromHex(e)}function X(e){if(e instanceof P)return e.assertValidity(),e;try{return P.fromDER(e)}catch(t){return P.fromCompact(e)}}function Y(e){const t=e instanceof Uint8Array,n="string"==typeof e,r=(t||n)&&e.length;return t?r===f||r===m:n?r===2*f||r===2*m:e instanceof _}function Z(e){return M(e.length>h?e.slice(0,h):e)}function ee(e){const t=Z(e),n=D(t,u.n);return te(n<s?t:n)}function te(e){return N(e)}function ne(e,t,r){if(null==e)throw new Error(`sign: expected valid message hash, not "${e}"`);const s=U(e),i=W(t),o=[te(i),ee(s)];if(null!=r){!0===r&&(r=n.utils.randomBytes(h));const e=U(r);if(e.length!==h)throw new Error(`sign: Expected ${h} bytes of extra data`);o.push(e)}return{seed:I(...o),m:Z(s),d:i}}function re(e,t){const{sig:n,recovery:r}=e,{der:s,recovered:i}=Object.assign({canonical:!0,der:!0},t),o=s?n.toDERRawBytes():n.toCompactRawBytes();return i?[o,r]:o}n.getPublicKey=function(e,t=!1){return _.fromPrivateKey(e).toRawBytes(t)},n.recoverPublicKey=function(e,t,n,r=!1){return _.fromSignature(e,t,n).toRawBytes(r)},n.getSharedSecret=function(e,t,n=!1){if(Y(e))throw new TypeError("getSharedSecret: first arg must be private key");if(!Y(t))throw new TypeError("getSharedSecret: second arg must be public key");const r=Q(t);return r.assertValidity(),r.multiply(W(e)).toRawBytes(n)},n.sign=async function(e,t,n={}){const{seed:r,m:s,d:i}=ne(e,t,n.extraEntropy),o=new $(32,p);let a;for(await o.reseed(r);!(a=q(await o.generate(),s,i,n.canonical));)await o.reseed();return re(a,n)},n.signSync=function(e,t,n={}){const{seed:r,m:s,d:i}=ne(e,t,n.extraEntropy),o=new $(32,p);let a;for(o.reseedSync(r);!(a=q(o.generateSync(),s,i,n.canonical));)o.reseedSync();return re(a,n)};const se={strict:!0};function ie(e){return D(M(e),u.n)}n.verify=function(e,t,n,r=se){let s;try{s=X(e),t=U(t)}catch(e){return!1}const{r:i,s:o}=s;if(r.strict&&s.hasHighS())return!1;const a=z(t);let c;try{c=Q(n)}catch(e){return!1}const{n:l}=u,d=F(o,l),h=D(a*d,l),p=D(i*d,l),f=_.BASE.multiplyAndAddUnsafe(c,h,p);return!!f&&D(f.x,l)===i};class oe{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){const t=U(e);if(64!==t.length)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${t.length}`);const n=M(t.subarray(0,32)),r=M(t.subarray(32,64));return new oe(n,r)}assertValidity(){const{r:e,s:t}=this;if(!G(e)||!J(t))throw new Error("Invalid signature")}toHex(){return C(this.r)+C(this.s)}toRawBytes(){return R(this.toHex())}}class ae{constructor(e,t,r=n.utils.randomBytes()){if(null==e)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=U(e);const{x:s,scalar:i}=this.getScalar(W(t));if(this.px=s,this.d=i,this.rand=U(r),32!==this.rand.length)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){const t=_.fromPrivateKey(e),n=t.hasEvenY()?e:u.n-e;return{point:t,scalar:n,x:t.toRawX()}}initNonce(e,t){return N(e^M(t))}finalizeNonce(e){const t=D(M(e),u.n);if(t===s)throw new Error("sign: Creation of signature failed. k is zero");const{point:n,x:r,scalar:i}=this.getScalar(t);return{R:n,rx:r,k:i}}finalizeSig(e,t,n,r){return new oe(e.x,D(t+n*r,u.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){const{m:e,d:t,px:r,rand:s}=this,i=n.utils.taggedHash,o=this.initNonce(t,await i(pe.aux,s)),{R:a,rx:c,k:u}=this.finalizeNonce(await i(pe.nonce,o,r,e)),l=ie(await i(pe.challenge,c,r,e)),d=this.finalizeSig(a,u,l,t);return await le(d,e,r)||this.error(),d}calcSync(){const{m:e,d:t,px:r,rand:s}=this,i=n.utils.taggedHashSync,o=this.initNonce(t,i(pe.aux,s)),{R:a,rx:c,k:u}=this.finalizeNonce(i(pe.nonce,o,r,e)),l=ie(i(pe.challenge,c,r,e)),d=this.finalizeSig(a,u,l,t);return de(d,e,r)||this.error(),d}}function ce(e,t,n){const r=e instanceof oe,s=r?e:oe.fromHex(e);return r&&s.assertValidity(),{...s,m:U(t),P:Q(n)}}function ue(e,t,n,r){const s=_.BASE.multiplyAndAddUnsafe(t,W(n),D(-r,u.n));return!(!s||!s.hasEvenY()||s.x!==e)}async function le(e,t,r){try{const{r:s,s:i,m:o,P:a}=ce(e,t,r),c=ie(await n.utils.taggedHash(pe.challenge,N(s),a.toRawX(),o));return ue(s,a,i,c)}catch(e){return!1}}function de(e,t,r){try{const{r:s,s:i,m:o,P:a}=ce(e,t,r),c=ie(n.utils.taggedHashSync(pe.challenge,N(s),a.toRawX(),o));return ue(s,a,i,c)}catch(e){if(e instanceof b)throw e;return!1}}n.schnorr={Signature:oe,getPublicKey:function(e){return _.fromPrivateKey(e).toRawX()},sign:async function(e,t,n){return new ae(e,t,n).calc()},verify:le,signSync:function(e,t,n){return new ae(e,t,n).calcSync()},verifySync:de},_.BASE._setWindowSize(8);const he={node:r,web:"object"==typeof self&&"crypto"in self?self.crypto:undefined},pe={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},fe={};n.utils={bytesToHex:O,hexToBytes:R,concatBytes:I,mod:D,invert:F,isValidPrivateKey(e){try{return W(e),!0}catch(e){return!1}},_bigintTo32Bytes:N,_normalizePrivateKey:W,hashToPrivateKey:e=>{e=U(e);const t=p+8;if(e.length<t||e.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return N(D(M(e),u.n-i)+i)},randomBytes:(e=32)=>{if(he.web)return he.web.getRandomValues(new Uint8Array(e));if(he.node){const{randomBytes:t}=he.node;return Uint8Array.from(t(e))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>n.utils.hashToPrivateKey(n.utils.randomBytes(p+8)),precompute(e=8,t=_.BASE){const n=t===_.BASE?t:new _(t.x,t.y);return n._setWindowSize(e),n.multiply(a),n},sha256:async(...e)=>{if(he.web){const t=await he.web.subtle.digest("SHA-256",I(...e));return new Uint8Array(t)}if(he.node){const{createHash:t}=he.node,n=t("sha256");return e.forEach((e=>n.update(e))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(he.web){const n=await he.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=I(...t),s=await he.web.subtle.sign("HMAC",n,r);return new Uint8Array(s)}if(he.node){const{createHmac:n}=he.node,r=n("sha256",e);return t.forEach((e=>r.update(e))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:undefined,hmacSha256Sync:undefined,taggedHash:async(e,...t)=>{let r=fe[e];if(r===undefined){const t=await n.utils.sha256(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=I(t,t),fe[e]=r}return n.utils.sha256(r,...t)},taggedHashSync:(e,...t)=>{if("function"!=typeof V)throw new b("sha256Sync is undefined, you need to set it");let n=fe[e];if(n===undefined){const t=V(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=I(t,t),fe[e]=n}return V(n,...t)},_JacobianPoint:v},Object.defineProperties(n.utils,{sha256Sync:{configurable:!1,get:()=>V,set(e){V||(V=e)}},hmacSha256Sync:{configurable:!1,get:()=>K,set(e){K||(K=e)}}})}}},{package:"@metamask/key-tree>@noble/secp256k1",file:"node_modules/@noble/secp256k1/lib/index.js"}],[1625,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e,t){var n=new Array(arguments.length-1),r=0,s=2,i=!0;for(;s<arguments.length;)n[r++]=arguments[s++];return new Promise((function(s,o){n[r]=function(e){if(i)if(i=!1,e)o(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];s.apply(null,t)}};try{e.apply(t||null,n)}catch(e){i&&(i=!1,o(e))}}))}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport>protobufjs>@protobufjs/aspromise",file:"node_modules/@protobufjs/aspromise/index.js"}],[1626,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=n;r.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var s=new Array(64),i=new Array(123),o=0;o<64;)i[s[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;r.encode=function(e,t,n){for(var r,i=null,o=[],a=0,c=0;t<n;){var u=e[t++];switch(c){case 0:o[a++]=s[u>>2],r=(3&u)<<4,c=1;break;case 1:o[a++]=s[r|u>>4],r=(15&u)<<2,c=2;break;case 2:o[a++]=s[r|u>>6],o[a++]=s[63&u],c=0}a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0)}return c&&(o[a++]=s[r],o[a++]=61,1===c&&(o[a++]=61)),i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))};var a="invalid encoding";r.decode=function(e,t,n){for(var r,s=n,o=0,c=0;c<e.length;){var u=e.charCodeAt(c++);if(61===u&&o>1)break;if((u=i[u])===undefined)throw Error(a);switch(o){case 0:r=u,o=1;break;case 1:t[n++]=r<<2|(48&u)>>4,r=u,o=2;break;case 2:t[n++]=(15&r)<<4|(60&u)>>2,r=u,o=3;break;case 3:t[n++]=(3&r)<<6|u,o=0}}if(1===o)throw Error(a);return n-s},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport>protobufjs>@protobufjs/base64",file:"node_modules/@protobufjs/base64/index.js"}],[1627,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e,t){"string"==typeof e&&(t=e,e=undefined);var n=[];function s(e){if("string"!=typeof e){var t=i();if(r.verbose&&console.log("codegen: "+t),t="return "+t,e){for(var o=Object.keys(e),a=new Array(o.length+1),c=new Array(o.length),u=0;u<o.length;)a[u]=o[u],c[u]=e[o[u++]];return a[u]=t,Function.apply(null,a).apply(null,c)}return Function(t)()}for(var l=new Array(arguments.length-1),d=0;d<l.length;)l[d]=arguments[++d];if(d=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var n=l[d++];switch(t){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"})),d!==l.length)throw Error("parameter count mismatch");return n.push(e),s}function i(r){return"function "+(r||t||"")+"("+(e&&e.join(",")||"")+"){\n  "+n.join("\n  ")+"\n}"}return s.toString=i,s}t.exports=r,r.verbose=!1}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport>protobufjs>@protobufjs/codegen",file:"node_modules/@protobufjs/codegen/index.js"}],[1628,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(){this._listeners={}}t.exports=r,r.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},r.prototype.off=function(e,t){if(e===undefined)this._listeners={};else if(t===undefined)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport>protobufjs>@protobufjs/eventemitter",file:"node_modules/@protobufjs/eventemitter/index.js"}],[1629,{"@protobufjs/aspromise":1625,"@protobufjs/inquire":1631},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=i;var r=e("@protobufjs/aspromise"),s=e("@protobufjs/inquire")("fs");function i(e,t,n){return"function"==typeof t?(n=t,t={}):t||(t={}),n?!t.xhr&&s&&s.readFile?s.readFile(e,(function(r,s){return r&&"undefined"!=typeof XMLHttpRequest?i.xhr(e,t,n):r?n(r):n(null,t.binary?s:s.toString("utf8"))})):i.xhr(e,t,n):r(i,this,e,t)}i.xhr=function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4!==r.readyState)return undefined;if(0!==r.status&&200!==r.status)return n(Error("status "+r.status));if(t.binary){var e=r.response;if(!e){e=[];for(var s=0;s<r.responseText.length;++s)e.push(255&r.responseText.charCodeAt(s))}return n(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return n(null,r.responseText)},t.binary&&("overrideMimeType"in r&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.responseType="arraybuffer"),r.open("GET",e),r.send()}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport>protobufjs>@protobufjs/fetch",file:"node_modules/@protobufjs/fetch/index.js"}],[163,{lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("lodash");var s={version:79,async migrate(e){const t=(0,r.cloneDeep)(e);t.meta.version=79;const n=function(e){var t,n;(null==e||null===(t=e.AppStateController)||void 0===t?void 0:t.collectiblesDetectionNoticeDismissed)!==undefined&&delete e.AppStateController.collectiblesDetectionNoticeDismissed;(null==e||null===(n=e.metamask)||void 0===n?void 0:n.collectiblesDropdownState)!==undefined&&delete e.metamask.collectiblesDropdownState;return e}(t.data);return t.data=n,t}};n.default=s}}},{package:"$root$",file:"app/scripts/migrations/079.js"}],[1630,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function s(e,r,s){t[0]=e,r[s]=n[0],r[s+1]=n[1],r[s+2]=n[2],r[s+3]=n[3]}function i(e,r,s){t[0]=e,r[s]=n[3],r[s+1]=n[2],r[s+2]=n[1],r[s+3]=n[0]}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function a(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?s:i,e.writeFloatBE=r?i:s,e.readFloatLE=r?o:a,e.readFloatBE=r?a:o}():function(){function t(e,t,n,r){var s=t<0?1:0;if(s&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((s<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((s<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var i=Math.floor(Math.log(t)/Math.LN2);e((s<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,n,r)}}function n(e,t,n){var r=e(t,n),s=2*(r>>31)+1,i=r>>>23&255,o=8388607&r;return 255===i?o?NaN:s*Infinity:0===i?1401298464324817e-60*s*o:s*Math.pow(2,i-150)*(o+8388608)}e.writeFloatLE=t.bind(null,s),e.writeFloatBE=t.bind(null,i),e.readFloatLE=n.bind(null,o),e.readFloatBE=n.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function s(e,r,s){t[0]=e,r[s]=n[0],r[s+1]=n[1],r[s+2]=n[2],r[s+3]=n[3],r[s+4]=n[4],r[s+5]=n[5],r[s+6]=n[6],r[s+7]=n[7]}function i(e,r,s){t[0]=e,r[s]=n[7],r[s+1]=n[6],r[s+2]=n[5],r[s+3]=n[4],r[s+4]=n[3],r[s+5]=n[2],r[s+6]=n[1],r[s+7]=n[0]}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function a(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?s:i,e.writeDoubleBE=r?i:s,e.readDoubleLE=r?o:a,e.readDoubleBE=r?a:o}():function(){function t(e,t,n,r,s,i){var o=r<0?1:0;if(o&&(r=-r),0===r)e(0,s,i+t),e(1/r>0?0:2147483648,s,i+n);else if(isNaN(r))e(0,s,i+t),e(2146959360,s,i+n);else if(r>17976931348623157e292)e(0,s,i+t),e((o<<31|2146435072)>>>0,s,i+n);else{var a;if(r<22250738585072014e-324)e((a=r/5e-324)>>>0,s,i+t),e((o<<31|a/4294967296)>>>0,s,i+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(a=r*Math.pow(2,-c))>>>0,s,i+t),e((o<<31|c+1023<<20|1048576*a&1048575)>>>0,s,i+n)}}}function n(e,t,n,r,s){var i=e(r,s+t),o=e(r,s+n),a=2*(o>>31)+1,c=o>>>20&2047,u=4294967296*(1048575&o)+i;return 2047===c?u?NaN:a*Infinity:0===c?5e-324*a*u:a*Math.pow(2,c-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,s,0,4),e.writeDoubleBE=t.bind(null,i,4,0),e.readDoubleLE=n.bind(null,o,0,4),e.readDoubleBE=n.bind(null,a,4,0)}(),e}function s(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function i(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function o(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=r(r)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport>protobufjs>@protobufjs/float",file:"node_modules/@protobufjs/float/index.js"}],[1631,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e){try{var t=(0,eval)("quire".replace(/^/,"re"))(e);if(t&&(t.length||Object.keys(t).length))return t}catch(e){}return null}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport>protobufjs>@protobufjs/inquire",file:"node_modules/@protobufjs/inquire/index.js"}],[1632,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=n,s=r.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},i=r.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=s(e),r="";n&&(r=t.shift()+"/");for(var i=0;i<t.length;)".."===t[i]?i>0&&".."!==t[i-1]?t.splice(--i,2):n?t.splice(i,1):++i:"."===t[i]?t.splice(i,1):++i;return r+t.join("/")};r.resolve=function(e,t,n){return n||(t=i(t)),s(t)?t:(n||(e=i(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?i(e+"/"+t):t)}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport>protobufjs>@protobufjs/path",file:"node_modules/@protobufjs/path/index.js"}],[1633,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e,t,n){var r=n||8192,s=r>>>1,i=null,o=r;return function(n){if(n<1||n>s)return e(n);o+n>r&&(i=e(r),o=0);var a=t.call(i,o,o+=n);return 7&o&&(o=1+(7|o)),a}}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport>protobufjs>@protobufjs/pool",file:"node_modules/@protobufjs/pool/index.js"}],[1634,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=n;r.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},r.read=function(e,t,n){if(n-t<1)return"";for(var r,s=null,i=[],o=0;t<n;)(r=e[t++])<128?i[o++]=r:r>191&&r<224?i[o++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[o++]=55296+(r>>10),i[o++]=56320+(1023&r)):i[o++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,i)),o=0);return s?(o&&s.push(String.fromCharCode.apply(String,i.slice(0,o))),s.join("")):String.fromCharCode.apply(String,i.slice(0,o))},r.write=function(e,t,n){for(var r,s,i=n,o=0;o<e.length;++o)(r=e.charCodeAt(o))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(s=e.charCodeAt(o+1)))?(r=65536+((1023&r)<<10)+(1023&s),++o,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-i}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport>protobufjs>@protobufjs/utf8",file:"node_modules/@protobufjs/utf8/index.js"}],[1639,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function s(...e){const t=(e,t)=>n=>e(t(n));return{encode:Array.from(e).reverse().reduce(((e,n)=>e?t(e,n.encode):n.encode),undefined),decode:e.reduce(((e,n)=>e?t(e,n.decode):n.decode),undefined)}}function i(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(r(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}}function o(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function a(e,t="="){if(r(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function c(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function u(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let s=0;const i=[],o=Array.from(e);for(o.forEach((e=>{if(r(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,r=!0;for(let i=s;i<o.length;i++){const a=o[i],c=t*e+a;if(!Number.isSafeInteger(c)||t*e/t!==e||c-a!=t*e)throw new Error("convertRadix: carry overflow");if(e=c%n,o[i]=Math.floor(c/n),!Number.isSafeInteger(o[i])||o[i]*n+e!==c)throw new Error("convertRadix: carry overflow");r&&(o[i]?r=!1:s=i)}if(i.push(e),r)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}
/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(n,"__esModule",{value:!0}),n.bytes=n.stringToBytes=n.str=n.bytesToString=n.hex=n.utf8=n.bech32m=n.bech32=n.base58check=n.base58xmr=n.base58xrp=n.base58flickr=n.base58=n.base64url=n.base64=n.base32crockford=n.base32hex=n.base32=n.base16=n.utils=n.assertNumber=void 0,n.assertNumber=r;const l=(e,t)=>t?l(t,e%t):e,d=(e,t)=>e+(t-l(e,t));function h(e,t,n,s){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(d(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${d(t,n)}`);let i=0,o=0;const a=2**n-1,c=[];for(const s of e){if(r(s),s>=2**t)throw new Error(`convertRadix2: invalid data word=${s} from=${t}`);if(i=i<<t|s,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=n;o-=n)c.push((i>>o-n&a)>>>0);i&=2**o-1}if(i=i<<n-o&a,!s&&o>=t)throw new Error("Excess padding");if(!s&&i)throw new Error(`Non-zero padding: ${i}`);return s&&o>0&&c.push(i>>>0),c}function p(e){return r(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return u(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(u(t,e,256))}}}function f(e,t=!1){if(r(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(d(8,e)>32||d(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return h(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(h(n,e,8,t))}}}function m(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}function g(e,t){if(r(e),"function"!=typeof t)throw new Error("checksum fn should be function");return{encode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const r=t(n).slice(0,e),s=new Uint8Array(n.length+e);return s.set(n),s.set(r,n.length),s},decode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-e),s=t(r).slice(0,e),i=n.slice(-e);for(let t=0;t<e;t++)if(s[t]!==i[t])throw new Error("Invalid checksum");return r}}}n.utils={alphabet:i,chain:s,checksum:g,radix:p,radix2:f,join:o,padding:a},n.base16=s(f(4),i("0123456789ABCDEF"),o("")),n.base32=s(f(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),a(5),o("")),n.base32hex=s(f(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),a(5),o("")),n.base32crockford=s(f(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),o(""),c((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),n.base64=s(f(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),a(6),o("")),n.base64url=s(f(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),a(6),o(""));const y=e=>s(p(58),i(e),o(""));n.base58=y("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),n.base58flickr=y("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),n.base58xrp=y("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const b=[0,2,3,5,6,7,9,10,11];n.base58xmr={encode(e){let t="";for(let r=0;r<e.length;r+=8){const s=e.subarray(r,r+8);t+=n.base58.encode(s).padStart(b[s.length],"1")}return t},decode(e){let t=[];for(let r=0;r<e.length;r+=11){const s=e.slice(r,r+11),i=b.indexOf(s.length),o=n.base58.decode(s);for(let e=0;e<o.length-i;e++)if(0!==o[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(o.slice(o.length-i)))}return Uint8Array.from(t)}};n.base58check=e=>s(g(4,(t=>e(e(t)))),n.base58);const w=s(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),o("")),v=[996825010,642813549,513874426,1027748829,705979059];function k(e){const t=e>>25;let n=(33554431&e)<<5;for(let e=0;e<v.length;e++)1==(t>>e&1)&&(n^=v[e]);return n}function S(e,t,n=1){const r=e.length;let s=1;for(let t=0;t<r;t++){const n=e.charCodeAt(t);if(n<33||n>126)throw new Error(`Invalid prefix (${e})`);s=k(s)^n>>5}s=k(s);for(let t=0;t<r;t++)s=k(s)^31&e.charCodeAt(t);for(let e of t)s=k(s)^e;for(let e=0;e<6;e++)s=k(s);return s^=n,w.encode(h([s%2**30],30,5,!1))}function _(e){const t="bech32"===e?1:734539939,n=f(5),r=n.decode,s=n.encode,i=m(r);function o(e,n=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==n&&e.length>n)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${n})`);const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const s=(e=r).lastIndexOf("1");if(0===s||-1===s)throw new Error('Letter "1" must be present between prefix and data only');const i=e.slice(0,s),o=e.slice(s+1);if(o.length<6)throw new Error("Data must be at least 6 characters long");const a=w.decode(o).slice(0,-6),c=S(i,a,t);if(!o.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:i,words:a}}return{encode:function(e,n,r=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof n);const s=e.length+7+n.length;if(!1!==r&&s>r)throw new TypeError(`Length ${s} exceeds limit ${r}`);return`${e=e.toLowerCase()}1${w.encode(n)}${S(e,n,t)}`},decode:o,decodeToBytes:function(e){const{prefix:t,words:n}=o(e,!1);return{prefix:t,words:n,bytes:r(n)}},decodeUnsafe:m(o),fromWords:r,fromWordsUnsafe:i,toWords:s}}n.bech32=_("bech32"),n.bech32m=_("bech32m"),n.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},n.hex=s(f(4),i("0123456789abcdef"),o(""),c((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));const E={utf8:n.utf8,hex:n.hex,base16:n.base16,base32:n.base32,base64:n.base64,base64url:n.base64url,base58:n.base58,base58xmr:n.base58xmr},T=`Invalid encoding type. Available types: ${Object.keys(E).join(", ")}`;n.bytesToString=(e,t)=>{if("string"!=typeof e||!E.hasOwnProperty(e))throw new TypeError(T);if(!(t instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return E[e].encode(t)},n.str=n.bytesToString;n.stringToBytes=(e,t)=>{if(!E.hasOwnProperty(e))throw new TypeError(T);if("string"!=typeof t)throw new TypeError("stringToBytes() expects string");return E[e].decode(t)},n.bytes=n.stringToBytes}}},{package:"@metamask/key-tree>@scure/base",file:"node_modules/@scure/base/lib/index.js"}],[164,{lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("lodash");var s={version:80,async migrate(e){const t=(0,r.cloneDeep)(e);t.meta.version=80;const n=function(e){var t;(null==e||null===(t=e.metamask)||void 0===t?void 0:t.showPortfolioTooltip)!==undefined&&delete e.metamask.showPortfolioTooltip;return e}(t.data);return t.data=n,t}};n.default=s}}},{package:"$root$",file:"app/scripts/migrations/080.js"}],[1640,{assert:2422,buffer:2426,"component-type":2490,"join-component":3321},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r=e("component-type"),s=e("join-component"),i=e("assert"),o=32768;t.exports=function(e,t){switch(c(e),t=t||e.type,i(t,"You must pass an event type."),t){case"track":return function(e){i(e.anonymousId||e.userId,'You must pass either an "anonymousId" or a "userId".'),i(e.event,'You must pass an "event".')}(e);case"group":return function(e){i(e.anonymousId||e.userId,'You must pass either an "anonymousId" or a "userId".'),i(e.groupId,'You must pass a "groupId".')}(e);case"identify":case"page":case"screen":return function(e){i(e.anonymousId||e.userId,'You must pass either an "anonymousId" or a "userId".')}(e);case"alias":return function(e){i(e.userId,'You must pass a "userId".'),i(e.previousId,'You must pass a "previousId".')}(e);default:i(0,'Invalid event type: "'+t+'"')}};var a={anonymousId:["string","number"],category:"string",context:"object",event:"string",groupId:["string","number"],integrations:"object",name:"string",previousId:["string","number"],timestamp:"date",userId:["string","number"],type:"string"};function c(e){i("object"===r(e),"You must pass a message object.");var t=JSON.stringify(e);for(var c in i(n.byteLength(t,"utf8")<o,"Your message must be < 32kb."),a){var u=e[c];if(u){var l=a[c];"array"!==r(l)&&(l=[l]);var d="object"===l[0]?"an":"a";i(l.some((function(e){return r(u)===e})),'"'+c+'" must be '+d+" "+s(l,"or")+".")}}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@segment/loosely-validate-event",file:"node_modules/@segment/loosely-validate-event/index.js"}],[165,{"@metamask/utils":1575,lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);t.meta.version=i;const n=function(e){if(!(0,s.hasProperty)(e,"SnapController")||!(0,s.hasProperty)(e,"PermissionController")||!(0,s.isObject)(e.PermissionController))return e;const{PermissionController:t}=e,{subjects:n}=t;if(!(0,s.isObject)(n))return e;const i="wallet_snap_";for(const[t,o]of Object.entries(n)){if(!(0,s.isObject)(o)||!(0,s.isObject)(o.permissions))return e;let n,a=1;const{permissions:c}=o,u={...c};for(const[o,l]of Object.entries(c))if(o.startsWith(i)){if(!(0,s.isObject)(l)||!(0,s.hasProperty)(l,"id")||!(0,s.hasProperty)(l,"date"))return e;if((0,s.hasProperty)(u,"wallet_snap")||(u.wallet_snap={caveats:[{type:"snapIds",value:{}}],invoker:t,parentCapability:"wallet_snap"}),!(0,s.isObject)(u.wallet_snap))return e;if(!(0,r.isArray)(u.wallet_snap.caveats))return e;const c=o.slice(i.length),d=u.wallet_snap.caveats[0];if(!(0,s.isObject)(d))return e;if(!(0,s.hasProperty)(d,"type")||"snapIds"!==d.type||!(0,s.hasProperty)(d,"value")||!(0,s.isObject)(d.value))return e;if(d.value[c]={},"number"!=typeof l.date||"string"!=typeof l.id)return e;l.date>a&&(a=l.date,n=l.id),delete u[o]}u.wallet_snap&&(u.wallet_snap.date=a,u.wallet_snap.id=n,o.permissions=u)}return e}(t.data);return t.data=n,t},n.version=void 0;var r=e("lodash"),s=e("@metamask/utils");const i=81;n.version=i}}},{package:"$root$",file:"app/scripts/migrations/081.ts"}],[166,{"@metamask/utils":1575,lodash:3534,uuid:3962},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=o,t.data=function(e){if(!((0,s.hasProperty)(e,"PreferencesController")&&(0,s.isObject)(e.PreferencesController)&&(0,s.isObject)(e.NetworkController)&&(0,s.hasProperty)(e.PreferencesController,"frequentRpcListDetail")&&Array.isArray(e.PreferencesController.frequentRpcListDetail)&&e.PreferencesController.frequentRpcListDetail.every(s.isObject)))return e;const{PreferencesController:t,NetworkController:n}=e,{frequentRpcListDetail:r}=t;if(!Array.isArray(r))return e;const o=r.reduce(((e,{rpcUrl:t,chainId:n,ticker:r,nickname:s,rpcPrefs:o})=>({...e,[(0,i.v4)()]:{rpcUrl:t,chainId:n,ticker:r,rpcPrefs:o,nickname:s}})),{});return delete t.frequentRpcListDetail,{...e,NetworkController:{...n,networkConfigurations:o},PreferencesController:{...t}}}(t.data),t},n.version=void 0;var r=e("lodash"),s=e("@metamask/utils"),i=e("uuid");const o=82;n.version=o}}},{package:"$root$",file:"app/scripts/migrations/082.ts"}],[167,{"@metamask/utils":1575,lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=i,t.data=function(e){if(!(0,s.isObject)(e.NetworkController))return e;const{NetworkController:t}=e;if(!(0,s.isObject)(t.networkConfigurations))return e;const{networkConfigurations:n}=t,r={};for(const t of Object.keys(n)){const i=n[t];if(!(0,s.isObject)(i))return e;r[t]={...i,id:t}}return{...e,NetworkController:{...t,networkConfigurations:r}}}(t.data),t},n.version=void 0;var r=e("lodash"),s=e("@metamask/utils");const i=83;n.version=i}}},{package:"$root$",file:"app/scripts/migrations/083.ts"}],[168,{"@metamask/utils":1575,lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=i,t.data=function(e){if(!(0,s.hasProperty)(e,"NetworkController")||!(0,s.isObject)(e.NetworkController)||!(0,s.hasProperty)(e.NetworkController,"network"))return e;const t={...e.NetworkController};"loading"===t.network?(t.networkId=null,t.networkStatus="unknown"):(t.networkId=t.network,t.networkStatus="available");return delete t.network,{...e,NetworkController:t}}(t.data),t},n.version=void 0;var r=e("lodash"),s=e("@metamask/utils");const i=84;n.version=i}}},{package:"$root$",file:"app/scripts/migrations/084.ts"}],[169,{"@metamask/utils":1575,lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=i,t.data=function(e){if(!(0,s.isObject)(e.NetworkController))return e;return delete e.NetworkController.previousProviderStore,e}(t.data),t},n.version=void 0;var r=e("lodash"),s=e("@metamask/utils");const i=85;n.version=i}}},{package:"$root$",file:"app/scripts/migrations/085.ts"}],[17,{"../../../shared/constants/alarms":4009,"../../../shared/constants/app":4011,"../../../shared/constants/metametrics":4018,"../../../shared/constants/time":4027,"../../../shared/modules/mv3.utils":4049,"../lib/util":80,"@metamask/obs-store":1375,buffer:2426,"ethereumjs-util":2780,lodash:3534,uuid:3962},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("lodash"),s=e("@metamask/obs-store"),i=e("ethereumjs-util"),o=e("uuid"),a=e("../../../shared/constants/app"),c=e("../../../shared/constants/metametrics"),u=e("../../../shared/constants/time"),l=e("../../../shared/modules/mv3.utils"),d=e("../../../shared/constants/alarms"),h=e("../lib/util");function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=e=>{setTimeout((()=>{throw e}))},m=e=>{const t=[];return e.uniqueIdentifier&&t.push(e.uniqueIdentifier),e.actionId&&t.push(e.actionId),t.length&&e.isDuplicateAnonymizedEvent&&t.push("0x000"),t.length?t.join("-"):(0,h.generateRandomId)()},g={'You must pass either an "anonymousId" or a "userId".':!0};n.default=class{constructor({segment:e,preferencesStore:t,onNetworkDidChange:n,getCurrentChainId:i,version:o,environment:a,initState:c,extension:m,captureException:y=f}){p(this,"_getAllNFTsFlattened",(0,r.memoize)(((e={})=>Object.values(e).reduce(((e,t)=>e.concat(...Object.values(t))),[])))),p(this,"_isValidTraitArray",(e=>Array.isArray(e)&&(e.every((e=>"string"==typeof e))||e.every((e=>"boolean"==typeof e))||e.every((e=>"number"==typeof e))))),p(this,"_isValidTraitDate",(e=>"[object Date]"===Object.prototype.toString.call(e))),this._captureException=e=>{g[e.message]||y(e)};const b=t.getState();this.chainId=i(),this.locale=b.currentLocale.replace("_","-"),this.version="production"===a?o:`${o}-${a}`,this.extension=m,this.environment=a;const w=(0,r.omitBy)(null==c?void 0:c.fragments,"persist"),v=(null==c?void 0:c.segmentApiCalls)||{};this.store=new s.ObservableStore({participateInMetaMetrics:null,metaMetricsId:null,eventsBeforeMetricsOptIn:[],traits:{},...c,fragments:{...null==c?void 0:c.fragments},segmentApiCalls:{...v}}),t.subscribe((({currentLocale:e})=>{this.locale=e.replace("_","-")})),n((()=>{this.chainId=i()})),this.segment=e,Object.values(w).forEach((e=>{this.finalizeEventFragment(e.id,{abandoned:!0})})),l.isManifestV3&&Object.values(v).forEach((({eventType:e,payload:t})=>{this._submitSegmentAPICall(e,t)})),l.isManifestV3?(chrome.alarms.getAll((e=>{(0,h.checkAlarmExists)(e,d.METAMETRICS_FINALIZE_EVENT_FRAGMENT_ALARM)||chrome.alarms.create(d.METAMETRICS_FINALIZE_EVENT_FRAGMENT_ALARM,{delayInMinutes:1,periodInMinutes:1})})),chrome.alarms.onAlarm.addListener((e=>{e.name===d.METAMETRICS_FINALIZE_EVENT_FRAGMENT_ALARM&&this.finalizeAbandonedFragments()}))):setInterval((()=>{this.finalizeAbandonedFragments()}),30*u.SECOND)}finalizeAbandonedFragments(){Object.values(this.store.getState().fragments).forEach((e=>{e.timeout&&Date.now()-e.lastUpdated/1e3>e.timeout&&this.finalizeEventFragment(e.id,{abandoned:!0})}))}generateMetaMetricsId(){return(0,i.bufferToHex)((0,i.keccak)(t.from(String(Date.now())+String(Math.round(Math.random()*Number.MAX_SAFE_INTEGER)))))}createEventFragment(e){if(!e.successEvent||!e.category)throw new Error(`Must specify success event and category. Success event was: ${e.event}. Category was: ${e.category}. Payload keys were: ${Object.keys(e)}. ${"object"==typeof e.properties?`Payload property keys were: ${Object.keys(e.properties)}`:""}`);const{fragments:t}=this.store.getState(),n=e.uniqueIdentifier??(0,o.v4)(),r={id:n,...e,lastUpdated:Date.now()};return this.store.updateState({fragments:{...t,[n]:r}}),e.initialEvent&&this.trackEvent({event:r.initialEvent,category:r.category,properties:r.properties,sensitiveProperties:r.sensitiveProperties,page:r.page,referrer:r.referrer,revenue:r.revenue,value:r.value,currency:r.currency,environmentType:r.environmentType,actionId:e.actionId,uniqueIdentifier:e.uniqueIdentifier}),r}getEventFragmentById(e){const{fragments:t}=this.store.getState();return t[e]}updateEventFragment(e,t){const{fragments:n}=this.store.getState();if(!n[e])throw new Error(`Event fragment with id ${e} does not exist.`);this.store.updateState({fragments:{...n,[e]:(0,r.merge)(n[e],{...t,lastUpdated:Date.now()})}})}finalizeEventFragment(e,{abandoned:t=!1,page:n,referrer:r}={}){const s=this.store.getState().fragments[e];if(!s)throw new Error(`Funnel with id ${e} does not exist.`);const i=t?s.failureEvent:s.successEvent;this.trackEvent({event:i,category:s.category,properties:s.properties,sensitiveProperties:s.sensitiveProperties,page:n??s.page,referrer:s.referrer??r,revenue:s.revenue,value:s.value,currency:s.currency,environmentType:s.environmentType,actionId:s.actionId,uniqueIdentifier:s.uniqueIdentifier?`${s.uniqueIdentifier}-${t?"failure":"success"}`:undefined});const{fragments:o}=this.store.getState();delete o[e],this.store.updateState({fragments:o})}identify(e){const{metaMetricsId:t,participateInMetaMetrics:n}=this.state;if(!n||!t||!e)return;if("object"!=typeof e)return void console.warn("MetaMetricsController#identify: userTraits parameter must be an object. Received type: "+typeof e);const r=this._buildValidTraits(e);this._identify(r)}updateExtensionUninstallUrl(e,n){const r={};e&&(r.mmi=t.from(n).toString("base64"),r.env=this.environment,r.av=this.version);const s=new URLSearchParams(r);this.extension&&this.extension.runtime&&this.extension.runtime.setUninstallURL(`https://metamask.io/uninstalled?${s}`)}async setParticipateInMetaMetrics(e){let{metaMetricsId:t}=this.state;var n;if(e&&!t)await(null===(n=globalThis.sentry)||void 0===n?void 0:n.startSession()),t=this.generateMetaMetricsId();else if(!1===e){var r;await(null===(r=globalThis.sentry)||void 0===r?void 0:r.endSession()),t=null}return this.store.updateState({participateInMetaMetrics:e,metaMetricsId:t}),e&&(this.trackEventsAfterMetricsOptIn(),this.clearEventsAfterMetricsOptIn()),this.updateExtensionUninstallUrl(e,t),t}get state(){return this.store.getState()}trackPage({name:e,params:t,environmentType:n,page:r,referrer:s,actionId:i},o){try{if(!1===this.state.participateInMetaMetrics)return;if(null===this.state.participateInMetaMetrics&&(null==o||!o.isOptInPath))return;const{metaMetricsId:a}=this.state,u=a?"userId":"anonymousId",l=a??c.METAMETRICS_ANONYMOUS_ID;this._submitSegmentAPICall("page",{messageId:m({actionId:i}),[u]:l,name:e,properties:{params:t,locale:this.locale,chain_id:this.chainId,environment_type:n},context:this._buildContext(s,r)})}catch(e){this._captureException(e)}}trackEvent(e,t){this.validatePayload(e),this.submitEvent(e,t).catch((e=>this._captureException(e)))}async submitEvent(e,t){if(this.validatePayload(e),!(this.state.participateInMetaMetrics||null!=t&&t.isOptIn))return;const n=[];if(e.sensitiveProperties){if(!0===(null==t?void 0:t.excludeMetaMetricsId))throw new Error("sensitiveProperties was specified in an event payload that also set the excludeMetaMetricsId flag");const s=(0,r.merge)(e.sensitiveProperties,e.properties);n.push(this._track(this._buildEventPayload({...e,properties:s,isDuplicateAnonymizedEvent:!0}),{...t,excludeMetaMetricsId:!0}))}n.push(this._track(this._buildEventPayload(e),t)),await Promise.all(n)}validatePayload(e){if(!e.event||!e.category)throw new Error(`Must specify event and category. Event was: ${e.event}. Category was: ${e.category}. Payload keys were: ${Object.keys(e)}. ${"object"==typeof e.properties?`Payload property keys were: ${Object.keys(e.properties)}`:""}`)}handleMetaMaskStateUpdate(e){const t=this._buildUserTraitsObject(e);t&&this.identify(t)}trackEventsAfterMetricsOptIn(){const{eventsBeforeMetricsOptIn:e}=this.store.getState();e.forEach((e=>{this.trackEvent(e)}))}clearEventsAfterMetricsOptIn(){this.store.updateState({eventsBeforeMetricsOptIn:[]})}addEventBeforeMetricsOptIn(e){const t=this.store.getState().eventsBeforeMetricsOptIn;this.store.updateState({eventsBeforeMetricsOptIn:[...t,e]})}updateTraits(e){const{traits:t}=this.store.getState();this.store.updateState({traits:{...t,...e}})}_buildContext(e,t=c.METAMETRICS_BACKGROUND_PAGE_OBJECT){return{app:{name:"MetaMask Extension",version:this.version},userAgent:window.navigator.userAgent,page:t,referrer:e}}_buildEventPayload(e){const{event:t,properties:n,revenue:s,value:i,currency:o,category:c,page:u,referrer:l,environmentType:d=a.ENVIRONMENT_TYPE_BACKGROUND}=e;return{event:t,messageId:m(e),properties:{...(0,r.omit)(n,["revenue","locale","currency","value"]),revenue:s,value:i,currency:o,category:c,locale:this.locale,chain_id:(null==n?void 0:n.chain_id)??this.chainId,environment_type:d},context:this._buildContext(l,u)}}_buildUserTraitsObject(e){const{traits:t,previousUserTraits:n}=this.store.getState(),s={[c.MetaMetricsUserTrait.AddressBookEntries]:(0,r.sum)(Object.values(e.addressBook).map(r.size)),[c.MetaMetricsUserTrait.InstallDateExt]:t[c.MetaMetricsUserTrait.InstallDateExt]||"",[c.MetaMetricsUserTrait.LedgerConnectionType]:e.ledgerTransportType,[c.MetaMetricsUserTrait.NetworksAdded]:Object.values(e.networkConfigurations).map((e=>e.chainId)),[c.MetaMetricsUserTrait.NetworksWithoutTicker]:Object.values(e.networkConfigurations).filter((({ticker:e})=>!e)).map((({chainId:e})=>e)),[c.MetaMetricsUserTrait.NftAutodetectionEnabled]:e.useNftDetection,[c.MetaMetricsUserTrait.NumberOfAccounts]:Object.values(e.identities).length,[c.MetaMetricsUserTrait.NumberOfNftCollections]:this._getAllUniqueNFTAddressesLength(e.allNfts),[c.MetaMetricsUserTrait.NumberOfNfts]:this._getAllNFTsFlattened(e.allNfts).length,[c.MetaMetricsUserTrait.NumberOfTokens]:this._getNumberOfTokens(e),[c.MetaMetricsUserTrait.OpenseaApiEnabled]:e.openSeaEnabled,[c.MetaMetricsUserTrait.ThreeBoxEnabled]:!1,[c.MetaMetricsUserTrait.Theme]:e.theme||"default",[c.MetaMetricsUserTrait.TokenDetectionEnabled]:e.useTokenDetection,[c.MetaMetricsUserTrait.SecurityProviders]:e.transactionSecurityCheckEnabled?["opensea"]:[]};if(!n)return this.store.updateState({previousUserTraits:s}),s;if(n&&!(0,r.isEqual)(n,s)){const e=(0,r.pickBy)(s,((e,t)=>!(0,r.isEqual)(n[t],e)));return this.store.updateState({previousUserTraits:s}),e}return null}_buildValidTraits(e){return Object.entries(e).reduce(((e,[t,n])=>(this._isValidTraitDate(n)?e[t]=n.toISOString():this._isValidTrait(n)?e[t]=n:console.warn(`MetaMetricsController: "${t}" value is not a valid trait type`),e)),{})}_getAllUniqueNFTAddressesLength(e={}){const t=this._getAllNFTsFlattened(e).map((e=>e.address));return new Set(t).size}_getNumberOfTokens(e){return Object.values(e.allTokens).reduce(((e,t)=>e+(0,r.sum)(Object.values(t).map(r.size))),0)}_identify(e){const{metaMetricsId:t}=this.state;if(e&&0!==Object.keys(e).length)try{this._submitSegmentAPICall("identify",{userId:t,traits:e})}catch(e){this._captureException(e)}else console.warn("MetaMetricsController#_identify: No userTraits found")}_isValidTrait(e){const t=typeof e;return"string"===t||"boolean"===t||"number"===t||this._isValidTraitArray(e)||this._isValidTraitDate(e)}_track(e,t){const{isOptIn:n,metaMetricsId:r,matomoEvent:s,flushImmediately:i}=t||{};let o="userId",a=this.state.metaMetricsId,u=(null==t?void 0:t.excludeMetaMetricsId)??!1;return Boolean(e.event.match(/^send|^confirm/iu))&&(u=!0),u||n&&!r?(o="anonymousId",a=c.METAMETRICS_ANONYMOUS_ID):n&&r&&(a=r),e[o]=a,!0===s&&(e.properties.legacy_event=!0),new Promise(((t,n)=>{this._submitSegmentAPICall("track",e,(e=>{if(e){const t=new Error(e.message);return t.stack=e.stack,n(t)}return t()})),i&&this.segment.flush()}))}_submitSegmentAPICall(e,t,n){const{metaMetricsId:r,participateInMetaMetrics:s}=this.state;if(!s||!r)return;const i=t.messageId||(0,h.generateRandomId)();let o=new Date;if(t.timestamp){const e=new Date(t.timestamp);(0,h.isValidDate)(e)&&(o=e)}const a={...t,messageId:i,timestamp:o};this.store.updateState({segmentApiCalls:{...this.store.getState().segmentApiCalls,[i]:{eventType:e,payload:{...a,timestamp:a.timestamp.toString()}}}});this.segment[e](a,(e=>{const{segmentApiCalls:t}=this.store.getState();return delete t[i],this.store.updateState({segmentApiCalls:t}),null==n?void 0:n(e)}))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"app/scripts/controllers/metametrics.js"}],[170,{"@metamask/utils":1575,lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,s.cloneDeep)(e);return t.meta.version=i,t.data=function(e){if((0,r.hasProperty)(e,"NetworkController")&&(0,r.isObject)(e.NetworkController)&&(0,r.hasProperty)(e.NetworkController,"provider")){const t=e.NetworkController;return t.providerConfig=t.provider,delete t.provider,{...e,NetworkController:t}}return e}(t.data),t},n.version=void 0;var r=e("@metamask/utils"),s=e("lodash");const i=86;n.version=i}}},{package:"$root$",file:"app/scripts/migrations/086.ts"}],[171,{"@metamask/utils":1575,lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,s.cloneDeep)(e);return t.meta.version=i,t.data=function(e){if(!(0,r.isObject)(e.TokensController))return e;return delete e.TokensController.suggestedAssets,e}(t.data),t},n.version=void 0;var r=e("@metamask/utils"),s=e("lodash");const i=87;n.version=i}}},{package:"$root$",file:"app/scripts/migrations/087.ts"}],[172,{"@metamask/utils":1575,"ethereumjs-util":2780,lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,i.cloneDeep)(e);return t.meta.version=o,function(e){if((0,r.hasProperty)(e,"NftController")&&(0,r.isObject)(e.NftController)){const t=e.NftController;if((0,r.hasProperty)(t,"allNftContracts")&&(0,r.isObject)(t.allNftContracts)){const{allNftContracts:e}=t;Object.keys(e).every((t=>(0,r.isObject)(e[t])))&&Object.keys(e).forEach((t=>{const n=e[t];if((0,r.isObject)(n)){for(const e of Object.keys(n))"undefined"!==e&&e!==undefined||delete n[e];e[t]=(0,i.mapKeys)(n,((e,t)=>a(t)))}}))}if((0,r.hasProperty)(t,"allNfts")&&(0,r.isObject)(t.allNfts)){const{allNfts:e}=t;Object.keys(e).every((t=>(0,r.isObject)(e[t])))&&Object.keys(e).forEach((t=>{const n=e[t];if((0,r.isObject)(n)){for(const e of Object.keys(n))"undefined"!==e&&e!==undefined||delete n[e];e[t]=(0,i.mapKeys)(n,((e,t)=>a(t)))}}))}e.NftController=t}if((0,r.hasProperty)(e,"TokenListController")&&(0,r.isObject)(e.TokenListController)){const t=e.TokenListController;if((0,r.hasProperty)(t,"tokensChainsCache")&&(0,r.isObject)(t.tokensChainsCache)){for(const e of Object.keys(t.tokensChainsCache))"undefined"!==e&&e!==undefined||delete t.tokensChainsCache[e];t.tokensChainsCache=(0,i.mapKeys)(t.tokensChainsCache,((e,t)=>a(t)))}}if((0,r.hasProperty)(e,"TokensController")&&(0,r.isObject)(e.TokensController)){const t=e.TokensController;if((0,r.hasProperty)(t,"allTokens")&&(0,r.isObject)(t.allTokens)){const{allTokens:e}=t;for(const t of Object.keys(e))"undefined"!==t&&t!==undefined||delete e[t];t.allTokens=(0,i.mapKeys)(e,((e,t)=>a(t)))}if((0,r.hasProperty)(t,"allIgnoredTokens")&&(0,r.isObject)(t.allIgnoredTokens)){const{allIgnoredTokens:e}=t;for(const t of Object.keys(e))"undefined"!==t&&t!==undefined||delete e[t];t.allIgnoredTokens=(0,i.mapKeys)(e,((e,t)=>a(t)))}if((0,r.hasProperty)(t,"allDetectedTokens")&&(0,r.isObject)(t.allDetectedTokens)){const{allDetectedTokens:e}=t;for(const t of Object.keys(e))"undefined"!==t&&t!==undefined||delete e[t];t.allDetectedTokens=(0,i.mapKeys)(e,((e,t)=>a(t)))}e.TokensController=t}}(t.data),t},n.version=void 0;var r=e("@metamask/utils"),s=e("ethereumjs-util"),i=e("lodash");const o=88;function a(e){if("string"==typeof e&&(0,r.isStrictHexString)(e))return e;return`0x${s.BN.isBN(e)?e.toString(16):new s.BN(e.toString(),10).toString(16)}`}n.version=o}}},{package:"$root$",file:"app/scripts/migrations/088.ts"}],[173,{"@metamask/utils":1575,lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,s.cloneDeep)(e);return t.meta.version=i,t.data=function(e){if((0,r.hasProperty)(e,"NetworkController")&&(0,r.isObject)(e.NetworkController)&&(0,r.hasProperty)(e.NetworkController,"providerConfig")&&(0,r.isObject)(e.NetworkController.providerConfig)){const{networkConfigurations:t,providerConfig:n}=e.NetworkController;if(!(0,r.isObject)(t))return e;if(n.id)return e;let s;for(const i of Object.keys(t)){const o=t[i];if(!(0,r.isObject)(o))return e;if(o.rpcUrl===n.rpcUrl){s=o.id;break}}return s?(e.NetworkController.providerConfig={...n,id:s},{...e,NetworkController:e.NetworkController}):e}return e}(t.data),t},n.version=void 0;var r=e("@metamask/utils"),s=e("lodash");const i=89;n.version=i}}},{package:"$root$",file:"app/scripts/migrations/089.ts"}],[174,{"@metamask/utils":1575,lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=i,t.data=function(e){if(!(0,s.hasProperty)(e,"PhishingController")||!(0,s.isObject)(e.PhishingController)||!(0,s.hasProperty)(e.PhishingController,"listState"))return e;return delete e.PhishingController.listState,e}(t.data),t},n.version=void 0;var r=e("lodash"),s=e("@metamask/utils");const i=90;n.version=i}}},{package:"$root$",file:"app/scripts/migrations/090.ts"}],[175,{"@metamask/utils":1575,lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,s.cloneDeep)(e);return t.meta.version=i,t.data=function(e){if((0,r.hasProperty)(e,"NetworkController")&&(0,r.isObject)(e.NetworkController)&&(0,r.hasProperty)(e.NetworkController,"networkConfigurations")&&(0,r.isObject)(e.NetworkController.networkConfigurations)){const{networkConfigurations:t}=e.NetworkController;for(const[e,n]of Object.entries(t))(0,r.isObject)(n)&&(n.chainId||delete t[e]);return e.NetworkController={...e.NetworkController,networkConfigurations:t},{...e,NetworkController:e.NetworkController}}return e}(t.data),t},n.version=void 0;var r=e("@metamask/utils"),s=e("lodash");const i=91;n.version=i}}},{package:"$root$",file:"app/scripts/migrations/091.ts"}],[176,{"@metamask/utils":1575,lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=i,t.data=function(e){(0,s.hasProperty)(e,"PhishingController")&&(0,s.isObject)(e.PhishingController)&&(delete e.PhishingController.stalelistLastFetched,delete e.PhishingController.hotlistLastFetched);return e}(t.data),t},n.version=void 0;var r=e("lodash"),s=e("@metamask/utils");const i=92;n.version=i}}},{package:"$root$",file:"app/scripts/migrations/092.ts"}],[177,{"@metamask/utils":1575,lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=i,t.data=function(e){if((0,s.hasProperty)(e,"NetworkController")&&(0,s.isObject)(e.NetworkController)&&(0,s.hasProperty)(e.NetworkController,"providerConfig")&&(0,s.isObject)(e.NetworkController.providerConfig)){const{providerConfig:t}=e.NetworkController;return t.ticker?e:(e.NetworkController.providerConfig={ticker:"ETH",...t},{...e,NetworkController:e.NetworkController})}return e}(t.data),t},n.version=void 0;var r=e("lodash"),s=e("@metamask/utils");const i=93;n.version=i}}},{package:"$root$",file:"app/scripts/migrations/093.ts"}],[178,{"@metamask/controller-utils":1068,"@metamask/network-controller":1350,"@metamask/utils":1575,lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=a,t.data=function(e){if((0,s.hasProperty)(e,"NetworkController")&&(0,s.isObject)(e.NetworkController)&&(0,s.hasProperty)(e.NetworkController,"providerConfig")&&(0,s.isObject)(e.NetworkController.providerConfig)&&((0,s.hasProperty)(e.NetworkController.providerConfig,"id")||(0,s.hasProperty)(e.NetworkController.providerConfig,"type")&&e.NetworkController.providerConfig.type!==o.NetworkType.rpc)){const t=e.NetworkController.providerConfig.id||e.NetworkController.providerConfig.type;if(!t||"string"!=typeof t)return e;const n={[t]:{EIPS:{},status:i.NetworkStatus.Unknown}};if((0,s.hasProperty)(e.NetworkController,"networkDetails")&&(0,s.isObject)(e.NetworkController.networkDetails)){const{networkDetails:r}=e.NetworkController;r.EIPS&&(0,s.isObject)(r.EIPS)&&(n[t].EIPS={...r.EIPS}),delete e.NetworkController.networkDetails}return(0,s.hasProperty)(e.NetworkController,"networkStatus")&&"string"==typeof e.NetworkController.networkStatus&&(n[t].status=e.NetworkController.networkStatus,delete e.NetworkController.networkStatus),{...e,NetworkController:{...e.NetworkController,networksMetadata:n,selectedNetworkClientId:t}}}return e}(t.data),t},n.version=void 0;var r=e("lodash"),s=e("@metamask/utils"),i=e("@metamask/network-controller"),o=e("@metamask/controller-utils");const a=94;n.version=a}}},{package:"$root$",file:"app/scripts/migrations/094.ts"}],[1785,{"@metamask/eth-sig-util":1198},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.transformTypedData=void 0;const o=i(e("@metamask/eth-sig-util"));function a(e){switch(Object.prototype.toString.call(e)){case"[object Object]":{const t=Object.keys(e).map((t=>[t,a(e[t])]));return Object.fromEntries(t)}case"[object Array]":return e.map((e=>a(e)));case"[object BigInt]":return e.toString();default:return e}}n.transformTypedData=(e,t)=>{if(!t)throw new Error("Trezor: Only version 4 of typed data signing is supported");const n=o.SignTypedDataVersion.V4,{types:r,primaryType:s,domain:i,message:c}=o.TypedDataUtils.sanitizeData(e),u=o.TypedDataUtils.hashStruct("EIP712Domain",a(i),r,n).toString("hex");let l=null;return"EIP712Domain"!==s&&(l=o.TypedDataUtils.hashStruct(s,a(c),r,n).toString("hex")),Object.assign({domain_separator_hash:u,message_hash:l},e)},n.default=n.transformTypedData}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-plugin-ethereum",file:"node_modules/@trezor/connect-plugin-ethereum/lib/index.js"}],[1786,{"./inlineStyles":1787,"@trezor/connect/lib/index":1813,"@trezor/connect/lib/utils/urlUtils":1831,"@trezor/utils":1870,tslib:3930},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.clearTimeout=n.postMessage=n.init=n.dispose=n.messagePromises=n.error=n.timeout=n.initPromise=n.origin=n.instance=void 0;const r=e("tslib"),s=e("@trezor/utils"),i=e("@trezor/connect/lib/index"),o=e("@trezor/connect/lib/utils/urlUtils"),a=r.__importDefault(e("./inlineStyles"));n.initPromise=(0,s.createDeferred)(),n.timeout=0;let c=0;n.messagePromises={};n.dispose=()=>{if(n.instance&&n.instance.parentNode)try{n.instance.parentNode.removeChild(n.instance)}catch(e){}n.instance=null,n.timeout=0};n.init=async e=>{var t;n.initPromise=(0,s.createDeferred)();const r=document.getElementById("trezorconnect");let c;if(r?n.instance=r:(n.instance=document.createElement("iframe"),n.instance.frameBorder="0",n.instance.width="0px",n.instance.height="0px",n.instance.style.position="absolute",n.instance.style.display="none",n.instance.style.border="0px",n.instance.style.width="0px",n.instance.style.height="0px",n.instance.id="trezorconnect"),"web"===e.env){const t=e.manifest?JSON.stringify(e.manifest):"undefined",n=`version=${e.version}&manifest=${encodeURIComponent(btoa(JSON.stringify(t)))}`;c=`${e.iframeSrc}?${n}`}else c=e.iframeSrc;n.instance.setAttribute("src",c),e.webusb&&console.warn('webusb option is deprecated. use `transports: ["WebUsbTransport"] instead`'),(e.webusb||(null===(t=e.transports)||void 0===t?void 0:t.includes("WebUsbTransport")))&&n.instance.setAttribute("allow","usb"),n.origin=(0,o.getOrigin)(n.instance.src),n.timeout=window.setTimeout((()=>{n.initPromise.reject(i.ERRORS.TypedError("Init_IframeTimeout"))}),1e4);const u=()=>{var t,r;if(!n.instance)return void n.initPromise.reject(i.ERRORS.TypedError("Init_IframeBlocked"));try{const e=null===(t=n.instance.contentWindow)||void 0===t?void 0:t.location.origin;if(!e||"null"===e)return window.clearTimeout(n.timeout),n.error=i.ERRORS.TypedError("Init_IframeBlocked"),(0,n.dispose)(),void n.initPromise.reject(n.error)}catch(e){}let s;"undefined"!=typeof chrome&&chrome.runtime&&void 0!==chrome.runtime.onConnect&&(chrome.runtime.onConnect.addListener((()=>{})),s=chrome.runtime.id),null===(r=n.instance.contentWindow)||void 0===r||r.postMessage({type:i.IFRAME.INIT,payload:{settings:e,extension:s}},n.origin),n.instance.onload=null};n.instance.attachEvent?n.instance.attachEvent("onload",u):n.instance.onload=u,document.body&&(document.body.appendChild(n.instance),(()=>{if(!n.instance)throw i.ERRORS.TypedError("Init_IframeBlocked");const e=n.instance.ownerDocument,t=e.head||e.getElementsByTagName("head")[0],r=document.createElement("style");r.setAttribute("type","text/css"),r.setAttribute("id","TrezorConnectStylesheet"),r.styleSheet?(r.styleSheet.cssText=a.default,t.appendChild(r)):(r.appendChild(document.createTextNode(a.default)),t.append(r))})());try{await n.initPromise.promise}catch(e){throw n.instance&&(n.instance.parentNode&&n.instance.parentNode.removeChild(n.instance),n.instance=null),e}finally{window.clearTimeout(n.timeout),n.timeout=0}};n.postMessage=(e,t=!0)=>{var r,o;if(!n.instance)throw i.ERRORS.TypedError("Init_IframeBlocked");if(t){c++,e.id=c,n.messagePromises[c]=(0,s.createDeferred)();const{promise:t}=n.messagePromises[c];return null===(r=n.instance.contentWindow)||void 0===r||r.postMessage(e,n.origin),t}return null===(o=n.instance.contentWindow)||void 0===o||o.postMessage(e,n.origin),null};n.clearTimeout=()=>{window.clearTimeout(n.timeout)}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/iframe/index.js"}],[1787,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});n.default='.trezorconnect-container{position:fixed!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-webkit-flex-direction:column!important;-ms-flex-direction:column!important;flex-direction:column!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important;z-index:10000!important;width:100%!important;height:100%!important;top:0!important;left:0!important;background:rgba(0,0,0,.35)!important;overflow:auto!important;padding:20px!important;margin:0!important}.trezorconnect-container .trezorconnect-window{position:relative!important;display:block!important;width:370px!important;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif!important;margin:auto!important;border-radius:3px!important;background-color:#fff!important;text-align:center!important;overflow:hidden!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head{text-align:left;padding:12px 24px!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-logo{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close{cursor:pointer!important;height:24px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close svg{fill:#757575;-webkit-transition:fill .3s ease-in-out!important;transition:fill .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close:hover svg{fill:#494949}.trezorconnect-container .trezorconnect-window .trezorconnect-body{padding:24px 24px 32px!important;background:#FBFBFB!important;border-top:1px solid #EBEBEB}.trezorconnect-container .trezorconnect-window .trezorconnect-body h3{color:#505050!important;font-size:16px!important;font-weight:500!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body p{margin:8px 0 24px!important;font-weight:400!important;color:#A9A9A9!important;font-size:12px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button{width:100%!important;padding:12px 24px!important;margin:0!important;border-radius:3px!important;font-size:14px!important;font-weight:300!important;cursor:pointer!important;background:#01B757!important;color:#fff!important;border:0!important;-webkit-transition:background-color .3s ease-in-out!important;transition:background-color .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:hover{background-color:#00AB51!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:active{background-color:#009546!important}/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0IiwiJHN0ZGluIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWNBLHlCQUNJLFNBQUEsZ0JBQ0EsUUFBQSxzQkFDQSxRQUFBLHVCQUNBLFFBQUEsc0JBRUEsUUFBQSxlQUNBLG1CQUFBLG1CQUNBLHNCQUFBLGlCQUNBLHVCQUFBLGlCQUNBLG1CQUFBLGlCQUNBLGVBQUEsaUJBRUEsa0JBQUEsaUJBQ0Esb0JBQUEsaUJBQ0EsZUFBQSxpQkNmTSxZQUFhLGlCREFyQixRQUFTLGdCQWtCSCxNQUFBLGVBQ0EsT0FBQSxlQUNBLElBQUEsWUFDQSxLQUFBLFlBQ0EsV0FBQSwwQkFDQSxTQUFBLGVBQ0EsUUFBQSxlQUNBLE9BQUEsWUNkUiwrQ0RYRSxTQUFVLG1CQTZCQSxRQUFBLGdCQUNBLE1BQUEsZ0JBQ0EsWUFBQSxjQUFBLG1CQUFBLFdBQUEsT0FBQSxpQkFBQSxNQUFBLHFCQUNBLE9BQUEsZUNmVixjQUFlLGNEakJmLGlCQWlCRSxlQWtCWSxXQUFBLGlCQ2ZkLFNBQVUsaUJEbUJJLG1FQUNBLFdBQUEsS0NoQmQsUUFBUyxLQUFLLGVEeEJkLFFBQVMsc0JBMENTLFFBQUEsdUJBQ0EsUUFBQSxzQkNmbEIsUUFBUyxlRGlCSyxrQkE1QlosaUJBOEJvQixvQkFBQSxpQkNoQmxCLGVBQWdCLGlCRC9CWixZQWlCTixpQkFzQ1EsdUZBQ0EsaUJBQUEsRUNwQlYsYUFBYyxFRHBDVixTQUFVLEVBMkRBLEtBQUEsRUFFQSx3RkNwQmQsT0FBUSxrQkR6Q1IsT0FBUSxlQWlFTSw0RkFDQSxLQUFBLFFBQ0EsbUJBQUEsS0FBQSxJQUFBLHNCQ3BCZCxXQUFZLEtBQUssSUFBSyxzQkR3QlIsa0dBQ0EsS0FBQSxRQUVBLG1FQUNBLFFBQUEsS0FBQSxLQUFBLGVBQ0EsV0FBQSxrQkFDQSxXQUFBLElBQUEsTUFBQSxRQUVBLHNFQUNBLE1BQUEsa0JBQ0EsVUFBQSxlQ3JCZCxZQUFhLGNEd0JLLHFFQ3JCbEIsT0FBUSxJQUFJLEVBQUksZUR3QkYsWUFBQSxjQUNJLE1BQUEsa0JDdEJsQixVQUFXLGVBRWIsMEVBQ0UsTUFBTyxlQUNQLFFBQVMsS0FBSyxlQUNkLE9BQVEsWUFDUixjQUFlLGNBQ2YsVUFBVyxlQUNYLFlBQWEsY0FDYixPQUFRLGtCQUNSLFdBQVksa0JBQ1osTUFBTyxlQUNQLE9BQVEsWUFDUixtQkFBb0IsaUJBQWlCLElBQUssc0JBQzFDLFdBQVksaUJBQWlCLElBQUssc0JBRXBDLGdGQUNFLGlCQUFrQixrQkFFcEIsaUZBQ0UsaUJBQWtCIn0= */'}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/iframe/inlineStyles.js"}],[1788,{"./iframe":1786,"./popup":1789,"./webusb/button":1791,"@trezor/connect/lib/data/config":1797,"@trezor/connect/lib/exports":1811,"@trezor/connect/lib/factory":1812,"@trezor/connect/lib/utils/debug":1830,events:2427,tslib:3930},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("tslib"),s=r.__importDefault(e("events")),i=e("@trezor/connect/lib/exports"),o=e("@trezor/connect/lib/factory"),a=e("@trezor/connect/lib/utils/debug"),c=e("@trezor/connect/lib/data/config"),u=r.__importStar(e("./iframe")),l=r.__importStar(e("./popup")),d=r.__importDefault(e("./webusb/button")),h=new s.default,p=(0,a.initLog)("@trezor/connect");let f,m=(0,i.parseConnectSettings)();const g=()=>{const e=new l.PopupManager(m);return e.on(i.POPUP.CLOSED,(e=>{u.postMessage({type:i.POPUP.CLOSED,payload:e?{error:e}:null},!1)})),e},y=()=>(h.removeAllListeners(),u.dispose(),m=(0,i.parseConnectSettings)(),f&&f.close(),Promise.resolve(undefined)),b=e=>{if(e.origin!==u.origin)return;const t=(0,i.parseMessage)(e.data),n=t.id||0;switch(p.log("handleMessage",t),t.event){case i.RESPONSE_EVENT:u.messagePromises[n]?(u.messagePromises[n].resolve({id:n,success:t.success,payload:t.payload}),delete u.messagePromises[n]):p.warn(`Unknown message id ${n}`);break;case i.DEVICE_EVENT:case i.TRANSPORT_EVENT:case i.BLOCKCHAIN_EVENT:h.emit(t.event,t),h.emit(t.type,t.payload);break;case i.UI_EVENT:if(t.type===i.IFRAME.BOOTSTRAP){u.clearTimeout();break}t.type===i.IFRAME.LOADED&&u.initPromise.resolve(),t.type===i.IFRAME.ERROR&&u.initPromise.reject(t.payload.error),h.emit(t.event,t),h.emit(t.type,t.payload);break;default:p.log("Undefined message",t.event,e)}},w=async(e={})=>{var t;if(u.instance)throw i.ERRORS.TypedError("Init_AlreadyInitialized");if(m=(0,i.parseConnectSettings)(Object.assign(Object.assign({},m),e)),!m.manifest)throw i.ERRORS.TypedError("Init_ManifestMissing");(null===(t=m.transports)||void 0===t?void 0:t.length)||(m.transports=["BridgeTransport","WebUsbTransport"]),m.lazyLoad?m.lazyLoad=!1:(f||(f=g()),p.enabled=!!m.debug,window.addEventListener("message",b),window.addEventListener("unload",y),await u.init(m))},v=async e=>{if(!u.instance&&!u.timeout){if(m=(0,i.parseConnectSettings)(m),!m.manifest)return(0,i.createErrorMessage)(i.ERRORS.TypedError("Init_ManifestMissing"));f||(f=g()),f.request(!0);try{await w(m)}catch(e){return f&&(["Init_IframeBlocked","Init_IframeTimeout"].includes(e.code)?f.postMessage((0,i.createUiMessage)(i.UI.IFRAME_FAILURE)):f.close()),(0,i.createErrorMessage)(e)}}if(u.timeout)return(0,i.createErrorMessage)(i.ERRORS.TypedError("Init_ManifestMissing"));if(u.error)return(0,i.createErrorMessage)(u.error);m.popup&&f&&f.request();try{const t=await u.postMessage({type:i.IFRAME.CALL,payload:e});return t?(!t.success&&"Device_CallInProgress"!==t.payload.code&&f&&f.unlock(),t):(f&&f.unlock(),(0,i.createErrorMessage)(i.ERRORS.TypedError("Method_NoResponse")))}catch(e){return p.error("__call error",e),f&&f.close(),(0,i.createErrorMessage)(e)}},k=(0,o.factory)({eventEmitter:h,manifest:e=>{m=(0,i.parseConnectSettings)(Object.assign(Object.assign({},m),{manifest:e}))},init:w,call:v,requestLogin:async e=>{if("function"==typeof e.callback){const{callback:t}=e,n=async e=>{const{data:n}=e;if(n&&n.type===i.UI.LOGIN_CHALLENGE_REQUEST)try{const e=await t();u.postMessage({event:i.UI_EVENT,type:i.UI.LOGIN_CHALLENGE_RESPONSE,payload:e})}catch(e){u.postMessage({event:i.UI_EVENT,type:i.UI.LOGIN_CHALLENGE_RESPONSE,payload:e.message})}};window.addEventListener("message",n,!1);const r=await v(Object.assign(Object.assign({method:"requestLogin"},e),{asyncChallenge:!0,callback:null}));return window.removeEventListener("message",n),r}return v(Object.assign({method:"requestLogin"},e))},uiResponse:e=>{if(!u.instance)throw i.ERRORS.TypedError("Init_NotInitialized");const{type:t,payload:n}=e;u.postMessage({event:i.UI_EVENT,type:t,payload:n})},renderWebUSBButton:e=>{(0,d.default)(e,m.webusbSrc)},disableWebUSB:()=>{if(!u.instance)throw i.ERRORS.TypedError("Init_NotInitialized");u.postMessage({event:i.UI_EVENT,type:i.TRANSPORT.DISABLE_WEBUSB})},requestWebUSBDevice:async()=>{try{await window.navigator.usb.requestDevice({filters:c.config.webusb}),u.postMessage({event:i.UI_EVENT,type:i.TRANSPORT.REQUEST_DEVICE})}catch(e){}},cancel:e=>{f&&f.emit(i.POPUP.CLOSED,e)},dispose:y});n.default=k,r.__exportStar(e("@trezor/connect/lib/exports"),n)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/index.js"}],[1789,{"./showPopupRequest":1790,"@trezor/connect/lib/index":1813,"@trezor/connect/lib/utils/urlUtils":1831,"@trezor/utils":1870,events:2427,tslib:3930},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PopupManager=void 0;const r=e("tslib").__importDefault(e("events")),s=e("@trezor/utils"),i=e("@trezor/connect/lib/index"),o=e("@trezor/connect/lib/utils/urlUtils"),a=e("./showPopupRequest");class c extends r.default{constructor(e){super(),this.locked=!1,this.requestTimeout=0,this.closeInterval=0,this.extensionTabId=0,this.settings=e,this.origin=(0,o.getOrigin)(e.popupSrc),this.handleMessage=this.handleMessage.bind(this),this.iframeHandshake=(0,s.createDeferred)(i.IFRAME.LOADED),"webextension"===this.settings.env&&(this.handleExtensionConnect=this.handleExtensionConnect.bind(this),this.handleExtensionMessage=this.handleExtensionMessage.bind(this),chrome.runtime.onConnect.addListener(this.handleExtensionConnect)),window.addEventListener("message",this.handleMessage,!1)}request(e=!1){if(this.locked)return void(this._window&&("webextension"===this.settings.env?chrome.tabs.update(this._window.id,{active:!0}):this._window.focus()));const t=this.open.bind(this);if(this.locked=!0,this.settings.supportedBrowser){const n=e||"webextension"===this.settings.env?1:850;this.requestTimeout=window.setTimeout((()=>{this.requestTimeout=0,t(e)}),n)}else t()}cancel(){this.close()}unlock(){this.locked=!1}open(e){const t=this.settings.popupSrc;this.settings.supportedBrowser?(this.popupPromise=(0,s.createDeferred)(i.POPUP.LOADED),this.openWrapper(e?`${t}#loading`:t),this.closeInterval=window.setInterval((()=>{this._window&&("webextension"===this.settings.env?chrome.tabs.get(this._window.id,(e=>{e||(this.close(),this.emit(i.POPUP.CLOSED))})):this._window.closed&&(this.close(),this.emit(i.POPUP.CLOSED)))}),500),this.openTimeout=setTimeout((()=>{this.close(),(0,a.showPopupRequest)(this.open.bind(this),(()=>{this.emit(i.POPUP.CLOSED)}))}),3e3)):this.openWrapper(`${t}#unsupported`)}openWrapper(e){"webextension"===this.settings.env?chrome.windows.getCurrent((t=>{"normal"!==t.type?chrome.windows.create({url:e},(e=>{chrome.tabs.query({windowId:null==e?void 0:e.id,active:!0},(e=>{this._window=e[0]}))})):chrome.tabs.query({currentWindow:!0,active:!0},(t=>{this.extensionTabId=t[0].id,chrome.tabs.create({url:e,index:t[0].index+1},(e=>{this._window=e}))}))})):"electron"===this.settings.env?this._window=window.open(e,"modal"):(this._window=window.open("","_blank"),this._window&&(this._window.location.href=e))}handleExtensionConnect(e){var t,n;"trezor-connect"===e.name&&(!this._window||this._window&&this._window.id!==(null===(n=null===(t=e.sender)||void 0===t?void 0:t.tab)||void 0===n?void 0:n.id)?e.disconnect():(this.openTimeout&&clearTimeout(this.openTimeout),this.extensionPort=e,this.extensionPort.onMessage.addListener(this.handleExtensionMessage)))}handleExtensionMessage(e){if(!this.extensionPort)return;const t=this.extensionPort,{data:n}=e;if(n&&"object"==typeof n)if(n.type===i.POPUP.ERROR){const e=n.payload&&"string"==typeof n.payload.error?n.payload.error:null;this.emit(i.POPUP.CLOSED,e?`Popup error: ${e}`:null),this.close()}else n.type===i.POPUP.LOADED?(this.popupPromise&&this.popupPromise.resolve(),this.iframeHandshake.promise.then((e=>{t.postMessage({type:i.POPUP.INIT,payload:{settings:this.settings,useBroadcastChannel:e}})}))):n.type===i.POPUP.EXTENSION_USB_PERMISSIONS?chrome.tabs.query({currentWindow:!0,active:!0},(e=>{chrome.tabs.create({url:"trezor-usb-permissions.html",index:e[0].index+1},(e=>{}))})):n.type===i.POPUP.CLOSE_WINDOW&&(this.emit(i.POPUP.CLOSED),this.close())}handleMessage(e){const{data:t}=e;if((0,o.getOrigin)(e.origin)===this.origin&&t&&"object"==typeof t)if(t.type===i.IFRAME.LOADED){const e=!(!t.payload||"boolean"!=typeof t.payload.useBroadcastChannel)&&t.payload.useBroadcastChannel;this.iframeHandshake.resolve(e)}else if(t.type===i.POPUP.BOOTSTRAP)this.openTimeout&&clearTimeout(this.openTimeout);else if(t.type===i.POPUP.ERROR&&this._window){const e=t.payload&&"string"==typeof t.payload.error?t.payload.error:null;this.emit(i.POPUP.CLOSED,e?`Popup error: ${e}`:null),this.close()}else t.type===i.POPUP.LOADED?(this.popupPromise&&this.popupPromise.resolve(),this.iframeHandshake.promise.then((e=>{this._window.postMessage({type:i.POPUP.INIT,payload:{settings:this.settings,useBroadcastChannel:e}},this.origin)}))):t.type!==i.POPUP.CANCEL_POPUP_REQUEST&&t.type!==i.UI.CLOSE_UI_WINDOW||this.close()}close(){if(this.locked=!1,this.popupPromise=undefined,this.requestTimeout&&(window.clearTimeout(this.requestTimeout),this.requestTimeout=0),this.openTimeout&&(clearTimeout(this.openTimeout),this.openTimeout=undefined),this.closeInterval&&(window.clearInterval(this.closeInterval),this.closeInterval=0),this.extensionPort&&(this.extensionPort.disconnect(),this.extensionPort=undefined),this.extensionTabId&&(chrome.tabs.update(this.extensionTabId,{active:!0}),this.extensionTabId=0),this._window){if("webextension"===this.settings.env){let e=chrome.runtime.lastError;chrome.tabs.remove(this._window.id,(()=>{e=chrome.runtime.lastError}))}else this._window.close();this._window=null}}async postMessage(e){if(!this._window&&e.type!==i.UI.REQUEST_UI_WINDOW&&this.openTimeout)return this.close(),void(0,a.showPopupRequest)(this.open.bind(this),(()=>{this.emit(i.POPUP.CLOSED)}));this.popupPromise&&await this.popupPromise.promise,this._window&&this._window.postMessage(e,this.origin)}}n.PopupManager=c}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/popup/index.js"}],[179,{"../../../shared/constants/transaction":4029,lodash:3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){return function(i){const o=(0,r.cloneDeep)(i);o.meta.version=e;try{const e=function(e,t,n){const r=e,{TransactionController:i}=r;if(i&&i.transactions){const{transactions:e}=i;r.TransactionController.transactions=e.map((e=>t(e)?(e.status=s.TransactionStatus.failed,e.err={message:n,note:`Tx automatically failed by migration because ${n}`},e):e))}return r}(o.data,n,t);o.data=e}catch(t){console.warn(`MetaMask Migration #${e}${t.stack}`)}return Promise.resolve(o)}};var r=e("lodash"),s=e("../../../shared/constants/transaction")}}},{package:"$root$",file:"app/scripts/migrations/fail-tx.js"}],[1790,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.showPopupRequest=void 0;const r="TrezorConnectInteractionLayer",s=`\n    <div class="trezorconnect-container" id="${r}">\n        <div class="trezorconnect-window">\n            <div class="trezorconnect-head">\n                <svg class="trezorconnect-logo" x="0px" y="0px" viewBox="0 0 163.7 41.9" width="78px" height="20px" preserveAspectRatio="xMinYMin meet">\n                    <polygon points="101.1,12.8 118.2,12.8 118.2,17.3 108.9,29.9 118.2,29.9 118.2,35.2 101.1,35.2 101.1,30.7 110.4,18.1 101.1,18.1"/>\n                    <path d="M158.8,26.9c2.1-0.8,4.3-2.9,4.3-6.6c0-4.5-3.1-7.4-7.7-7.4h-10.5v22.3h5.8v-7.5h2.2l4.1,7.5h6.7L158.8,26.9z M154.7,22.5 h-4V18h4c1.5,0,2.5,0.9,2.5,2.2C157.2,21.6,156.2,22.5,154.7,22.5z"/>\n                    <path d="M130.8,12.5c-6.8,0-11.6,4.9-11.6,11.5s4.9,11.5,11.6,11.5s11.7-4.9,11.7-11.5S137.6,12.5,130.8,12.5z M130.8,30.3 c-3.4,0-5.7-2.6-5.7-6.3c0-3.8,2.3-6.3,5.7-6.3c3.4,0,5.8,2.6,5.8,6.3C136.6,27.7,134.2,30.3,130.8,30.3z"/>\n                    <polygon points="82.1,12.8 98.3,12.8 98.3,18 87.9,18 87.9,21.3 98,21.3 98,26.4 87.9,26.4 87.9,30 98.3,30 98.3,35.2 82.1,35.2 "/>\n                    <path d="M24.6,9.7C24.6,4.4,20,0,14.4,0S4.2,4.4,4.2,9.7v3.1H0v22.3h0l14.4,6.7l14.4-6.7h0V12.9h-4.2V9.7z M9.4,9.7 c0-2.5,2.2-4.5,5-4.5s5,2,5,4.5v3.1H9.4V9.7z M23,31.5l-8.6,4l-8.6-4V18.1H23V31.5z"/>\n                    <path d="M79.4,20.3c0-4.5-3.1-7.4-7.7-7.4H61.2v22.3H67v-7.5h2.2l4.1,7.5H80l-4.9-8.3C77.2,26.1,79.4,24,79.4,20.3z M71,22.5h-4V18 h4c1.5,0,2.5,0.9,2.5,2.2C73.5,21.6,72.5,22.5,71,22.5z"/>\n                    <polygon points="40.5,12.8 58.6,12.8 58.6,18.1 52.4,18.1 52.4,35.2 46.6,35.2 46.6,18.1 40.5,18.1 "/>\n                </svg>\n                <div class="trezorconnect-close">\n                    <svg x="0px" y="0px" viewBox="24 24 60 60" width="24px" height="24px" preserveAspectRatio="xMinYMin meet">\n                        <polygon class="st0" points="40,67.9 42.1,70 55,57.1 67.9,70 70,67.9 57.1,55 70,42.1 67.9,40 55,52.9 42.1,40 40,42.1 52.9,55 "/>\n                    </svg>\n                </div>\n            </div>\n            <div class="trezorconnect-body">\n                <h3>Popup was blocked</h3>\n                <p>Please click to "Continue" to open popup manually</p>\n                <button class="trezorconnect-open">Continue</button>\n            </div>\n        </div>\n    </div>\n`;n.showPopupRequest=(e,t)=>{if(document.getElementById(r))return;const n=document.createElement("div");n.id=r,n.className="trezorconnect-container",n.innerHTML=s,document.body&&document.body.appendChild(n);n.getElementsByClassName("trezorconnect-open")[0].onclick=()=>{e(),document.body&&document.body.removeChild(n)};n.getElementsByClassName("trezorconnect-close")[0].onclick=()=>{t(),document.body&&document.body.removeChild(n)}}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/popup/showPopupRequest.js"}],[1791,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});n.default=(e="",t)=>{const n=e||".trezor-webusb-button",r=document.querySelectorAll(n),s=`${t}?${Date.now()}`;r.forEach((e=>{if(e.getElementsByTagName("iframe").length<1){const t=e.getBoundingClientRect(),n=document.createElement("iframe");n.frameBorder="0",n.width=`${Math.round(t.width)}px`,n.height=`${Math.round(t.height)}px`,n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.zIndex="1",n.setAttribute("allow","usb"),n.setAttribute("scrolling","no"),n.src=s,e.append(n)}}))}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/webusb/button.js"}],[1792,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NETWORK_IDS=n.PROTOCOL_MAGICS=void 0,function(e){e[e.mainnet=764824073]="mainnet",e[e.testnet_preprod=1]="testnet_preprod",e[e.testnet_preview=2]="testnet_preview",e[e.testnet_legacy=1097911063]="testnet_legacy"}(n.PROTOCOL_MAGICS||(n.PROTOCOL_MAGICS={})),function(e){e[e.mainnet=1]="mainnet",e[e.testnet=0]="testnet"}(n.NETWORK_IDS||(n.NETWORK_IDS={}))}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/cardano.js"}],[1793,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.LIBUSB_ERROR_MESSAGE=n.WEBUSB_ERROR_MESSAGE=n.INVALID_PIN_ERROR_MESSAGE=n.WRONG_PREVIOUS_SESSION_ERROR_MESSAGE=n.serializeError=n.TypedError=n.TrezorError=n.ERROR_CODES=void 0,n.ERROR_CODES={Init_NotInitialized:"TrezorConnect not initialized",Init_AlreadyInitialized:"TrezorConnect has been already initialized",Init_IframeBlocked:"Iframe blocked",Init_IframeTimeout:"Iframe timeout",Init_ManifestMissing:"Manifest not set. Read more at https://github.com/trezor/trezor-suite/blob/develop/docs/packages/connect/index.md",Popup_ConnectionMissing:"Unable to establish connection with iframe",Transport_Missing:"Transport is missing",Transport_InvalidProtobuf:"",Method_InvalidPackage:"This package is not suitable to work with browser. Use @trezor/connect-web package instead",Method_InvalidParameter:"",Method_NotAllowed:"Method not allowed for this configuration",Method_PermissionsNotGranted:"Permissions not granted",Method_Cancel:"Cancelled",Method_Interrupted:"Popup closed",Method_UnknownCoin:"Coin not found",Method_AddressNotMatch:"Addresses do not match",Method_FirmwareUpdate_DownloadFailed:"Failed to download firmware binary",Method_Discovery_BundleException:"",Method_Override:"override",Method_NoResponse:"Call resolved without response",Backend_NotSupported:"BlockchainLink settings not found in coins.json",Backend_WorkerMissing:"",Backend_Disconnected:"Backend disconnected",Backend_Invalid:"Invalid backend",Backend_Error:"",Runtime:"",Device_NotFound:"Device not found",Device_InitializeFailed:"",Device_FwException:"",Device_ModeException:"",Device_Disconnected:"Device disconnected",Device_UsedElsewhere:"Device is used in another window",Device_InvalidState:"Passphrase is incorrect",Device_CallInProgress:"Device call in progress"};class r extends Error{constructor(e,t){super(t),this.code=e,this.message=t}}n.TrezorError=r;n.TypedError=(e,t)=>new r(e,t||n.ERROR_CODES[e]);n.serializeError=e=>e&&e.error instanceof Error?{error:e.error.message,code:e.error.code}:e,n.WRONG_PREVIOUS_SESSION_ERROR_MESSAGE="wrong previous session",n.INVALID_PIN_ERROR_MESSAGE="PIN invalid",n.WEBUSB_ERROR_MESSAGE="NetworkError: Unable to claim interface.",n.LIBUSB_ERROR_MESSAGE="LIBUSB_ERROR"}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/errors.js"}],[1794,{"./cardano":1792,"./errors":1793,"./nem":1795,"./network":1796,"@trezor/transport/lib/types/messages":1851,tslib:3930},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PROTO=n.NEM=n.CARDANO=n.NETWORK=n.ERRORS=void 0;const r=e("tslib");n.ERRORS=r.__importStar(e("./errors")),n.NETWORK=r.__importStar(e("./network")),n.CARDANO=r.__importStar(e("./cardano")),n.NEM=r.__importStar(e("./nem")),n.PROTO=r.__importStar(e("@trezor/transport/lib/types/messages"))}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/index.js"}],[1795,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TxVersion=n.TxType=n.Networks=void 0,function(e){e[e.mainnet=104]="mainnet",e[e.testnet=152]="testnet",e[e.mijin=96]="mijin"}(n.Networks||(n.Networks={})),function(e){e[e.TRANSFER=257]="TRANSFER",e[e.COSIGNING=258]="COSIGNING",e[e.IMPORTANCE_TRANSFER=2049]="IMPORTANCE_TRANSFER",e[e.AGGREGATE_MODIFICATION=4097]="AGGREGATE_MODIFICATION",e[e.MULTISIG_SIGNATURE=4098]="MULTISIG_SIGNATURE",e[e.MULTISIG=4100]="MULTISIG",e[e.PROVISION_NAMESPACE=8193]="PROVISION_NAMESPACE",e[e.MOSAIC_CREATION=16385]="MOSAIC_CREATION",e[e.SUPPLY_CHANGE=16386]="SUPPLY_CHANGE"}(n.TxType||(n.TxType={})),function(e){e[e.mainnet=1744830464]="mainnet",e[e.testnet=-1744830464]="testnet",e[e.mijin=1610612736]="mijin"}(n.TxVersion||(n.TxVersion={}))}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/nem.js"}],[1796,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TYPES=void 0,n.TYPES={bitcoin:"Bitcoin",ethereum:"Ethereum",eos:"Eos",nem:"NEM",stellar:"Stellar",cardano:"Cardano",ripple:"Ripple",tezos:"Tezos",binance:"Binance"}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/network.js"}],[1797,{"@trezor/transport":1837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.config=void 0;const r=e("@trezor/transport");n.config={webusb:r.TREZOR_DESCS,whitelist:[{origin:"chrome-extension://imloifkgjagghnncjkhggdhalmcnfklk",priority:1},{origin:"chrome-extension://niebkpllfhmpfbffbfifagfgoamhpflf",priority:1},{origin:"file://",priority:2},{origin:"trezor.io",priority:0},{origin:"sldev.cz",priority:0},{origin:"localhost",priority:0},{origin:"trezoriovpjcahpzkrewelclulmszwbqpzmzgub37gbcjlvluxtruqad.onion",priority:0}],management:[{origin:"trezor.io"},{origin:"sldev.cz"},{origin:"localhost"}],knownHosts:[{origin:"imloifkgjagghnncjkhggdhalmcnfklk",label:"Trezor Password Manager (Develop)",icon:""},{origin:"niebkpllfhmpfbffbfifagfgoamhpflf",label:"Trezor Password Manager",icon:""},{origin:"trezor-connect@trezor.io",label:"Trezor Connect FF Extension",icon:""},{origin:"efbfhenfhihgdcmnfdkhaphjdnopihlf",label:"Trezor Connect Chrome Extension",icon:""},{origin:"mnpfhpndmjholfdlhpkjfmjkgppmodaf",label:"MetaMask",icon:""},{origin:"webextension@metamask.io",label:"MetaMask",icon:""},{origin:"file://",label:" ",icon:""}],onionDomains:{"trezor.io":"trezoriovpjcahpzkrewelclulmszwbqpzmzgub37gbcjlvluxtruqad.onion"},assets:[{name:"coins",url:"./data/coins.json"},{name:"bridge",url:"./data/bridge/releases.json"},{name:"firmware-t1",url:"./data/firmware/1/releases.json"},{name:"firmware-t2",url:"./data/firmware/2/releases.json"}],messages:"./data/messages/messages.json",supportedBrowsers:{chrome:{version:59,download:"https://www.google.com/chrome/",update:"https://support.google.com/chrome/answer/95414"},chromium:{version:59,download:"https://www.chromium.org/",update:"https://www.chromium.org/"},electron:{version:0,download:"https://www.electronjs.org/",update:"https://www.electronjs.org/"},firefox:{version:54,download:"https://www.mozilla.org/en-US/firefox/new/",update:"https://support.mozilla.org/en-US/kb/update-firefox-latest-version"}},supportedFirmware:[{coin:["xrp","txrp"],methods:["getAccountInfo"],min:["0","2.1.0"],max:undefined,comment:["Since firmware 2.1.0 there is a new protobuf field 'destination_tag' in RippleSignTx"]},{coin:["bnb"],min:["1.9.0","2.3.0"],comment:["There were protobuf backwards incompatible changes with introduction of 1.9.0/2.3.0 firmwares"]},{coin:["eth","trop","tgor"],min:["1.8.0","2.1.0"],comment:["There were protobuf backwards incompatible changes."]},{methods:["rippleGetAddress","rippleSignTransaction"],min:["0","2.1.0"],comment:["Since firmware 2.1.0 there is a new protobuf field 'destination_tag' in RippleSignTx"]},{methods:["cardanoGetAddress","cardanoGetPublicKey"],min:["0","2.3.2"],comment:["Shelley fork support since firmware 2.3.2"]},{methods:["cardanoSignTransaction"],min:["0","2.4.2"],comment:["Non-streamed signing no longer supported"]},{methods:["cardanoGetNativeScriptHash"],min:["0","2.4.3"],comment:["Cardano GetNativeScriptHash call added in 2.4.3"]},{methods:["tezosSignTransaction"],min:["0","2.1.8"],comment:["Since 2.1.8 there are new protobuf fields in tezos transaction (Babylon fork)"]},{methods:["stellarSignTransaction"],min:["1.9.0","2.3.0"],comment:["There were protobuf backwards incompatible changes with introduction of 1.9.0/2.3.0 firmwares"]},{capabilities:["replaceTransaction","amountUnit"],min:["1.9.4","2.3.5"],comment:["new sign tx process since 1.9.4/2.3.5"]},{capabilities:["decreaseOutput"],min:["1.10.0","2.4.0"],comment:["allow reduce output in RBF transaction since 1.10.0/2.4.0"]},{capabilities:["eip1559"],min:["1.10.4","2.4.2"],comment:["new eth transaction pricing mechanism (EIP1559) since 1.10.4/2.4.2"]},{capabilities:["taproot","signMessageNoScriptType"],min:["1.10.4","2.4.3"],comment:["new btc accounts taproot since 1.10.4/2.4.3 (BTC + TEST only)","SignMessage with no_script_type support"]},{coin:["dcr","tdcr"],methods:["signTransaction"],min:["1.10.1","2.4.0"],comment:[""]},{methods:["ethereumSignTypedData"],min:["1.10.5","2.4.3"],comment:["EIP-712 typed signing support added in 1.10.5/2.4.3"]},{capabilities:["eip712-domain-only"],min:["1.10.6","2.4.4"],comment:["EIP-712 domain-only signing, when primaryType=EIP712Domain"]},{capabilities:["coinjoin"],methods:["authorizeCoinjoin","getOwnershipId","getOwnershipProof"],min:["0","2.5.3"]}]}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/data/config.js"}],[1798,{"./version":1799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseConnectSettings=n.corsValidator=n.getEnv=n.DEFAULT_PRIORITY=void 0;const r=e("./version");n.DEFAULT_PRIORITY=2;const s={configSrc:"./data/config.json",version:r.VERSION,debug:!1,priority:n.DEFAULT_PRIORITY,trustedHost:!1,connectSrc:r.DEFAULT_DOMAIN,iframeSrc:`${r.DEFAULT_DOMAIN}iframe.html`,popup:!0,popupSrc:`${r.DEFAULT_DOMAIN}popup.html`,webusbSrc:`${r.DEFAULT_DOMAIN}webusb.html`,transports:undefined,pendingTransportEvent:!0,supportedBrowser:"undefined"==typeof navigator||!/Trident|MSIE|Edge/.test(navigator.userAgent),env:"web",lazyLoad:!1,timestamp:(new Date).getTime(),interactionTimeout:600};n.getEnv=()=>{if("undefined"!=typeof chrome&&chrome.runtime&&void 0!==chrome.runtime.onConnect)return"webextension";if("undefined"!=typeof navigator){if("string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase())return"react-native";if(navigator.userAgent.toLowerCase().indexOf(" electron/")>-1)return"electron"}return"web"};n.corsValidator=e=>{if("string"==typeof e)return e.match(/^https:\/\/([A-Za-z0-9\-_]+\.)*trezor\.io\//)||e.match(/^https?:\/\/localhost:[58][0-9]{3}\//)||e.match(/^https:\/\/([A-Za-z0-9\-_]+\.)*sldev\.cz\//)||e.match(/^https?:\/\/([A-Za-z0-9\-_]+\.)*trezoriovpjcahpzkrewelclulmszwbqpzmzgub37gbcjlvluxtruqad\.onion\//)?e:void 0};n.parseConnectSettings=(e={})=>{const t={...s};let i;if(Object.prototype.hasOwnProperty.call(e,"debug")&&(Array.isArray(e),"boolean"==typeof e.debug?t.debug=e.debug:"string"==typeof e.debug&&(t.debug="true"===e.debug)),"string"==typeof e.connectSrc&&(t.connectSrc=e.connectSrc),"undefined"!=typeof window?i=window.__TREZOR_CONNECT_SRC:"undefined"!=typeof global&&(i=global.__TREZOR_CONNECT_SRC),"string"==typeof i&&(t.connectSrc=(0,n.corsValidator)(i),t.debug=!0),"undefined"!=typeof window&&window.location&&"string"==typeof window.location.search){const e=window.location.search.split("&").find((e=>e.indexOf("trezor-connect-src")>=0));if(e){const[,r]=e.split("=");t.connectSrc=(0,n.corsValidator)(decodeURIComponent(r)),t.debug=!0}}const o=t.connectSrc||r.DEFAULT_DOMAIN;return t.iframeSrc=`${o}iframe.html`,t.popupSrc=`${o}popup.html`,t.webusbSrc=`${o}webusb.html`,"boolean"==typeof e.transportReconnect&&(t.transportReconnect=e.transportReconnect),"boolean"==typeof e.webusb&&(t.webusb=e.webusb),Array.isArray(e.transports)&&(t.transports=e.transports),"boolean"==typeof e.popup&&(t.popup=e.popup),"boolean"==typeof e.lazyLoad&&(t.lazyLoad=e.lazyLoad),"boolean"==typeof e.pendingTransportEvent&&(t.pendingTransportEvent=e.pendingTransportEvent),"undefined"!=typeof window&&window.location&&"file:"===window.location.protocol&&(t.origin=`file://${window.location.pathname}`,t.webusb=!1),"string"==typeof e.extension&&(t.extension=e.extension),"string"==typeof e.env?t.env=e.env:t.env=(0,n.getEnv)(),"number"==typeof e.timestamp&&(t.timestamp=e.timestamp),"number"==typeof e.interactionTimeout&&(t.interactionTimeout=e.interactionTimeout),"object"==typeof e.manifest&&(t.manifest=(e=>{if(e&&"string"==typeof e.email&&"string"==typeof e.appUrl)return{email:e.email,appUrl:e.appUrl}})(e.manifest)),t}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/data/connectSettings.js"}],[1799,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_DOMAIN=n.VERSION=void 0,n.VERSION="9.0.7";const r=n.VERSION.split(".").map((e=>parseInt(e,10)));n.DEFAULT_DOMAIN=`https://connect.trezor.io/${r[0]}/`}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/data/version.js"}],[18,{"@metamask/obs-store":1375,loglevel:3546},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,s=e("@metamask/obs-store"),i=(r=e("loglevel"))&&r.__esModule?r:{default:r};function o(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.default=class{constructor(e={}){o(this,"registerOnboarding",(async(e,t)=>{if(this.store.getState().completedOnboarding)return void i.default.debug("Ignoring registerOnboarding; user already onboarded");const n={...this.store.getState().onboardingTabs};n[e]&&n[e]===t||(i.default.debug(`Registering onboarding tab at location '${e}' with tabId '${t}'`),n[e]=t,this.store.updateState({onboardingTabs:n}))}));const t={seedPhraseBackedUp:null,firstTimeFlowType:null,completedOnboarding:!1,...e.initState,onboardingTabs:{}};this.store=new s.ObservableStore(t)}setSeedPhraseBackedUp(e){this.store.updateState({seedPhraseBackedUp:e})}async completeOnboarding(){return this.store.updateState({completedOnboarding:!0}),!0}setFirstTimeFlowType(e){this.store.updateState({firstTimeFlowType:e})}}}}},{package:"$root$",file:"app/scripts/controllers/onboarding.js"}],[180,{"./002":82,"./003":83,"./004":84,"./005":85,"./006":86,"./007":87,"./008":88,"./009":89,"./010":90,"./011":91,"./012":92,"./013":93,"./014":94,"./015":95,"./016":96,"./017":97,"./018":98,"./019":99,"./020":100,"./021":101,"./022":102,"./023":103,"./024":104,"./025":105,"./026":106,"./027":107,"./028":108,"./029":109,"./030":110,"./031":111,"./032":112,"./033":113,"./034":114,"./035":115,"./036":116,"./037":117,"./038":118,"./039":119,"./040":120,"./041":121,"./042":122,"./043":123,"./044":124,"./045":125,"./046":126,"./047":127,"./048":128,"./049":129,"./050":130,"./051":131,"./052":132,"./053":133,"./054":134,"./055":135,"./056":136,"./057":137,"./058":138,"./059":139,"./060":140,"./061":141,"./062":142,"./063":143,"./064":144,"./065":145,"./066":146,"./067":147,"./068":148,"./069":149,"./070":150,"./071":151,"./072":152,"./073":153,"./074":154,"./075":155,"./076":156,"./077":161,"./078":162,"./079":163,"./080":164,"./081":165,"./082":166,"./083":167,"./084":168,"./085":169,"./086":170,"./087":171,"./088":172,"./089":173,"./090":174,"./091":175,"./092":176,"./093":177,"./094":178},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=Ke(e("./002")),s=Ke(e("./003")),i=Ke(e("./004")),o=Ke(e("./005")),a=Ke(e("./006")),c=Ke(e("./007")),u=Ke(e("./008")),l=Ke(e("./009")),d=Ke(e("./010")),h=Ke(e("./011")),p=Ke(e("./012")),f=Ke(e("./013")),m=Ke(e("./014")),g=Ke(e("./015")),y=Ke(e("./016")),b=Ke(e("./017")),w=Ke(e("./018")),v=Ke(e("./019")),k=Ke(e("./020")),S=Ke(e("./021")),_=Ke(e("./022")),E=Ke(e("./023")),T=Ke(e("./024")),P=Ke(e("./025")),I=Ke(e("./026")),x=Ke(e("./027")),O=Ke(e("./028")),j=Ke(e("./029")),C=Ke(e("./030")),N=Ke(e("./031")),A=Ke(e("./032")),B=Ke(e("./033")),R=Ke(e("./034")),M=Ke(e("./035")),U=Ke(e("./036")),L=Ke(e("./037")),D=Ke(e("./038")),H=Ke(e("./039")),F=Ke(e("./040")),z=Ke(e("./041")),V=Ke(e("./042")),K=Ke(e("./043")),$=Ke(e("./044")),J=Ke(e("./045")),G=Ke(e("./046")),q=Ke(e("./047")),W=Ke(e("./048")),Q=Ke(e("./049")),X=Ke(e("./050")),Y=Ke(e("./051")),Z=Ke(e("./052")),ee=Ke(e("./053")),te=Ke(e("./054")),ne=Ke(e("./055")),re=Ke(e("./056")),se=Ke(e("./057")),ie=Ke(e("./058")),oe=Ke(e("./059")),ae=Ke(e("./060")),ce=Ke(e("./061")),ue=Ke(e("./062")),le=Ke(e("./063")),de=Ke(e("./064")),he=Ke(e("./065")),pe=Ke(e("./066")),fe=Ke(e("./067")),me=Ke(e("./068")),ge=Ke(e("./069")),ye=Ke(e("./070")),be=Ke(e("./071")),we=Ke(e("./072")),ve=Ke(e("./073")),ke=Ke(e("./074")),Se=Ke(e("./075")),_e=Ke(e("./076")),Ee=Ke(e("./077")),Te=Ve(e("./078")),Pe=Ke(e("./079")),Ie=Ke(e("./080")),xe=Ve(e("./081")),Oe=Ve(e("./082")),je=Ve(e("./083")),Ce=Ve(e("./084")),Ne=Ve(e("./085")),Ae=Ve(e("./086")),Be=Ve(e("./087")),Re=Ve(e("./088")),Me=Ve(e("./089")),Ue=Ve(e("./090")),Le=Ve(e("./091")),De=Ve(e("./092")),He=Ve(e("./093")),Fe=Ve(e("./094"));function ze(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ze=function(e){return e?n:t})(e)}function Ve(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ze(t);if(n&&n.has(e))return n.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=s?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function Ke(e){return e&&e.__esModule?e:{default:e}}var $e=[r.default,s.default,i.default,o.default,a.default,c.default,u.default,l.default,d.default,h.default,p.default,f.default,m.default,g.default,y.default,b.default,w.default,v.default,k.default,S.default,_.default,E.default,T.default,P.default,I.default,x.default,O.default,j.default,C.default,N.default,A.default,B.default,R.default,M.default,U.default,L.default,D.default,H.default,F.default,z.default,V.default,K.default,$.default,J.default,G.default,q.default,W.default,Q.default,X.default,Y.default,Z.default,ee.default,te.default,ne.default,re.default,se.default,ie.default,oe.default,ae.default,ce.default,ue.default,le.default,de.default,he.default,pe.default,fe.default,me.default,ge.default,ye.default,be.default,we.default,ve.default,ke.default,Se.default,_e.default,Ee.default,Te,Pe.default,Ie.default,xe,Oe,je,Ce,Ne,Ae,Be,Re,Me,Ue,Le,De,He,Fe];n.default=$e}}},{package:"$root$",file:"app/scripts/migrations/index.js"}],[1800,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createBlockchainMessage=n.BLOCKCHAIN=n.BLOCKCHAIN_EVENT=void 0,n.BLOCKCHAIN_EVENT="BLOCKCHAIN_EVENT",n.BLOCKCHAIN={CONNECT:"blockchain-connect",ERROR:"blockchain-error",BLOCK:"blockchain-block",NOTIFICATION:"blockchain-notification",FIAT_RATES_UPDATE:"fiat-rates-update"};n.createBlockchainMessage=(e,t)=>({event:n.BLOCKCHAIN_EVENT,type:e,payload:t})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/blockchain.js"}],[1801,{"../constants/errors":1793},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createResponseMessage=n.RESPONSE_EVENT=void 0;const r=e("../constants/errors");n.RESPONSE_EVENT="RESPONSE_EVENT";n.createResponseMessage=(e,t,s)=>({event:n.RESPONSE_EVENT,type:n.RESPONSE_EVENT,id:e,success:t,payload:t?s:(0,r.serializeError)(s)})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/call.js"}],[1802,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createErrorMessage=n.parseMessage=n.CORE_EVENT=void 0,n.CORE_EVENT="CORE_EVENT";n.parseMessage=e=>{const t={event:e.event,type:e.type,payload:e.payload};return"number"==typeof e.id&&(t.id=e.id),"boolean"==typeof e.success&&(t.success=e.success),t};n.createErrorMessage=e=>({success:!1,payload:{error:e.message,code:e.code}})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/core.js"}],[1803,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createDeviceMessage=n.DEVICE=n.DEVICE_EVENT=void 0,n.DEVICE_EVENT="DEVICE_EVENT",n.DEVICE={CONNECT:"device-connect",CONNECT_UNACQUIRED:"device-connect_unacquired",DISCONNECT:"device-disconnect",CHANGED:"device-changed",ACQUIRE:"device-acquire",RELEASE:"device-release",ACQUIRED:"device-acquired",RELEASED:"device-released",USED_ELSEWHERE:"device-used_elsewhere",LOADING:"device-loading",BUTTON:"button",PIN:"pin",PASSPHRASE:"passphrase",PASSPHRASE_ON_DEVICE:"passphrase_on_device",WORD:"word"};n.createDeviceMessage=(e,t)=>({event:n.DEVICE_EVENT,type:e,payload:t})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/device.js"}],[1804,{"./ui-request":1809},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createIFrameMessage=n.IFRAME=void 0;const r=e("./ui-request");n.IFRAME={BOOTSTRAP:"iframe-bootstrap",LOADED:"iframe-loaded",INIT:"iframe-init",ERROR:"iframe-error",CALL:"iframe-call"};n.createIFrameMessage=(e,t)=>({event:r.UI_EVENT,type:e,payload:t})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/iframe.js"}],[1805,{"./blockchain":1800,"./call":1801,"./core":1802,"./device":1803,"./iframe":1804,"./popup":1806,"./transport":1807,"./ui-promise":1808,"./ui-request":1809,"./ui-response":1810,tslib:3930},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.UI=void 0;const r=e("tslib"),s=e("./ui-request"),i=e("./ui-response");r.__exportStar(e("./blockchain"),n),r.__exportStar(e("./call"),n),r.__exportStar(e("./core"),n),r.__exportStar(e("./device"),n),r.__exportStar(e("./iframe"),n),r.__exportStar(e("./popup"),n),r.__exportStar(e("./transport"),n),r.__exportStar(e("./ui-promise"),n),r.__exportStar(e("./ui-request"),n),r.__exportStar(e("./ui-response"),n),n.UI={...s.UI_REQUEST,...i.UI_RESPONSE}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/index.js"}],[1806,{"./ui-request":1809},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createPopupMessage=n.POPUP=void 0;const r=e("./ui-request");n.POPUP={BOOTSTRAP:"popup-bootstrap",LOADED:"popup-loaded",INIT:"popup-init",ERROR:"popup-error",EXTENSION_USB_PERMISSIONS:"open-usb-permissions",HANDSHAKE:"popup-handshake",CLOSED:"popup-closed",CANCEL_POPUP_REQUEST:"ui-cancel-popup-request",CLOSE_WINDOW:"window.close"};n.createPopupMessage=(e,t)=>({event:r.UI_EVENT,type:e,payload:t})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/popup.js"}],[1807,{"../constants/errors":1793},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createTransportMessage=n.TRANSPORT=n.TRANSPORT_EVENT=void 0;const r=e("../constants/errors");n.TRANSPORT_EVENT="TRANSPORT_EVENT",n.TRANSPORT={START:"transport-start",ERROR:"transport-error",UPDATE:"transport-update",STREAM:"transport-stream",REQUEST_DEVICE:"transport-request_device",DISABLE_WEBUSB:"transport-disable_webusb",START_PENDING:"transport-start_pending"};n.createTransportMessage=(e,t)=>({event:n.TRANSPORT_EVENT,type:e,payload:"error"in t?(0,r.serializeError)(t):t})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/transport.js"}],[1808,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/ui-promise.js"}],[1809,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createUiMessage=n.UI_REQUEST=n.UI_EVENT=void 0,n.UI_EVENT="UI_EVENT",n.UI_REQUEST={TRANSPORT:"ui-no_transport",BOOTLOADER:"ui-device_bootloader_mode",NOT_IN_BOOTLOADER:"ui-device_not_in_bootloader_mode",REQUIRE_MODE:"ui-device_require_mode",INITIALIZE:"ui-device_not_initialized",SEEDLESS:"ui-device_seedless",FIRMWARE_OLD:"ui-device_firmware_old",FIRMWARE_OUTDATED:"ui-device_firmware_outdated",FIRMWARE_NOT_SUPPORTED:"ui-device_firmware_unsupported",FIRMWARE_NOT_COMPATIBLE:"ui-device_firmware_not_compatible",FIRMWARE_NOT_INSTALLED:"ui-device_firmware_not_installed",FIRMWARE_PROGRESS:"ui-firmware-progress",DEVICE_NEEDS_BACKUP:"ui-device_needs_backup",REQUEST_UI_WINDOW:"ui-request_window",CLOSE_UI_WINDOW:"ui-close_window",REQUEST_PERMISSION:"ui-request_permission",REQUEST_CONFIRMATION:"ui-request_confirmation",REQUEST_PIN:"ui-request_pin",INVALID_PIN:"ui-invalid_pin",REQUEST_PASSPHRASE:"ui-request_passphrase",REQUEST_PASSPHRASE_ON_DEVICE:"ui-request_passphrase_on_device",INVALID_PASSPHRASE:"ui-invalid_passphrase",CONNECT:"ui-connect",LOADING:"ui-loading",SET_OPERATION:"ui-set_operation",SELECT_DEVICE:"ui-select_device",SELECT_ACCOUNT:"ui-select_account",SELECT_FEE:"ui-select_fee",UPDATE_CUSTOM_FEE:"ui-update_custom_fee",INSUFFICIENT_FUNDS:"ui-insufficient_funds",REQUEST_BUTTON:"ui-button",REQUEST_WORD:"ui-request_word",LOGIN_CHALLENGE_REQUEST:"ui-login_challenge_request",BUNDLE_PROGRESS:"ui-bundle_progress",ADDRESS_VALIDATION:"ui-address_validation",IFRAME_FAILURE:"ui-iframe_failure"};n.createUiMessage=(e,t)=>({event:n.UI_EVENT,type:e,payload:t})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/ui-request.js"}],[1810,{"./ui-request":1809},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createUiResponse=n.UI_RESPONSE=void 0;const r=e("./ui-request");n.UI_RESPONSE={RECEIVE_PERMISSION:"ui-receive_permission",RECEIVE_CONFIRMATION:"ui-receive_confirmation",RECEIVE_PIN:"ui-receive_pin",RECEIVE_PASSPHRASE:"ui-receive_passphrase",RECEIVE_DEVICE:"ui-receive_device",RECEIVE_ACCOUNT:"ui-receive_account",RECEIVE_FEE:"ui-receive_fee",RECEIVE_WORD:"ui-receive_word",INVALID_PASSPHRASE_ACTION:"ui-invalid_passphrase_action",CHANGE_SETTINGS:"ui-change_settings",LOGIN_CHALLENGE_RESPONSE:"ui-login_challenge_response"};n.createUiResponse=(e,t)=>({event:r.UI_EVENT,type:e,payload:t})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/ui-response.js"}],[1811,{"./constants":1794,"./data/connectSettings":1798,"./events":1805,"./types":1827,tslib:3930},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseConnectSettings=void 0;const r=e("tslib");r.__exportStar(e("./constants"),n),r.__exportStar(e("./events"),n),r.__exportStar(e("./types"),n);var s=e("./data/connectSettings");Object.defineProperty(n,"parseConnectSettings",{enumerable:!0,get:function(){return s.parseConnectSettings}})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/exports.js"}],[1812,{"./events":1805},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.factory=void 0;const r=e("./events");n.factory=({eventEmitter:e,manifest:t,init:n,call:s,requestLogin:i,uiResponse:o,renderWebUSBButton:a,disableWebUSB:c,requestWebUSBDevice:u,cancel:l,dispose:d})=>({manifest:t,init:n,getSettings:()=>s({method:"getSettings"}),on:(t,n)=>{e.on(t,n)},off:(t,n)=>{e.removeListener(t,n)},removeAllListeners:t=>{"string"==typeof t?e.removeAllListeners(t):e.removeAllListeners()},uiResponse:o,blockchainGetAccountBalanceHistory:e=>s({...e,method:"blockchainGetAccountBalanceHistory"}),blockchainGetCurrentFiatRates:e=>s({...e,method:"blockchainGetCurrentFiatRates"}),blockchainGetFiatRatesForTimestamps:e=>s({...e,method:"blockchainGetFiatRatesForTimestamps"}),blockchainDisconnect:e=>s({...e,method:"blockchainDisconnect"}),blockchainEstimateFee:e=>s({...e,method:"blockchainEstimateFee"}),blockchainGetTransactions:e=>s({...e,method:"blockchainGetTransactions"}),blockchainSetCustomBackend:e=>s({...e,method:"blockchainSetCustomBackend"}),blockchainSubscribe:e=>s({...e,method:"blockchainSubscribe"}),blockchainSubscribeFiatRates:e=>s({...e,method:"blockchainSubscribeFiatRates"}),blockchainUnsubscribe:e=>s({...e,method:"blockchainUnsubscribe"}),blockchainUnsubscribeFiatRates:e=>s({...e,method:"blockchainUnsubscribeFiatRates"}),requestLogin:e=>i(e),cardanoGetAddress:t=>s({...t,method:"cardanoGetAddress",useEventListener:e.listenerCount(r.UI.ADDRESS_VALIDATION)>0}),cardanoGetNativeScriptHash:e=>s({...e,method:"cardanoGetNativeScriptHash"}),cardanoGetPublicKey:e=>s({...e,method:"cardanoGetPublicKey"}),cardanoSignTransaction:e=>s({...e,method:"cardanoSignTransaction"}),cipherKeyValue:e=>s({...e,method:"cipherKeyValue"}),composeTransaction:e=>s({...e,method:"composeTransaction"}),ethereumGetAddress:t=>s({...t,method:"ethereumGetAddress",useEventListener:e.listenerCount(r.UI.ADDRESS_VALIDATION)>0}),ethereumGetPublicKey:e=>s({...e,method:"ethereumGetPublicKey"}),ethereumSignMessage:e=>s({...e,method:"ethereumSignMessage"}),ethereumSignTransaction:e=>s({...e,method:"ethereumSignTransaction"}),ethereumSignTypedData:e=>s({...e,method:"ethereumSignTypedData"}),ethereumVerifyMessage:e=>s({...e,method:"ethereumVerifyMessage"}),getAccountInfo:e=>s({...e,method:"getAccountInfo"}),getAddress:t=>s({...t,method:"getAddress",useEventListener:e.listenerCount(r.UI.ADDRESS_VALIDATION)>0}),getDeviceState:e=>s({...e,method:"getDeviceState"}),getFeatures:e=>s({...e,method:"getFeatures"}),getFirmwareHash:e=>s({...e,method:"getFirmwareHash"}),getOwnershipId:e=>s({...e,method:"getOwnershipId"}),getOwnershipProof:e=>s({...e,method:"getOwnershipProof"}),getPublicKey:e=>s({...e,method:"getPublicKey"}),nemGetAddress:t=>s({...t,method:"nemGetAddress",useEventListener:e.listenerCount(r.UI.ADDRESS_VALIDATION)>0}),nemSignTransaction:e=>s({...e,method:"nemSignTransaction"}),pushTransaction:e=>s({...e,method:"pushTransaction"}),rippleGetAddress:t=>s({...t,method:"rippleGetAddress",useEventListener:e.listenerCount(r.UI.ADDRESS_VALIDATION)>0}),rippleSignTransaction:e=>s({...e,method:"rippleSignTransaction"}),signMessage:e=>s({...e,method:"signMessage"}),signTransaction:e=>s({...e,method:"signTransaction"}),stellarGetAddress:t=>s({...t,method:"stellarGetAddress",useEventListener:e.listenerCount(r.UI.ADDRESS_VALIDATION)>0}),stellarSignTransaction:e=>s({...e,method:"stellarSignTransaction"}),tezosGetAddress:t=>s({...t,method:"tezosGetAddress",useEventListener:e.listenerCount(r.UI.ADDRESS_VALIDATION)>0}),tezosGetPublicKey:e=>s({...e,method:"tezosGetPublicKey"}),tezosSignTransaction:e=>s({...e,method:"tezosSignTransaction"}),unlockPath:e=>s({...e,method:"unlockPath"}),eosGetPublicKey:e=>s({...e,method:"eosGetPublicKey"}),eosSignTransaction:e=>s({...e,method:"eosSignTransaction"}),binanceGetAddress:t=>s({...t,method:"binanceGetAddress",useEventListener:e.listenerCount(r.UI.ADDRESS_VALIDATION)>0}),binanceGetPublicKey:e=>s({...e,method:"binanceGetPublicKey"}),binanceSignTransaction:e=>s({...e,method:"binanceSignTransaction"}),verifyMessage:e=>s({...e,method:"verifyMessage"}),resetDevice:e=>s({...e,method:"resetDevice"}),wipeDevice:e=>s({...e,method:"wipeDevice"}),checkFirmwareAuthenticity:e=>s({...e,method:"checkFirmwareAuthenticity"}),applyFlags:e=>s({...e,method:"applyFlags"}),applySettings:e=>s({...e,method:"applySettings"}),authorizeCoinjoin:e=>s({...e,method:"authorizeCoinjoin"}),backupDevice:e=>s({...e,method:"backupDevice"}),changePin:e=>s({...e,method:"changePin"}),firmwareUpdate:e=>s({...e,method:"firmwareUpdate"}),recoveryDevice:e=>s({...e,method:"recoveryDevice"}),getCoinInfo:e=>s({...e,method:"getCoinInfo"}),rebootToBootloader:e=>s({...e,method:"rebootToBootloader"}),setBusy:e=>s({...e,method:"setBusy"}),setProxy:e=>s({...e,method:"setProxy"}),dispose:d,cancel:l,renderWebUSBButton:a,disableWebUSB:c,requestWebUSBDevice:u})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/factory.js"}],[1813,{"./constants/errors":1793,"./exports":1811,"./factory":1812,tslib:3930},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("tslib"),s=e("./constants/errors"),i=()=>{throw(0,s.TypedError)("Method_InvalidPackage")},o=(0,e("./factory").factory)({eventEmitter:{on:i,off:i,removeAllListeners:i,listenerCount:i},manifest:i,init:i,call:i,requestLogin:i,requestWebUSBDevice:i,uiResponse:i,renderWebUSBButton:i,disableWebUSB:i,cancel:i,dispose:i});n.default=o,r.__exportStar(e("./exports"),n)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/index-browser.js"}],[1814,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/account.js"}],[1815,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/binance/index.js"}],[1816,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/bitcoin/index.js"}],[1817,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/cardano/index.js"}],[1818,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/eos/index.js"}],[1819,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/ethereum/index.js"}],[1820,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/index.js"}],[1821,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/ripple/index.js"}],[1822,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/stellar/index.js"}],[1823,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/tezos/index.js"}],[1824,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/coinInfo.js"}],[1825,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/device.js"}],[1826,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/firmware.js"}],[1827,{"./account":1814,"./api":1820,"./api/binance":1815,"./api/bitcoin":1816,"./api/cardano":1817,"./api/eos":1818,"./api/ethereum":1819,"./api/ripple":1821,"./api/stellar":1822,"./api/tezos":1823,"./coinInfo":1824,"./device":1825,"./firmware":1826,"./params":1828,"./settings":1829,tslib:3930},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("tslib");r.__exportStar(e("./api"),n),r.__exportStar(e("./account"),n),r.__exportStar(e("./coinInfo"),n),r.__exportStar(e("./device"),n),r.__exportStar(e("./firmware"),n),r.__exportStar(e("./params"),n),r.__exportStar(e("./settings"),n),r.__exportStar(e("./api/cardano"),n),r.__exportStar(e("./api/binance"),n),r.__exportStar(e("./api/bitcoin"),n),r.__exportStar(e("./api/eos"),n),r.__exportStar(e("./api/ripple"),n),r.__exportStar(e("./api/ethereum"),n),r.__exportStar(e("./api/stellar"),n),r.__exportStar(e("./api/tezos"),n)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/index.js"}],[1828,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/params.js"}],[1829,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/settings.js"}],[1830,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getLog=n.enableLogByPrefix=n.enableLog=n.initLog=void 0;const r={"@trezor/connect":"color: #f4a742; background: #000;",IFrame:"color: #f4a742; background: #000;",Core:"color: #f4a742; background: #000;",DescriptorStream:"color: #77ab59; background: #000;",DeviceList:"color: #77ab59; background: #000;",Device:"color: #bada55; background: #000;",DeviceCommands:"color: #bada55; background: #000;"};class s{constructor(e,t){this.prefix=e,this.enabled=t,this.messages=[],this.css="undefined"!=typeof window&&r[e]?r[e]:""}addMessage(e,t,...n){this.messages.push({level:e,prefix:t,message:n,timestamp:(new Date).getTime()}),this.messages.length>100&&this.messages.shift()}log(...e){this.addMessage("log",this.prefix,...e),this.enabled&&console.log(this.prefix,...e)}error(...e){this.addMessage("error",this.prefix,...e),this.enabled&&console.error(this.prefix,...e)}warn(...e){this.addMessage("warn",this.prefix,...e),this.enabled&&console.warn(this.prefix,...e)}debug(...e){this.addMessage("debug",this.prefix,...e),this.enabled&&(this.css?console.log(`%c${this.prefix}`,this.css,...e):console.log(this.prefix,...e))}}const i={};n.initLog=(e,t)=>{const n=new s(e,!!t);return i[e]=n,n};n.enableLog=e=>{Object.keys(i).forEach((t=>{i[t].enabled=!!e}))};n.enableLogByPrefix=(e,t)=>{i[e]&&(i[e].enabled=t)};n.getLog=()=>{let e=[];return Object.keys(i).forEach((t=>{e=e.concat(i[t].messages)})),e.sort(((e,t)=>e.timestamp-t.timestamp)),e}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/utils/debug.js"}]],[],{});