LavaPack.loadBundle([[1831,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getOnionDomain=r.getOrigin=void 0;r.getOrigin=e=>{if("string"!=typeof e)return"unknown";if(0===e.indexOf("file://"))return"file://";const t=e.match(/^.+\:\/\/[^\/]+/);return Array.isArray(t)&&t.length>0?t[0]:"unknown"};r.getOnionDomain=(e,t)=>{var i;if(Array.isArray(e))return e.map((e=>(0,r.getOnionDomain)(e,t)));if("string"==typeof e){const[,r,n,s,o]=null!==(i=e.match(/^(http|ws)s?:\/\/([^:/]+\.)?([^/.]+\.[^/.]+)(\/.*)?$/i))&&void 0!==i?i:[];return s&&t[s]?`${r}://${n||""}${t[s]}${o||""}`:e}return e}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/utils/urlUtils.js"}],[1832,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{u(i.next(e))}catch(e){s(e)}}function a(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((i=i.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.request=r.setFetch=void 0;let n="undefined"==typeof window?()=>Promise.reject():window.fetch,s=!1;function o(e){return"string"==typeof e?""===e?"text/plain":"application/octet-stream":"application/json"}function a(e){try{return JSON.parse(e)}catch(t){return e}}r.setFetch=function(e,t){n=e,s=!!t},r.request=function(e){return i(this,void 0,void 0,(function*(){const t={method:e.method,body:(r=e.body,"string"==typeof r?r:JSON.stringify(r)),credentials:"same-origin",headers:{}};var r;null!=e.skipContentTypeHeader&&!1!==e.skipContentTypeHeader||(t.headers=Object.assign(Object.assign({},t.headers),{"Content-Type":o(null==e.body?"":e.body)})),s&&(t.headers=Object.assign(Object.assign({},t.headers),{Origin:"https://node.trezor.io"}));const i=yield n(e.url,t),u=yield i.text();if(i.ok)return a(u);const c=a(u);throw"object"==typeof c&&null!=c&&null!=c.error?new Error(c.error):new Error(u)}))}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/bridge/http.js"}],[1833,{"../config":1834,"../lowlevel/protobuf/messages":1841,"../lowlevel/receive":1845,"../lowlevel/send":1846,"../utils/highlevel-checks":1853,"./http":1832,"@trezor/utils":1870},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{u(i.next(e))}catch(e){s(e)}}function a(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((i=i.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0});const n=e("@trezor/utils"),s=e("./http"),o=e("../utils/highlevel-checks"),a=e("../lowlevel/send"),u=e("../lowlevel/protobuf/messages"),c=e("../lowlevel/receive"),h=e("../config");r.default=class{constructor(e,t){this.configured=!1,this.debug=!1,this.name="BridgeTransport",this.requestNeeded=!1,this.stopped=!1,this.version="",this.url=null==e?h.DEFAULT_URL:e,this.newestVersionUrl=null==t?h.DEFAULT_VERSION_URL:t}_post(e){return this.stopped?Promise.reject("Transport stopped."):(0,s.request)(Object.assign(Object.assign({},e),{method:"POST",url:this.url+e.url,skipContentTypeHeader:!0}))}init(e){return i(this,void 0,void 0,(function*(){this.debug=!!e,yield this._silentInit()}))}_silentInit(){return i(this,void 0,void 0,(function*(){const e=yield(0,s.request)({url:this.url,method:"POST"}),t=o.info(e);this.version=t.version;const r="string"==typeof this.bridgeVersion?this.bridgeVersion:o.version(yield(0,s.request)({url:`${this.newestVersionUrl}?${Date.now()}`,method:"GET"}));this.isOutdated=n.versionUtils.isNewer(r,this.version)}))}configure(e){const t=(0,u.parseConfigure)(e);this.configured=!0,this._messages=t}listen(e){return i(this,void 0,void 0,(function*(){if(null==e)throw new Error("Bridge v2 does not support listen without previous.");const t=yield this._post({url:"/listen",body:e});return o.devices(t)}))}enumerate(){return i(this,void 0,void 0,(function*(){const e=yield this._post({url:"/enumerate"});return o.devices(e)}))}_acquireMixed(e,t){const r=null==e.previous?"null":e.previous,i=`${t?"/debug":""}/acquire/${e.path}/${r}`;return this._post({url:i})}acquire(e,t){return i(this,void 0,void 0,(function*(){const r=yield this._acquireMixed(e,t);return o.acquire(r)}))}release(e,t,r){return i(this,void 0,void 0,(function*(){const i=this._post({url:`${r?"/debug":""}/release/${e}`});t||(yield i)}))}call(e,t,r,n){return i(this,void 0,void 0,(function*(){if(null==this._messages)throw new Error("Transport not configured.");const i=this._messages,s=(0,a.buildOne)(i,t,r).toString("hex"),u=yield this._post({url:`${n?"/debug":""}/call/${e}`,body:s});if("string"!=typeof u)throw new Error("Returning data is not string.");const h=(0,c.receiveOne)(i,u);return o.call(h)}))}post(e,t,r,n){return i(this,void 0,void 0,(function*(){if(null==this._messages)throw new Error("Transport not configured.");const i=this._messages,s=(0,a.buildOne)(i,t,r).toString("hex");yield this._post({url:`${n?"/debug":""}/post/${e}`,body:s})}))}read(e,t){return i(this,void 0,void 0,(function*(){if(null==this._messages)throw new Error("Transport not configured.");const r=this._messages,i=yield this._post({url:`${t?"/debug":""}/read/${e}`});if("string"!=typeof i)throw new Error("Returning data is not string.");const n=(0,c.receiveOne)(r,i);return o.call(n)}))}static setFetch(e,t){(0,s.setFetch)(e,t)}requestDevice(){return Promise.reject()}setBridgeLatestUrl(e){this.newestVersionUrl=e}setBridgeLatestVersion(e){this.bridgeVersion=e}stop(){this.stopped=!0}}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/bridge/v2.js"}],[1834,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BUFFER_SIZE=r.HEADER_SIZE=r.MESSAGE_HEADER_BYTE=r.DEFAULT_VERSION_URL=r.DEFAULT_URL=void 0,r.DEFAULT_URL="http://127.0.0.1:21325",r.DEFAULT_VERSION_URL="https://data.trezor.io/bridge/latest.txt",r.MESSAGE_HEADER_BYTE=35,r.HEADER_SIZE=8,r.BUFFER_SIZE=63}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/config.js"}],[1835,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.TREZOR_DESCS=void 0,r.TREZOR_DESCS=[{vendorId:21324,productId:1},{vendorId:4617,productId:21440},{vendorId:4617,productId:21441}]}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/constants.js"}],[1836,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{u(i.next(e))}catch(e){s(e)}}function a(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((i=i.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0});r.default=class{constructor(e){this._availableTransports=[],this.activeName="",this.configured=!1,this.debug=!1,this.isOutdated=!1,this.name="FallbackTransport",this.requestNeeded=!1,this.transports=[],this.version="",this.transports=e}_tryInitTransports(){return i(this,void 0,void 0,(function*(){const e=[];let t=null;for(const r of this.transports)try{yield r.init(this.debug),e.push(r)}catch(e){t=e}if(0===e.length)throw t||new Error("No transport could be initialized.");return e}))}_tryConfigureTransports(e){return i(this,void 0,void 0,(function*(){let t=null;for(const r of this._availableTransports)try{return yield r.configure(e),r}catch(e){t=e}throw t||new Error("No transport could be initialized.")}))}init(e){return i(this,void 0,void 0,(function*(){this.debug=!!e;const t=yield this._tryInitTransports();this._availableTransports=t,this.version=t[0].version,this.configured=!1}))}configure(e){return i(this,void 0,void 0,(function*(){const t=this._tryConfigureTransports(e);this.activeTransport=yield t,this.configured=this.activeTransport.configured,this.version=this.activeTransport.version,this.activeName=this.activeTransport.name,this.requestNeeded=this.activeTransport.requestNeeded,this.isOutdated=this.activeTransport.isOutdated}))}enumerate(){return this.activeTransport.enumerate()}listen(e){return this.activeTransport.listen(e)}acquire(e,t){return this.activeTransport.acquire(e,t)}release(e,t,r){return this.activeTransport.release(e,t,r)}call(e,t,r,i){return this.activeTransport.call(e,t,r,i)}post(e,t,r,i){return this.activeTransport.post(e,t,r,i)}read(e,t){return this.activeTransport.read(e,t)}requestDevice(){return this.activeTransport.requestDevice()}setBridgeLatestUrl(e){for(const t of this.transports)t.setBridgeLatestUrl(e)}setBridgeLatestVersion(e){for(const t of this.transports)t.setBridgeLatestVersion(e)}stop(){for(const e of this.transports)e.stop()}}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/fallback.js"}],[1837,{"./bridge/v2":1833,"./constants":1835,"./fallback":1836,"./lowlevel/webusb":1848,"./lowlevel/withSharedConnections":1849,"./types":1850,long:3547,"protobufjs/light":3649},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Messages=r.TREZOR_DESCS=void 0;const i=e("./bridge/v2"),n=e("./lowlevel/withSharedConnections"),s=e("./fallback"),o=e("./lowlevel/webusb"),a=e("protobufjs/light"),u=e("long");a.util.Long=u,a.configure();var c=e("./constants");Object.defineProperty(r,"TREZOR_DESCS",{enumerable:!0,get:function(){return c.TREZOR_DESCS}});var h=e("./types");Object.defineProperty(r,"Messages",{enumerable:!0,get:function(){return h.Messages}}),r.default={BridgeV2:i.default,Fallback:s.default,Lowlevel:n.default,WebUsb:o.default}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/index.js"}],[1838,{"../../utils/protobuf":1854,bytebuffer:2440},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=this&&this.__rest||function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r};Object.defineProperty(r,"__esModule",{value:!0}),r.decode=void 0;const n=e("bytebuffer"),s=e("../../utils/protobuf"),o=(e,t)=>{if((0,s.isPrimitiveField)(e.type))return e.optional&&void 0===t?null:"bytes"===e.type?n.wrap(t).toString("hex"):e.long?Number.isSafeInteger(t.toNumber())?t.toNumber():t.toString():t;if("valuesById"in e.resolvedType)return e.resolvedType.valuesById[t];if(e.resolvedType.fields)return a(t,e.resolvedType.fields);throw new Error(`transport: decode: case not handled: ${e}`)};function a(e,t){const r=i(e,[]),n={};return Object.keys(t).forEach((e=>{const i=t[e],s=r[e];i.repeated?n[e]=s.map((e=>o(i,e))):n[e]=o(i,s)})),n}r.decode=(e,t)=>{const r=t.toBuffer(),i=new Uint8Array(r),n=e.decode(i);return a(n,n.$type.fields)}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/lowlevel/protobuf/decode.js"}],[1839,{"../../utils/protobuf":1854,buffer:2426,bytebuffer:2440},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.encode=r.patch=void 0;const i=e("bytebuffer"),n=e("../../utils/protobuf"),s=(e,r)=>{if("bytes"===e)return"string"!=typeof r||r?t.from(r,"hex"):r;if("number"==typeof r&&!Number.isSafeInteger(r))throw new RangeError("field value is not within safe integer range");return r};function o(e,t){const r={};return e.fields?(Object.keys(e.fields).forEach((i=>{const a=e.fields[i],u=t[i];if(void 0!==u)if((0,n.isPrimitiveField)(a.type))a.repeated?r[i]=u.map((e=>s(a.type,e))):r[i]=s(a.type,u);else if(a.repeated){const t=e.lookupTypeOrEnum(a.type);r[i]=u.map((e=>o(t,e)))}else if("object"==typeof u&&null!==u){const t=e.lookupType(a.type);r[i]=o(t,u)}else if("number"==typeof u){const t=e.lookupEnum(a.type);r[i]=t.values[u]}else r[i]=u})),r):r}r.patch=o;r.encode=(e,t)=>{const r=o(e,t),n=e.fromObject(r),s=e.encode(n).finish(),a=new i(s.byteLength);return a.append(s),a.reset(),a}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/lowlevel/protobuf/encode.js"}],[1840,{"./decode":1838,"./encode":1839},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){i===undefined&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){i===undefined&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e("./decode"),r),n(e("./encode"),r)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/lowlevel/protobuf/index.js"}],[1841,{"protobufjs/light":3649},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMessageFromType=r.createMessageFromName=r.parseConfigure=void 0;const i=e("protobufjs/light");r.parseConfigure=function(e){return"string"==typeof e?i.Root.fromJSON(JSON.parse(e)):i.Root.fromJSON(e)};r.createMessageFromName=(e,t)=>{const r=e.lookupType(t);let i=e.lookupEnum("MessageType").values[`MessageType_${t}`];return!i&&r.options&&(i=r.options["(wire_type)"]),{Message:r,messageType:i}};r.createMessageFromType=(e,t)=>{const r=e.lookupEnum("MessageType").valuesById[t].replace("MessageType_","");return{Message:e.lookupType(r),messageName:r}}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/lowlevel/protobuf/messages.js"}],[1842,{"../../config":1834,bytebuffer:2440},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.decodeChunked=r.decode=void 0;const i=e("bytebuffer"),n=e("../../config");r.decode=e=>{const{typeId:t}={typeId:(r=e).readUint16(),length:r.readUint32()};var r;return{typeId:t,buffer:e}};r.decodeChunked=e=>{const t=i.wrap(e,undefined,undefined,!0),{sharp1:r,sharp2:s,typeId:o,length:a}={sharp1:(u=t).readByte(),sharp2:u.readByte(),typeId:u.readUint16(),length:u.readUint32()};var u;if(r!==n.MESSAGE_HEADER_BYTE||s!==n.MESSAGE_HEADER_BYTE)throw new Error("Didn't receive expected header signature.");return{length:a,typeId:o,restBuffer:t}}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/lowlevel/protocol/decode.js"}],[1843,{"../../config":1834,bytebuffer:2440},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.encode=void 0;const i=e("bytebuffer"),n=e("../../config");r.encode=function(e,t){const{addTrezorHeaders:r,chunked:s,messageType:o}=t,a=(r?n.HEADER_SIZE:n.HEADER_SIZE-2)+e.limit,u=new i(a);if(r&&(u.writeByte(n.MESSAGE_HEADER_BYTE),u.writeByte(n.MESSAGE_HEADER_BYTE)),u.writeUint16(o),u.writeUint32(e.limit),u.append(e.buffer),u.reset(),!1===s)return u;const c=[],h=n.BUFFER_SIZE,l=Math.floor((u.limit-1)/h)+1||1;for(let e=0;e<l;e++){const t=e*h,r=Math.min((e+1)*h,u.limit),i=u.slice(t,r);i.compact(),c.push(i.buffer)}return c}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/lowlevel/protocol/encode.js"}],[1844,{"./decode":1842,"./encode":1843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){i===undefined&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){i===undefined&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e("./decode"),r),n(e("./encode"),r)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/lowlevel/protocol/index.js"}],[1845,{"./protobuf/decode":1838,"./protobuf/messages":1841,"./protocol/decode":1842,bytebuffer:2440},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{u(i.next(e))}catch(e){s(e)}}function a(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((i=i.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.receiveAndParse=r.receiveOne=void 0;const n=e("bytebuffer"),s=e("./protobuf/decode"),o=e("./protocol/decode"),a=e("./protobuf/messages");function u(e,t,r){return i(this,void 0,void 0,(function*(){if(e.offset>=r)return;const i=yield t();if(null==i)throw new Error("Received no data.");return e.append(i),u(e,t,r)}))}function c(e){return i(this,void 0,void 0,(function*(){const t=yield e(),{length:r,typeId:i,restBuffer:s}=o.decodeChunked(t),a=new n(r);return r&&a.append(s),yield u(a,e,r),{received:a,typeId:i}}))}r.receiveOne=function(e,t){const r=n.wrap(t,"hex"),{typeId:i,buffer:u}=o.decode(r),{Message:c,messageName:h}=(0,a.createMessageFromType)(e,i);return{message:s.decode(c,u),type:h}},r.receiveAndParse=function(e,t){return i(this,void 0,void 0,(function*(){const{received:r,typeId:i}=yield c(t),{Message:n,messageName:o}=(0,a.createMessageFromType)(e,i);r.reset();return{message:s.decode(n,r),type:o}}))}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/lowlevel/receive.js"}],[1846,{"./protobuf":1840,"./protobuf/messages":1841,"./protocol":1844},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{u(i.next(e))}catch(e){s(e)}}function a(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((i=i.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.buildAndSend=r.buildBuffers=r.buildOne=void 0;const n=e("./protobuf"),s=e("./protocol"),o=e("./protobuf/messages");r.buildOne=function(e,t,r){const{Message:i,messageType:a}=(0,o.createMessageFromName)(e,t),u=(0,n.encode)(i,r);return(0,s.encode)(u,{addTrezorHeaders:!1,chunked:!1,messageType:a})};r.buildBuffers=(e,t,r)=>{const{Message:i,messageType:a}=(0,o.createMessageFromName)(e,t),u=(0,n.encode)(i,r);return(0,s.encode)(u,{addTrezorHeaders:!0,chunked:!0,messageType:a})},r.buildAndSend=function(e,t,n,s){return function(e,t){return i(this,void 0,void 0,(function*(){for(const r of t)yield e(r)}))}(t,(0,r.buildBuffers)(e,n,s))}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/lowlevel/send.js"}],[1847,{"../utils/defered":1852},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.postModuleMessage=void 0;const i=e("../utils/defered"),n={},s={};let o=null,a=Promise.resolve();function u(){const e=(0,i.create)();o=e,setTimeout((()=>e.reject(new Error("Timed out"))),1e4)}function c(e){null!=o&&o.resolve(e)}function h(){return null==o?Promise.reject(new Error("???")):o.promise}function l(e){const t=a.then((()=>e()));a=t.catch((()=>{}))}function f(e,t,r){r.postMessage({id:t,message:e})}function d(e){c({id:e})}function p(e,t,r){if(null!=r){const e={};r.forEach((t=>{e[t.path]=!0})),Object.keys(n).forEach((e=>{n[e]||delete n[e]})),Object.keys(s).forEach((e=>{s[e]||delete s[e]}))}return f({type:"sessions",debugSessions:s,normalSessions:n},e,t),Promise.resolve()}let g=0;function y({id:e,message:t},r){if("acquire-intent"===t.type){const{path:i}=t,{previous:o}=t,{debug:a}=t;l((()=>function(e,t,r,i,o){let a=!1;const c=o?s:n,l=o?n:s,d=c[e];return a=null==d?null!=i:i!==d,a?(f({type:"wrong-previous-session"},t,r),Promise.resolve()):(u(),f({type:"other-session",otherSession:l[e]},t,r),h().then((t=>{if(t.good){g++;let i=g.toString();o&&(i=`debug${i}`),c[e]=i,f({type:"session-number",number:i},t.id,r)}else f({type:"ok"},t.id,r)})))}(i,e,r,o,a)))}if("acquire-done"===t.type&&function(e){c({good:!0,id:e})}(e),"acquire-failed"===t.type&&function(e){c({good:!1,id:e})}(e),"get-sessions"===t.type&&l((()=>p(e,r))),"get-sessions-and-disconnect"===t.type){const{devices:i}=t;l((()=>p(e,r,i)))}if("release-onclose"===t.type){const{session:e}=t;l((()=>function(e){let t=null;if(Object.keys(n).forEach((r=>{n[r]===e&&(t=r)})),null==t)return Promise.resolve();const r=t;return delete n[r],delete s[r],Promise.resolve()}(e)))}if("release-intent"===t.type){const{session:i}=t,{debug:o}=t;l((()=>function(e,t,r,i){let o=null;const a=t?s:n,c=t?n:s;if(Object.keys(a).forEach((t=>{a[t]===e&&(o=t)})),null==o)return f({type:"double-release"},r,i),Promise.resolve();const l=o,d=c[l];return u(),f({type:"path",path:l,otherSession:d},r,i),h().then((e=>{delete a[l],f({type:"ok"},e.id,i)}))}(i,o,e,r)))}"release-done"===t.type&&d(e),"enumerate-intent"===t.type&&l((()=>function(e,t){return u(),f({type:"ok"},e,t),h().then((e=>{f({type:"ok"},e.id,t)}))}(e,r))),"enumerate-done"===t.type&&d(e)}"undefined"!=typeof onconnect&&(onconnect=function(e){const t=e.ports[0];t.onmessage=function(e){y(e.data,t)}}),r.postModuleMessage=function({id:e,message:t},r){y({id:e,message:t},{postMessage:r})}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/lowlevel/sharedConnectionWorker.js"}],[1848,{"../constants":1835,events:2427},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{u(i.next(e))}catch(e){s(e)}}function a(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((i=i.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0});const n=e("events"),s=e("../constants");r.default=class{constructor(){this.allowsWriteAndEnumerate=!0,this.configurationId=1,this.debug=!1,this.debugEndpointId=2,this.debugInterfaceId=1,this.name="WebUsbPlugin",this.normalEndpointId=1,this.normalInterfaceId=0,this.requestNeeded=!0,this.unreadableHidDevice=!1,this.unreadableHidDeviceChange=new n.EventEmitter,this.version="",this._lastDevices=[]}init(e){this.debug=!!e;const{usb:t}=navigator;if(!t)throw new Error("WebUSB is not available on this browser.");this.usb=t}_deviceHasDebugLink(e){try{const t=e.configurations[0].interfaces[1].alternates[0];return 255===t.interfaceClass&&2===t.endpoints[0].endpointNumber}catch(e){return!1}}_deviceIsHid(e){return 21324===e.vendorId}_listDevices(){return i(this,void 0,void 0,(function*(){let e=0;const t=(yield this.usb.getDevices()).filter((e=>s.TREZOR_DESCS.some((t=>e.vendorId===t.vendorId&&e.productId===t.productId)))),r=t.filter((e=>this._deviceIsHid(e))),i=t.filter((e=>!this._deviceIsHid(e)));this._lastDevices=i.map((t=>{const{serialNumber:r}=t;let i=null==r||""===r?"bootloader":r;"bootloader"===i&&(e++,i+=e);return{path:i,device:t,debug:this._deviceHasDebugLink(t)}}));const n=this.unreadableHidDevice;return this.unreadableHidDevice=r.length>0,n!==this.unreadableHidDevice&&this.unreadableHidDeviceChange.emit("change"),this._lastDevices}))}enumerate(){return i(this,void 0,void 0,(function*(){return(yield this._listDevices()).map((e=>({path:e.path,debug:e.debug})))}))}_findDevice(e){const t=this._lastDevices.find((t=>t.path===e));if(null==t)throw new Error("Action was interrupted.");return t.device}send(e,t,r){return i(this,void 0,void 0,(function*(){const i=yield this._findDevice(e),n=new Uint8Array(64);n[0]=63,n.set(new Uint8Array(t),1),i.opened||(yield this.connect(e,r,!1));const s=r?this.debugEndpointId:this.normalEndpointId;return i.transferOut(s,n).then((()=>{}))}))}receive(e,t){return i(this,void 0,void 0,(function*(){const r=yield this._findDevice(e),i=t?this.debugEndpointId:this.normalEndpointId;try{r.opened||(yield this.connect(e,t,!1));const n=yield r.transferIn(i,64);if(!n.data)throw new Error("no data");return 0===n.data.byteLength?this.receive(e,t):n.data.buffer.slice(1)}catch(e){throw"Device unavailable."===e.message?new Error("Action was interrupted."):e}}))}connect(e,t,r){return i(this,void 0,void 0,(function*(){for(let i=0;i<5;i++){i>0&&(yield new Promise((e=>setTimeout((()=>e(undefined)),200*i))));try{return yield this._connectIn(e,t,r)}catch(e){if(4===i)throw e}}}))}_connectIn(e,t,r){return i(this,void 0,void 0,(function*(){const i=yield this._findDevice(e);if(yield i.open(),r){yield i.selectConfiguration(this.configurationId);try{yield i.reset()}catch(e){}}const n=t?this.debugInterfaceId:this.normalInterfaceId;yield i.claimInterface(n)}))}disconnect(e,t,r){return i(this,void 0,void 0,(function*(){const i=yield this._findDevice(e),n=t?this.debugInterfaceId:this.normalInterfaceId;yield i.releaseInterface(n),r&&(yield i.close())}))}requestDevice(){return i(this,void 0,void 0,(function*(){yield this.usb.requestDevice({filters:s.TREZOR_DESCS})}))}}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/lowlevel/webusb.js"}],[1849,{"../utils/defered":1852,"./protobuf/messages":1841,"./receive":1845,"./send":1846,"./sharedConnectionWorker":1847,"json-stable-stringify":3337},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{u(i.next(e))}catch(e){s(e)}}function a(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((i=i.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0});const n=e("../utils/defered"),s=e("./protobuf/messages"),o=e("./send"),a=e("./receive"),u=e("./sharedConnectionWorker"),c=e("json-stable-stringify");function h(e){if(null==e)return"null";const t=e.map((e=>{const{path:t}=e;return{path:t,session:null==e.session?null:e.session}}));return c(t)}function l(e,t){return Number.isNaN(parseInt(e.path,10))?e.path<t.path?-1:e.path>t.path?1:0:parseInt(e.path,10)-parseInt(t.path,10)}r.default=class{constructor(e,t){if(this.configured=!1,this.debug=!1,this.deferedDebugOnRelease={},this.deferedNormalOnRelease={},this.defereds={},this.isOutdated=!1,this.latestId=0,this.name="WebUsbTransport",this.requestNeeded=!1,this.sharedWorker=null,this.stopped=!1,this._lastStringified="",this.plugin=e,this.version=e.version,this._sharedWorkerFactory=t,!this.plugin.allowsWriteAndEnumerate)throw new Error("Plugin with shared connections cannot disallow write and enumerate")}enumerate(){return this._silentEnumerate()}_silentEnumerate(){return i(this,void 0,void 0,(function*(){yield this.sendToWorker({type:"enumerate-intent"});let e=[];try{e=yield this.plugin.enumerate()}finally{yield this.sendToWorker({type:"enumerate-done"})}const t=yield this.sendToWorker({type:"get-sessions-and-disconnect",devices:e});if("sessions"!==t.type)throw new Error("Wrong reply");const{debugSessions:r}=t,{normalSessions:i}=t,n=e.map((e=>{const t=i[e.path],n=r[e.path];return{path:e.path,session:t,debug:e.debug,debugSession:n}}));return this._releaseDisconnected(n),n.sort(l)}))}_releaseDisconnected(e){const t={};e.forEach((e=>{null!=e.session&&(t[e.session]=!0)})),Object.keys(this.deferedDebugOnRelease).forEach((e=>{null==t[e]&&this._releaseCleanup(e,!0)})),Object.keys(this.deferedNormalOnRelease).forEach((e=>{null==t[e]&&this._releaseCleanup(e,!1)}))}listen(e){const t=h(e),r=null==e?this._lastStringified:t;return this._runIter(0,r)}_runIter(e,t){return i(this,void 0,void 0,(function*(){const r=yield this._silentEnumerate(),i=h(r);return i!==t||60===e?(this._lastStringified=i,r):(yield(0,n.resolveTimeoutPromise)(500,null),this._runIter(e+1,i))}))}acquire(e,t){return i(this,void 0,void 0,(function*(){const r=yield this.sendToWorker({type:"acquire-intent",path:e.path,previous:e.previous,debug:t});if("wrong-previous-session"===r.type)throw new Error("wrong previous session");if("other-session"!==r.type)throw new Error("Strange reply");const i=null==r.otherSession;try{yield this.plugin.connect(e.path,t,i)}catch(e){throw yield this.sendToWorker({type:"acquire-failed"}),e}const s=yield this.sendToWorker({type:"acquire-done"});if("session-number"!==s.type)throw new Error("Strange reply.");const o=s.number;return t?this.deferedDebugOnRelease[o]=(0,n.create)():this.deferedNormalOnRelease[o]=(0,n.create)(),o}))}release(e,t,r){return i(this,void 0,void 0,(function*(){if(t&&!r)return void this.sendToWorker({type:"release-onclose",session:e});const i=yield this.sendToWorker({type:"release-intent",session:e,debug:r});if("double-release"===i.type)throw new Error("Trying to double release.");if("path"!==i.type)throw new Error("Strange reply.");const{path:n}=i,{otherSession:s}=i,o=null==s;this._releaseCleanup(e,r);try{yield this.plugin.disconnect(n,r,o)}catch(e){}yield this.sendToWorker({type:"release-done"})}))}_releaseCleanup(e,t){const r=t?this.deferedDebugOnRelease:this.deferedNormalOnRelease;null!=r[e]&&(r[e].reject(new Error("Device released or disconnected")),delete r[e])}configure(e){const t=(0,s.parseConfigure)(e);this._messages=t,this.configured=!0}_sendLowlevel(e,t){return r=>this.plugin.send(e,r,t)}_receiveLowlevel(e,t){return()=>this.plugin.receive(e,t)}messages(){if(null==this._messages)throw new Error("Transport not configured.");return this._messages}doWithSession(e,t,r){return i(this,void 0,void 0,(function*(){const i=yield this.sendToWorker({type:"get-sessions"});if("sessions"!==i.type)throw new Error("Wrong reply");const n=t?i.debugSessions:i.normalSessions;let s=null;if(Object.keys(n).forEach((t=>{n[t]===e&&(s=t)})),null==s)throw new Error("Session not available.");const o=s,a=yield r(o),u=t?this.deferedDebugOnRelease[e]:this.deferedNormalOnRelease[e];return Promise.race([u.rejectingPromise,a])}))}call(e,t,r,n){return this.doWithSession(e,n,(e=>i(this,void 0,void 0,(function*(){const i=this.messages();yield(0,o.buildAndSend)(i,this._sendLowlevel(e,n),t,r);return yield(0,a.receiveAndParse)(i,this._receiveLowlevel(e,n))}))))}post(e,t,r,n){return this.doWithSession(e,n,(e=>i(this,void 0,void 0,(function*(){const i=this.messages();yield(0,o.buildAndSend)(i,this._sendLowlevel(e,n),t,r)}))))}read(e,t){return this.doWithSession(e,t,(e=>i(this,void 0,void 0,(function*(){const r=this.messages();return yield(0,a.receiveAndParse)(r,this._receiveLowlevel(e,t))}))))}init(e){return i(this,void 0,void 0,(function*(){this.debug=!!e,this.requestNeeded=this.plugin.requestNeeded,yield this.plugin.init(e),null!=this._sharedWorkerFactory&&(this.sharedWorker=this._sharedWorkerFactory(),null!=this.sharedWorker&&(this.sharedWorker.port.onmessage=e=>{this.receiveFromWorker(e.data)}))}))}requestDevice(){return this.plugin.requestDevice()}sendToWorker(e){if(this.stopped)return Promise.reject("Transport stopped.");this.latestId++;const t=this.latestId;return this.defereds[t]=(0,n.create)(),null!=this.sharedWorker?this.sharedWorker.port.postMessage({id:t,message:e}):(0,u.postModuleMessage)({id:t,message:e},(e=>this.receiveFromWorker(e))),this.defereds[t].promise}receiveFromWorker(e){this.defereds[e.id].resolve(e.message),delete this.defereds[e.id]}stop(){this.stopped=!0,this.sharedWorker=null}}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/lowlevel/withSharedConnections.js"}],[1850,{"./messages":1851},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Messages=void 0,r.Messages=e("./messages")}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/types/index.js"}],[1851,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.TezosBallotType=r.TezosContractType=r.StellarSignerType=r.StellarMemoType=r.StellarAssetType=r.NEMImportanceTransferMode=r.NEMModificationType=r.NEMSupplyChangeType=r.NEMMosaicLevy=r.MoneroNetworkType=r.Enum_WordRequestType=r.RecoveryDeviceType=r.SdProtectOperationType=r.Enum_Capability=r.Enum_SafetyCheckLevel=r.Enum_BackupType=r.EthereumDataType=r.DebugButton=r.Enum_PinMatrixRequestType=r.Enum_ButtonRequestType=r.FailureType=r.CardanoTxWitnessType=r.CardanoTxSigningMode=r.CardanoGovernanceRegistrationFormat=r.CardanoTxAuxiliaryDataSupplementType=r.CardanoPoolRelayType=r.CardanoCertificateType=r.CardanoTxOutputSerializationFormat=r.CardanoNativeScriptHashDisplayFormat=r.CardanoNativeScriptType=r.CardanoAddressType=r.CardanoDerivationType=r.Enum_RequestType=r.AmountUnit=r.DecredStakingSpendType=r.Enum_OutputScriptType=r.Enum_InputScriptType=r.BinanceTimeInForce=r.BinanceOrderSide=r.BinanceOrderType=void 0,function(e){e[e.OT_UNKNOWN=0]="OT_UNKNOWN",e[e.MARKET=1]="MARKET",e[e.LIMIT=2]="LIMIT",e[e.OT_RESERVED=3]="OT_RESERVED"}(r.BinanceOrderType||(r.BinanceOrderType={})),function(e){e[e.SIDE_UNKNOWN=0]="SIDE_UNKNOWN",e[e.BUY=1]="BUY",e[e.SELL=2]="SELL"}(r.BinanceOrderSide||(r.BinanceOrderSide={})),function(e){e[e.TIF_UNKNOWN=0]="TIF_UNKNOWN",e[e.GTE=1]="GTE",e[e.TIF_RESERVED=2]="TIF_RESERVED",e[e.IOC=3]="IOC"}(r.BinanceTimeInForce||(r.BinanceTimeInForce={})),function(e){e[e.SPENDADDRESS=0]="SPENDADDRESS",e[e.SPENDMULTISIG=1]="SPENDMULTISIG",e[e.EXTERNAL=2]="EXTERNAL",e[e.SPENDWITNESS=3]="SPENDWITNESS",e[e.SPENDP2SHWITNESS=4]="SPENDP2SHWITNESS",e[e.SPENDTAPROOT=5]="SPENDTAPROOT"}(r.Enum_InputScriptType||(r.Enum_InputScriptType={})),function(e){e[e.PAYTOADDRESS=0]="PAYTOADDRESS",e[e.PAYTOSCRIPTHASH=1]="PAYTOSCRIPTHASH",e[e.PAYTOMULTISIG=2]="PAYTOMULTISIG",e[e.PAYTOOPRETURN=3]="PAYTOOPRETURN",e[e.PAYTOWITNESS=4]="PAYTOWITNESS",e[e.PAYTOP2SHWITNESS=5]="PAYTOP2SHWITNESS",e[e.PAYTOTAPROOT=6]="PAYTOTAPROOT"}(r.Enum_OutputScriptType||(r.Enum_OutputScriptType={})),function(e){e[e.SSGen=0]="SSGen",e[e.SSRTX=1]="SSRTX"}(r.DecredStakingSpendType||(r.DecredStakingSpendType={})),function(e){e[e.BITCOIN=0]="BITCOIN",e[e.MILLIBITCOIN=1]="MILLIBITCOIN",e[e.MICROBITCOIN=2]="MICROBITCOIN",e[e.SATOSHI=3]="SATOSHI"}(r.AmountUnit||(r.AmountUnit={})),function(e){e[e.TXINPUT=0]="TXINPUT",e[e.TXOUTPUT=1]="TXOUTPUT",e[e.TXMETA=2]="TXMETA",e[e.TXFINISHED=3]="TXFINISHED",e[e.TXEXTRADATA=4]="TXEXTRADATA",e[e.TXORIGINPUT=5]="TXORIGINPUT",e[e.TXORIGOUTPUT=6]="TXORIGOUTPUT",e[e.TXPAYMENTREQ=7]="TXPAYMENTREQ"}(r.Enum_RequestType||(r.Enum_RequestType={})),function(e){e[e.LEDGER=0]="LEDGER",e[e.ICARUS=1]="ICARUS",e[e.ICARUS_TREZOR=2]="ICARUS_TREZOR"}(r.CardanoDerivationType||(r.CardanoDerivationType={})),function(e){e[e.BASE=0]="BASE",e[e.BASE_SCRIPT_KEY=1]="BASE_SCRIPT_KEY",e[e.BASE_KEY_SCRIPT=2]="BASE_KEY_SCRIPT",e[e.BASE_SCRIPT_SCRIPT=3]="BASE_SCRIPT_SCRIPT",e[e.POINTER=4]="POINTER",e[e.POINTER_SCRIPT=5]="POINTER_SCRIPT",e[e.ENTERPRISE=6]="ENTERPRISE",e[e.ENTERPRISE_SCRIPT=7]="ENTERPRISE_SCRIPT",e[e.BYRON=8]="BYRON",e[e.REWARD=14]="REWARD",e[e.REWARD_SCRIPT=15]="REWARD_SCRIPT"}(r.CardanoAddressType||(r.CardanoAddressType={})),function(e){e[e.PUB_KEY=0]="PUB_KEY",e[e.ALL=1]="ALL",e[e.ANY=2]="ANY",e[e.N_OF_K=3]="N_OF_K",e[e.INVALID_BEFORE=4]="INVALID_BEFORE",e[e.INVALID_HEREAFTER=5]="INVALID_HEREAFTER"}(r.CardanoNativeScriptType||(r.CardanoNativeScriptType={})),function(e){e[e.HIDE=0]="HIDE",e[e.BECH32=1]="BECH32",e[e.POLICY_ID=2]="POLICY_ID"}(r.CardanoNativeScriptHashDisplayFormat||(r.CardanoNativeScriptHashDisplayFormat={})),function(e){e[e.ARRAY_LEGACY=0]="ARRAY_LEGACY",e[e.MAP_BABBAGE=1]="MAP_BABBAGE"}(r.CardanoTxOutputSerializationFormat||(r.CardanoTxOutputSerializationFormat={})),function(e){e[e.STAKE_REGISTRATION=0]="STAKE_REGISTRATION",e[e.STAKE_DEREGISTRATION=1]="STAKE_DEREGISTRATION",e[e.STAKE_DELEGATION=2]="STAKE_DELEGATION",e[e.STAKE_POOL_REGISTRATION=3]="STAKE_POOL_REGISTRATION"}(r.CardanoCertificateType||(r.CardanoCertificateType={})),function(e){e[e.SINGLE_HOST_IP=0]="SINGLE_HOST_IP",e[e.SINGLE_HOST_NAME=1]="SINGLE_HOST_NAME",e[e.MULTIPLE_HOST_NAME=2]="MULTIPLE_HOST_NAME"}(r.CardanoPoolRelayType||(r.CardanoPoolRelayType={})),function(e){e[e.NONE=0]="NONE",e[e.GOVERNANCE_REGISTRATION_SIGNATURE=1]="GOVERNANCE_REGISTRATION_SIGNATURE"}(r.CardanoTxAuxiliaryDataSupplementType||(r.CardanoTxAuxiliaryDataSupplementType={})),function(e){e[e.CIP15=0]="CIP15",e[e.CIP36=1]="CIP36"}(r.CardanoGovernanceRegistrationFormat||(r.CardanoGovernanceRegistrationFormat={})),function(e){e[e.ORDINARY_TRANSACTION=0]="ORDINARY_TRANSACTION",e[e.POOL_REGISTRATION_AS_OWNER=1]="POOL_REGISTRATION_AS_OWNER",e[e.MULTISIG_TRANSACTION=2]="MULTISIG_TRANSACTION",e[e.PLUTUS_TRANSACTION=3]="PLUTUS_TRANSACTION"}(r.CardanoTxSigningMode||(r.CardanoTxSigningMode={})),function(e){e[e.BYRON_WITNESS=0]="BYRON_WITNESS",e[e.SHELLEY_WITNESS=1]="SHELLEY_WITNESS"}(r.CardanoTxWitnessType||(r.CardanoTxWitnessType={})),function(e){e[e.Failure_UnexpectedMessage=1]="Failure_UnexpectedMessage",e[e.Failure_ButtonExpected=2]="Failure_ButtonExpected",e[e.Failure_DataError=3]="Failure_DataError",e[e.Failure_ActionCancelled=4]="Failure_ActionCancelled",e[e.Failure_PinExpected=5]="Failure_PinExpected",e[e.Failure_PinCancelled=6]="Failure_PinCancelled",e[e.Failure_PinInvalid=7]="Failure_PinInvalid",e[e.Failure_InvalidSignature=8]="Failure_InvalidSignature",e[e.Failure_ProcessError=9]="Failure_ProcessError",e[e.Failure_NotEnoughFunds=10]="Failure_NotEnoughFunds",e[e.Failure_NotInitialized=11]="Failure_NotInitialized",e[e.Failure_PinMismatch=12]="Failure_PinMismatch",e[e.Failure_WipeCodeMismatch=13]="Failure_WipeCodeMismatch",e[e.Failure_InvalidSession=14]="Failure_InvalidSession",e[e.Failure_FirmwareError=99]="Failure_FirmwareError"}(r.FailureType||(r.FailureType={})),function(e){e[e.ButtonRequest_Other=1]="ButtonRequest_Other",e[e.ButtonRequest_FeeOverThreshold=2]="ButtonRequest_FeeOverThreshold",e[e.ButtonRequest_ConfirmOutput=3]="ButtonRequest_ConfirmOutput",e[e.ButtonRequest_ResetDevice=4]="ButtonRequest_ResetDevice",e[e.ButtonRequest_ConfirmWord=5]="ButtonRequest_ConfirmWord",e[e.ButtonRequest_WipeDevice=6]="ButtonRequest_WipeDevice",e[e.ButtonRequest_ProtectCall=7]="ButtonRequest_ProtectCall",e[e.ButtonRequest_SignTx=8]="ButtonRequest_SignTx",e[e.ButtonRequest_FirmwareCheck=9]="ButtonRequest_FirmwareCheck",e[e.ButtonRequest_Address=10]="ButtonRequest_Address",e[e.ButtonRequest_PublicKey=11]="ButtonRequest_PublicKey",e[e.ButtonRequest_MnemonicWordCount=12]="ButtonRequest_MnemonicWordCount",e[e.ButtonRequest_MnemonicInput=13]="ButtonRequest_MnemonicInput",e[e._Deprecated_ButtonRequest_PassphraseType=14]="_Deprecated_ButtonRequest_PassphraseType",e[e.ButtonRequest_UnknownDerivationPath=15]="ButtonRequest_UnknownDerivationPath",e[e.ButtonRequest_RecoveryHomepage=16]="ButtonRequest_RecoveryHomepage",e[e.ButtonRequest_Success=17]="ButtonRequest_Success",e[e.ButtonRequest_Warning=18]="ButtonRequest_Warning",e[e.ButtonRequest_PassphraseEntry=19]="ButtonRequest_PassphraseEntry",e[e.ButtonRequest_PinEntry=20]="ButtonRequest_PinEntry"}(r.Enum_ButtonRequestType||(r.Enum_ButtonRequestType={})),function(e){e[e.PinMatrixRequestType_Current=1]="PinMatrixRequestType_Current",e[e.PinMatrixRequestType_NewFirst=2]="PinMatrixRequestType_NewFirst",e[e.PinMatrixRequestType_NewSecond=3]="PinMatrixRequestType_NewSecond",e[e.PinMatrixRequestType_WipeCodeFirst=4]="PinMatrixRequestType_WipeCodeFirst",e[e.PinMatrixRequestType_WipeCodeSecond=5]="PinMatrixRequestType_WipeCodeSecond"}(r.Enum_PinMatrixRequestType||(r.Enum_PinMatrixRequestType={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.INFO=2]="INFO"}(r.DebugButton||(r.DebugButton={})),function(e){e[e.UINT=1]="UINT",e[e.INT=2]="INT",e[e.BYTES=3]="BYTES",e[e.STRING=4]="STRING",e[e.BOOL=5]="BOOL",e[e.ADDRESS=6]="ADDRESS",e[e.ARRAY=7]="ARRAY",e[e.STRUCT=8]="STRUCT"}(r.EthereumDataType||(r.EthereumDataType={})),function(e){e[e.Bip39=0]="Bip39",e[e.Slip39_Basic=1]="Slip39_Basic",e[e.Slip39_Advanced=2]="Slip39_Advanced"}(r.Enum_BackupType||(r.Enum_BackupType={})),function(e){e[e.Strict=0]="Strict",e[e.PromptAlways=1]="PromptAlways",e[e.PromptTemporarily=2]="PromptTemporarily"}(r.Enum_SafetyCheckLevel||(r.Enum_SafetyCheckLevel={})),function(e){e[e.Capability_Bitcoin=1]="Capability_Bitcoin",e[e.Capability_Bitcoin_like=2]="Capability_Bitcoin_like",e[e.Capability_Binance=3]="Capability_Binance",e[e.Capability_Cardano=4]="Capability_Cardano",e[e.Capability_Crypto=5]="Capability_Crypto",e[e.Capability_EOS=6]="Capability_EOS",e[e.Capability_Ethereum=7]="Capability_Ethereum",e[e.Capability_Lisk=8]="Capability_Lisk",e[e.Capability_Monero=9]="Capability_Monero",e[e.Capability_NEM=10]="Capability_NEM",e[e.Capability_Ripple=11]="Capability_Ripple",e[e.Capability_Stellar=12]="Capability_Stellar",e[e.Capability_Tezos=13]="Capability_Tezos",e[e.Capability_U2F=14]="Capability_U2F",e[e.Capability_Shamir=15]="Capability_Shamir",e[e.Capability_ShamirGroups=16]="Capability_ShamirGroups",e[e.Capability_PassphraseEntry=17]="Capability_PassphraseEntry"}(r.Enum_Capability||(r.Enum_Capability={})),function(e){e[e.DISABLE=0]="DISABLE",e[e.ENABLE=1]="ENABLE",e[e.REFRESH=2]="REFRESH"}(r.SdProtectOperationType||(r.SdProtectOperationType={})),function(e){e[e.RecoveryDeviceType_ScrambledWords=0]="RecoveryDeviceType_ScrambledWords",e[e.RecoveryDeviceType_Matrix=1]="RecoveryDeviceType_Matrix"}(r.RecoveryDeviceType||(r.RecoveryDeviceType={})),function(e){e[e.WordRequestType_Plain=0]="WordRequestType_Plain",e[e.WordRequestType_Matrix9=1]="WordRequestType_Matrix9",e[e.WordRequestType_Matrix6=2]="WordRequestType_Matrix6"}(r.Enum_WordRequestType||(r.Enum_WordRequestType={})),function(e){e[e.MAINNET=0]="MAINNET",e[e.TESTNET=1]="TESTNET",e[e.STAGENET=2]="STAGENET",e[e.FAKECHAIN=3]="FAKECHAIN"}(r.MoneroNetworkType||(r.MoneroNetworkType={})),function(e){e[e.MosaicLevy_Absolute=1]="MosaicLevy_Absolute",e[e.MosaicLevy_Percentile=2]="MosaicLevy_Percentile"}(r.NEMMosaicLevy||(r.NEMMosaicLevy={})),function(e){e[e.SupplyChange_Increase=1]="SupplyChange_Increase",e[e.SupplyChange_Decrease=2]="SupplyChange_Decrease"}(r.NEMSupplyChangeType||(r.NEMSupplyChangeType={})),function(e){e[e.CosignatoryModification_Add=1]="CosignatoryModification_Add",e[e.CosignatoryModification_Delete=2]="CosignatoryModification_Delete"}(r.NEMModificationType||(r.NEMModificationType={})),function(e){e[e.ImportanceTransfer_Activate=1]="ImportanceTransfer_Activate",e[e.ImportanceTransfer_Deactivate=2]="ImportanceTransfer_Deactivate"}(r.NEMImportanceTransferMode||(r.NEMImportanceTransferMode={})),function(e){e[e.NATIVE=0]="NATIVE",e[e.ALPHANUM4=1]="ALPHANUM4",e[e.ALPHANUM12=2]="ALPHANUM12"}(r.StellarAssetType||(r.StellarAssetType={})),function(e){e[e.NONE=0]="NONE",e[e.TEXT=1]="TEXT",e[e.ID=2]="ID",e[e.HASH=3]="HASH",e[e.RETURN=4]="RETURN"}(r.StellarMemoType||(r.StellarMemoType={})),function(e){e[e.ACCOUNT=0]="ACCOUNT",e[e.PRE_AUTH=1]="PRE_AUTH",e[e.HASH=2]="HASH"}(r.StellarSignerType||(r.StellarSignerType={})),function(e){e[e.Implicit=0]="Implicit",e[e.Originated=1]="Originated"}(r.TezosContractType||(r.TezosContractType={})),function(e){e[e.Yay=0]="Yay",e[e.Nay=1]="Nay",e[e.Pass=2]="Pass"}(r.TezosBallotType||(r.TezosBallotType={}))}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/types/messages.js"}],[1852,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.resolveTimeoutPromise=r.create=void 0,r.create=function(){let e=()=>{},t=()=>{};const r=new Promise(((r,i)=>{e=r,t=i})),i=r.then((()=>{throw new Error("Promise is always rejecting")}));return i.catch((()=>{})),{resolve:e,reject:t,promise:r,rejectingPromise:i}},r.resolveTimeoutPromise=function(e,t){return new Promise((r=>{setTimeout((()=>{r(t)}),e)}))}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/utils/defered.js"}],[1853,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.call=r.acquire=r.devices=r.version=r.info=void 0;const i="Wrong result type.";function n(e){if(null==e)return null;if("string"!=typeof e)throw new Error(i);return e}r.info=function(e){if("object"!=typeof e||null==e)throw new Error("Wrong result type.");const{version:t}=e;if("string"!=typeof t)throw new Error(i);return{version:t,configured:!!e.configured}},r.version=function(e){if("string"!=typeof e)throw new Error(i);return e.trim()},r.devices=function(e){if("object"!=typeof e)throw new Error(i);if(!(e instanceof Array))throw new Error(i);return e.map((e=>{if("object"!=typeof e||null==e)throw new Error(i);const{path:t}=e;if("string"!=typeof t)throw new Error(i);return{path:t.toString(),session:n(e.session),debugSession:n(e.debugSession),product:e.product,vendor:e.vendor,debug:!!e.debug}}))},r.acquire=function(e){if("object"!=typeof e||null==e)throw new Error(i);const{session:t}=e;if("string"!=typeof t&&"number"!=typeof t)throw new Error(i);return t.toString()},r.call=function(e){if("object"!=typeof e||null==e)throw new Error(i);const{type:t}=e;if("string"!=typeof t)throw new Error(i);const{message:r}=e;if("object"!=typeof r||null==r)throw new Error(i);return{type:t,message:r}}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/utils/highlevel-checks.js"}],[1854,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isPrimitiveField=void 0;const i=["bool","string","bytes","int32","int64","uint32","uint64","sint32","sint64","fixed32","fixed64","sfixed32","sfixed64","double","float"];r.isPrimitiveField=e=>i.includes(e)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/utils/protobuf.js"}],[1855,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AbortablePromise=r.AbortError=void 0;class i extends Error{constructor(e="Aborted"){super(e),this.name="AbortError"}}r.AbortError=i;class n extends Promise{get abortReason(){return this._abortReason}constructor(e,t){const r=t||new AbortController,n=r.signal;super(((t,r)=>{n.addEventListener("abort",(()=>{r(new i(this.abortReason))})),e(t,r,n)})),this.abort=e=>{this._abortReason=e||"Aborted",r.abort()}}}r.AbortablePromise=n,n.from=e=>e instanceof n?e:new n(((t,r)=>{e.then(t).catch(r)}))}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/abortablePromise.js"}],[1856,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.arrayDistinct=void 0;r.arrayDistinct=(e,t,r)=>r.indexOf(e)===t}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/arrayDistinct.js"}],[1857,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.arrayPartition=void 0;r.arrayPartition=(e,t)=>e.reduce((([e,r],i)=>t(i)?[[...e,i],r]:[e,[...r,i]]),[[],[]])}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/arrayPartition.js"}],[1858,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.arrayToDictionary=void 0;const i=e=>!!["string","number"].includes(typeof e);r.arrayToDictionary=(e,t,r)=>r?e.reduce(((e,r)=>{var n;const s=t(r);return i(s)?Object.assign(Object.assign({},e),{[s]:[...null!==(n=e[s])&&void 0!==n?n:[],r]}):e}),{}):e.reduce(((e,r)=>{const n=t(r);return i(n)?Object.assign(Object.assign({},e),{[n]:r}):e}),{})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/arrayToDictionary.js"}],[1859,{buffer:2426},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.reverseBuffer=void 0;r.reverseBuffer=t=>{if(t.length<1)return t;const r=e.alloc(t.length);let i=r.length-1;for(let e=0;e<r.length/2;e++)r[e]=t[i],r[i]=t[e],i--;return r}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/bufferUtils.js"}],[1860,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bytesToHumanReadable=void 0;const i=["B","KB","MB","GB","TB"];r.bytesToHumanReadable=e=>{let t=Math.abs(e),r=0;for(;t>=1024||r>=i.length;)t/=1024,r++;return`${t.toFixed(1)} ${i[r]}`}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/bytesToHumanReadable.js"}],[1861,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.capitalizeFirstLetter=void 0;r.capitalizeFirstLetter=e=>e.charAt(0).toUpperCase()+e.slice(1)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/capitalizeFirstLetter.js"}],[1862,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.countBytesInString=void 0;r.countBytesInString=e=>encodeURI(e).split(/%..|./).length-1}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/countBytesInString.js"}],[1863,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDeferred=void 0;r.createDeferred=e=>{let t=()=>{},r=()=>{};const i=new Promise(((e,i)=>{t=e,r=i}));return{id:e,resolve:t,reject:r,promise:i}}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/createDeferred.js"}],[1864,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createTimeoutPromise=void 0;r.createTimeoutPromise=e=>new Promise((t=>setTimeout(t,e)))}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/createTimeoutPromise.js"}],[1865,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getValueByKey=r.getKeyByValue=void 0,r.getKeyByValue=function(e,t){return e&&Object.keys(e).find((r=>e[r]===t))},r.getValueByKey=function(e,t){const r=e&&Object.keys(e).find((e=>e===t));return r&&e[r]}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/enumUtils.js"}],[1866,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getNumberFromPixelString=void 0;r.getNumberFromPixelString=e=>parseInt(e.replace("px",""),10)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/getNumberFromPixelString.js"}],[1867,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getRandomNumberInRange=void 0;r.getRandomNumberInRange=(e,t)=>Math.floor(Math.random()*(t-e+1))+e}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/getRandomNumberInRange.js"}],[1868,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getWeakRandomId=void 0;r.getWeakRandomId=e=>{let t="";const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<e;i++)t+=r.charAt(Math.floor(62*Math.random()));return t}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/getWeakRandomId.js"}],[1869,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hasUppercaseLetter=void 0;const i=new RegExp("^(.*[A-Z].*)$");r.hasUppercaseLetter=e=>i.test(e)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/hasUppercaseLetter.js"}],[1870,{"./abortablePromise":1855,"./arrayDistinct":1856,"./arrayPartition":1857,"./arrayToDictionary":1858,"./bufferUtils":1859,"./bytesToHumanReadable":1860,"./capitalizeFirstLetter":1861,"./countBytesInString":1862,"./createDeferred":1863,"./createTimeoutPromise":1864,"./enumUtils":1865,"./getNumberFromPixelString":1866,"./getRandomNumberInRange":1867,"./getWeakRandomId":1868,"./hasUppercaseLetter":1869,"./isAscii":1871,"./isHex":1872,"./isNotUndefined":1873,"./isUrl":1874,"./mergeDeepObject":1875,"./objectPartition":1876,"./parseHostname":1877,"./promiseAllSequence":1878,"./redactUserPath":1879,"./resolveStaticPath":1880,"./scheduleAction":1881,"./throwError":1882,"./topologicalSort":1883,"./truncateMiddle":1884,"./versionUtils":1885,"./xssFilters":1886},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){i===undefined&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){i===undefined&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.xssFilters=r.versionUtils=r.enumUtils=r.bufferUtils=void 0,s(e("./abortablePromise"),r),s(e("./arrayDistinct"),r),s(e("./arrayPartition"),r),s(e("./arrayToDictionary"),r),r.bufferUtils=o(e("./bufferUtils")),s(e("./bytesToHumanReadable"),r),s(e("./capitalizeFirstLetter"),r),s(e("./countBytesInString"),r),s(e("./createDeferred"),r),s(e("./createTimeoutPromise"),r),r.enumUtils=o(e("./enumUtils")),s(e("./getNumberFromPixelString"),r),s(e("./getRandomNumberInRange"),r),s(e("./getWeakRandomId"),r),s(e("./hasUppercaseLetter"),r),s(e("./isAscii"),r),s(e("./isHex"),r),s(e("./isNotUndefined"),r),s(e("./isUrl"),r),s(e("./mergeDeepObject"),r),s(e("./objectPartition"),r),s(e("./parseHostname"),r),s(e("./promiseAllSequence"),r),s(e("./redactUserPath"),r),s(e("./resolveStaticPath"),r),s(e("./scheduleAction"),r),s(e("./throwError"),r),s(e("./truncateMiddle"),r),s(e("./topologicalSort"),r),r.versionUtils=o(e("./versionUtils")),r.xssFilters=o(e("./xssFilters"))}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/index.js"}],[1871,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isAscii=void 0,r.isAscii=function(e){return!e||/^[\x00-\x7F]*$/.test(e)}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/isAscii.js"}],[1872,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isHex=void 0;r.isHex=e=>/^(0x|0X)?[0-9A-Fa-f]+$/g.test(e)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/isHex.js"}],[1873,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isNotUndefined=void 0;r.isNotUndefined=e=>void 0!==e}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/isNotUndefined.js"}],[1874,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isUrl=void 0;const i=/^(http|ws)s?:\/\/[a-z0-9]([a-z0-9.-]+)?(:[0-9]{1,5})?((\/)?(([a-z0-9-_])+(\/)?)+)$/i;r.isUrl=e=>i.test(e)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/isUrl.js"}],[1875,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mergeDeepObject=void 0;const i=e=>{if("object"==typeof e&&null!==e){if("function"==typeof Object.getPrototypeOf){const t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}return"[object Object]"===Object.prototype.toString.call(e)}return!1};r.mergeDeepObject=(...e)=>e.reduce(((e,t)=>{if(Array.isArray(t))throw new TypeError("Arguments provided to ts-deepmerge must be objects, not arrays.");return Object.keys(t).forEach((n=>{["__proto__","constructor","prototype"].includes(n)||(Array.isArray(e[n])&&Array.isArray(t[n])?e[n]=r.mergeDeepObject.options.mergeArrays?Array.from(new Set(e[n].concat(t[n]))):t[n]:i(e[n])&&i(t[n])?e[n]=(0,r.mergeDeepObject)(e[n],t[n]):e[n]=t[n])})),e}),{});const n={mergeArrays:!0};r.mergeDeepObject.options=n,r.mergeDeepObject.withOptions=(e,...t)=>{r.mergeDeepObject.options=Object.assign({mergeArrays:!0},e);const i=(0,r.mergeDeepObject)(...t);return r.mergeDeepObject.options=n,i}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/mergeDeepObject.js"}],[1876,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=this&&this.__rest||function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r};Object.defineProperty(r,"__esModule",{value:!0}),r.objectPartition=void 0;r.objectPartition=(e,t)=>t.reduce((([e,t],r)=>{const n=t,s=r,o=n[s],a=i(n,["symbol"==typeof s?s:s+""]);return void 0!==o?[Object.assign(Object.assign({},e),{[r]:o}),a]:[e,t]}),[{},e])}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/objectPartition.js"}],[1877,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.parseHostname=void 0;const i=/^([a-z0-9.+-]+:\/\/)?([a-z0-9.-]+)([:/][^:/]+)*\/?$/i;r.parseHostname=e=>{var t,r;return null===(r=null===(t=e.match(i))||void 0===t?void 0:t[2])||void 0===r?void 0:r.toLowerCase()}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/parseHostname.js"}],[1878,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{u(i.next(e))}catch(e){s(e)}}function a(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((i=i.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.promiseAllSequence=void 0;r.promiseAllSequence=e=>i(void 0,void 0,void 0,(function*(){const t=[];return yield e.reduce(((e,r)=>e.then(r).then((e=>(t.push(e),e)))),Promise.resolve()),t}))}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/promiseAllSequence.js"}],[1879,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.redactUserPathFromString=r.startOfUserPathRegex=void 0,r.startOfUserPathRegex=/([/\\][Uu]sers[/\\]{1,4})([^"^'^[^\]^/^\\]*)/g;r.redactUserPathFromString=e=>e.replace(r.startOfUserPathRegex,"$1[*]")}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/redactUserPath.js"}],[1880,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.resolveStaticPath=void 0;r.resolveStaticPath=(e,t=null)=>`${t||""}/static/${e.replace(/^\/+/,"")}`}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/resolveStaticPath.js"}],[1881,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{u(i.next(e))}catch(e){s(e)}}function a(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((i=i.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.scheduleAction=void 0;const n=e=>Array.isArray(e),s=()=>new Error("Aborted by signal"),o=()=>new Error("Aborted by deadline"),a=()=>new Error("Aborted by timeout"),u=(e,t)=>new Promise(((r,i)=>{if(t.aborted)return i();if(e===undefined)return r();const n=setTimeout(r,e),s=()=>{clearTimeout(n),t.removeEventListener("abort",s),i()};t.addEventListener("abort",s)})),c=(e,t,r)=>new Promise(((i,n)=>{if(r.aborted)return n();const s=e!==undefined?setTimeout((()=>n(t())),e):undefined,o=()=>{clearTimeout(s),r.removeEventListener("abort",o),n()};r.addEventListener("abort",o)})),h=(e,t)=>new Promise(((r,i)=>{if(t.aborted)return i();if(null==e?void 0:e.aborted)return i(s());const n=()=>i(s());null==e||e.addEventListener("abort",n);const o=()=>{null==e||e.removeEventListener("abort",n),t.removeEventListener("abort",o),i()};t.addEventListener("abort",o)})),l=(e,t)=>i(void 0,void 0,void 0,(function*(){const r=new AbortController,i=()=>r.abort();t.aborted&&i(),t.addEventListener("abort",i);try{return yield new Promise((t=>t(e(r.signal))))}finally{t.removeEventListener("abort",i)}}));r.scheduleAction=(e,t)=>i(void 0,void 0,void 0,(function*(){const{signal:r,delay:s,attempts:f,timeout:d,deadline:p,gap:g}=t,y=p&&p-Date.now(),m=n(f)?f.length:null!=f?f:p?Infinity:1,b=new AbortController,w=b.signal,v=n(f)?e=>f[e]:()=>({timeout:d,gap:g});try{return yield Promise.race([h(r,w),c(y,o,w),u(s,w).then((()=>((e,t,r,n)=>i(void 0,void 0,void 0,(function*(){for(let i=0;i<e-1&&!n.aborted;i++){const e=new AbortController,s=()=>e.abort();n.addEventListener("abort",s);try{return yield t(i,e.signal)}catch(e){s(),yield r(i)}finally{n.removeEventListener("abort",s)}}return n.aborted?Promise.reject():t(e-1,n)})))(m,((t,r)=>Promise.race([c(v(t).timeout,a,w),l(e,r)])),(e=>{var t;return u(null!==(t=v(e).gap)&&void 0!==t?t:0,w)}),w)))])}finally{b.abort()}}))}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/scheduleAction.js"}],[1882,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.throwError=void 0;r.throwError=e=>{throw new Error(e)}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/throwError.js"}],[1883,{"./arrayPartition":1857},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.topologicalSort=void 0;const i=e("./arrayPartition");r.topologicalSort=(e,t,r)=>{const n=[],s=e=>(0,i.arrayPartition)(e,(r=>!e.some((e=>t(e,r)))));let o=e;for(;o.length;){const[e,t]=s(o);if(!e.length)throw new Error("Cycle detected");n.push(...r?e.sort(r):e),o=t}return n}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/topologicalSort.js"}],[1884,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.truncateMiddle=void 0;r.truncateMiddle=(e,t,r)=>{if(e.length<=t+r)return e;return`${e.substring(0,t)}${e.substring(e.length-r,e.length)}`}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/truncateMiddle.js"}],[1885,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.normalizeVersion=r.isNewerOrEqual=r.isEqual=r.isNewer=r.isVersionArray=void 0;const i=e=>({major:e[0],minor:e[1],patch:e[2]}),n=e=>{const t=e.split(".");if(3!==t.length)throw new Error("version string is in wrong format");return t},s=e=>`${e[0]}.${e[1]}.${e[2]}`;r.isVersionArray=e=>3===e.length;r.isNewer=(e,t)=>{const r=i("string"==typeof e?n(e):e),s=i("string"==typeof t?n(t):t);return r.major-s.major!=0?r.major>s.major:r.minor-s.minor!=0?r.minor>s.minor:r.patch-s.patch!=0&&r.patch>s.patch};r.isEqual=(e,t)=>("string"==typeof e?e:s(e))===("string"==typeof t?t:s(t));r.isNewerOrEqual=(e,t)=>(0,r.isNewer)(e,t)||(0,r.isEqual)(e,t);r.normalizeVersion=e=>e.replace(/\b0+(\d)/g,"$1")}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/versionUtils.js"}],[1886,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.inDoubleQuotes=r.inSingleQuotes=r.inHTML=void 0;const i=/</g,n=/'/g,s=/"/g;r.inHTML=e=>e.replace(i,"&lt;");r.inSingleQuotes=e=>e.replace(n,"&#39;");r.inDoubleQuotes=e=>e.replace(s,"&quot;")}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/xssFilters.js"}],[19,{"../../../../shared/constants/permissions":4020,nanoid:3589},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getPermissionBackgroundApiMethods=function(e){return{addPermittedAccount:(t,r)=>{const i=e.getCaveat(t,s.RestrictedMethods.eth_accounts,s.CaveatTypes.restrictReturnedAccounts);i.value.includes(r)||e.updateCaveat(t,s.RestrictedMethods.eth_accounts,s.CaveatTypes.restrictReturnedAccounts,[...i.value,r])},removePermittedAccount:(t,r)=>{const i=e.getCaveat(t,s.RestrictedMethods.eth_accounts,s.CaveatTypes.restrictReturnedAccounts);if(!i.value.includes(r))return;const n=i.value.filter((e=>e!==r));0===n.length?e.revokePermission(t,s.RestrictedMethods.eth_accounts):e.updateCaveat(t,s.RestrictedMethods.eth_accounts,s.CaveatTypes.restrictReturnedAccounts,n)},requestAccountsPermissionWithId:async t=>{const r=(0,n.default)();return e.requestPermissions({origin:t},{eth_accounts:{}},{id:r}),r}}};var i,n=(i=e("nanoid"))&&i.__esModule?i:{default:i},s=e("../../../../shared/constants/permissions")}}},{package:"$root$",file:"app/scripts/controllers/permissions/background-api.js"}],[20,{"../../../../shared/constants/permissions":4020,"@metamask/permission-controller":1383},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CaveatMutatorFactories=void 0;var i=e("@metamask/permission-controller");const n={[e("../../../../shared/constants/permissions").CaveatTypes.restrictReturnedAccounts]:{removeAccount:function(e,t){const r=t.filter((t=>t!==e));if(r.length===t.length)return{operation:i.CaveatMutatorOperation.noop};if(r.length>0)return{operation:i.CaveatMutatorOperation.updateValue,value:r};return{operation:i.CaveatMutatorOperation.revokePermission}}}};r.CaveatMutatorFactories=n}}},{package:"$root$",file:"app/scripts/controllers/permissions/caveat-mutators.js"}],[21,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.WALLET_PREFIX=r.NOTIFICATION_NAMES=r.LOG_METHOD_TYPES=r.LOG_LIMIT=r.LOG_IGNORE_METHODS=void 0;r.WALLET_PREFIX="wallet_";r.NOTIFICATION_NAMES={accountsChanged:"metamask_accountsChanged",unlockStateChanged:"metamask_unlockStateChanged",chainChanged:"metamask_chainChanged"};r.LOG_IGNORE_METHODS=["wallet_registerOnboarding","wallet_watchAsset"];r.LOG_METHOD_TYPES={restricted:"restricted",internal:"internal"};r.LOG_LIMIT=100}}},{package:"$root$",file:"app/scripts/controllers/permissions/enums.js"}],[216,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function i(e,t){const r=BigInt(1)<<BigInt(e);if(t>=r)throw new Error(`index ${t} too large for depth ${e}`);return r|t}Object.defineProperty(r,"__esModule",{value:!0}),r.gindexChild=r.gindexParent=r.gindexSibling=r.concatGindices=r.getGindexBits=r.gindexIterator=r.getGindicesAtDepth=r.iterateAtDepth=r.countToDepth=r.convertGindexToBitstring=r.toGindexBitstring=r.toGindex=r.bitIndexBigInt=void 0,r.bitIndexBigInt=function(e){return e.toString(2).length-1},r.toGindex=i,r.toGindexBitstring=function(e,t){const r=t?Number(t).toString(2):"";if(r.length>e)throw new Error("index too large for depth");return"1"+r.padStart(e,"0")},r.convertGindexToBitstring=function(e){if("string"==typeof e){if(0===e.length)throw new Error(n);return e}if(e<1)throw new Error(n);return e.toString(2)},r.countToDepth=function(e){return e<=1?0:(e-BigInt(1)).toString(2).length},r.iterateAtDepth=function(e,t,r){if(t+r>BigInt(1)<<BigInt(e))throw new Error("Too large for depth");let n=i(e,t);const s=n+r;return{[Symbol.iterator]:()=>({next(){if(n<s){const e=n;return n++,{done:!1,value:e}}return{done:!0,value:undefined}}})}},r.getGindicesAtDepth=function(e,t,r){if(t+r>BigInt(1)<<BigInt(e))throw new Error("Too large for depth");let n=i(e,BigInt(t));const s=[];for(let e=0;e<r;e++)s.push(n++);return s};const n="Invalid gindex";r.gindexIterator=function(e){let t;if("string"==typeof e){if(!e.length)throw new Error(n);t=e}else{if(e<1)throw new Error(n);t=e.toString(2)}let r=1;const i=()=>{if(r===t.length)return{done:!0,value:undefined};const e=Number(t[r]);return r++,{done:!1,value:e}};return{[Symbol.iterator]:()=>({next:i}),remainingBitLength:()=>t.length-r}},r.getGindexBits=function(e){let t;if("string"==typeof e){if(!e.length)throw new Error(n);t=e}else{if(e<1)throw new Error(n);t=e.toString(2)}const r=[];for(let e=1;e<t.length;e++)r.push(Number(t[e]));return r},r.concatGindices=function(e){return BigInt(e.reduce(((e,t)=>e+t.toString(2).slice(1)),"0b1"))},r.gindexSibling=function(e){return e^BigInt(1)},r.gindexParent=function(e){return e/BigInt(2)},r.gindexChild=function(e,t){return e*BigInt(2)+BigInt(t)}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz>@chainsafe/persistent-merkle-tree",file:"node_modules/@chainsafe/persistent-merkle-tree/lib/gindex.js"}],[217,{"@chainsafe/as-sha256":2421},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isHashObject=r.uint8ArrayToHashObject=r.hashObjectToUint8Array=r.hashTwoObjects=r.hash=void 0;const i=e("@chainsafe/as-sha256"),n=new Uint8Array(64);r.hash=function(e,t){return n.set(e,0),n.set(t,32),i.digest64(n)},r.hashTwoObjects=function(e,t){return i.digest64HashObjects(e,t)},r.hashObjectToUint8Array=function(e){const t=new Uint8Array(32);return i.hashObjectToByteArray(e,t,0),t},r.uint8ArrayToHashObject=function(e){return i.byteArrayToHashObject(e)},r.isHashObject=function(e){return e.length===undefined}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz>@chainsafe/persistent-merkle-tree",file:"node_modules/@chainsafe/persistent-merkle-tree/lib/hash.js"}],[218,{"./gindex":216,"./hash":217,"./node":219,"./packedNode":220,"./proof":221,"./subtree":226,"./tree":227,"./zeroNode":228},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){i===undefined&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===undefined&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e("./gindex"),r),n(e("./hash"),r),n(e("./node"),r),n(e("./packedNode"),r),n(e("./proof"),r),n(e("./subtree"),r),n(e("./tree"),r),n(e("./zeroNode"),r)}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz>@chainsafe/persistent-merkle-tree",file:"node_modules/@chainsafe/persistent-merkle-tree/lib/index.js"}],[219,{"./hash":217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bitwiseOrNodeH=r.setNodeH=r.getNodeH=r.compose=r.identity=r.LeafNode=r.BranchNode=r.Node=void 0;const i=e("./hash"),n=2**32;class s{constructor(e,t,r,i,n,s,o,a){this.h0=e,this.h1=t,this.h2=r,this.h3=i,this.h4=n,this.h5=s,this.h6=o,this.h7=a}applyHash(e){this.h0=e.h0,this.h1=e.h1,this.h2=e.h2,this.h3=e.h3,this.h4=e.h4,this.h5=e.h5,this.h6=e.h6,this.h7=e.h7}}r.Node=s;r.BranchNode=class extends s{constructor(e,t){if(super(null,0,0,0,0,0,0,0),this._left=e,this._right=t,!e)throw new Error("Left node is undefined");if(!t)throw new Error("Right node is undefined")}get rootHashObject(){return null===this.h0&&super.applyHash(i.hashTwoObjects(this.left.rootHashObject,this.right.rootHashObject)),this}get root(){return i.hashObjectToUint8Array(this.rootHashObject)}isLeaf(){return!1}get left(){return this._left}get right(){return this._right}};class o extends s{static fromRoot(e){return this.fromHashObject(i.uint8ArrayToHashObject(e))}static fromHashObject(e){return new o(e.h0,e.h1,e.h2,e.h3,e.h4,e.h5,e.h6,e.h7)}static fromZero(){return new o(0,0,0,0,0,0,0,0)}static fromUint32(e){return new o(e,0,0,0,0,0,0,0)}clone(){return o.fromHashObject(this)}get rootHashObject(){return this}get root(){return i.hashObjectToUint8Array(this)}isLeaf(){return!0}get left(){throw Error("LeafNode has no left node")}get right(){throw Error("LeafNode has no right node")}writeToBytes(e,t,r){e.set(this.root.slice(0,r),t)}getUint(e,t,r){const i=Math.floor(t/4);if(e<4){const r=t%4*8,n=a(this,i);return 1===e?255&n>>r:65535&n>>r}if(4===e)return a(this,i)>>>0;if(8===e){const e=a(this,i),t=a(this,i+1);return 0===t?e>>>0:-1===t&&-1===e&&r?Infinity:(e>>>0)+(t>>>0)*n}throw Error("uintBytes > 8")}getUintBigint(e,t){const r=Math.floor(t/4);if(e<4){const i=t%4*8,n=a(this,r);return 1===e?BigInt(255&n>>i):BigInt(65535&n>>i)}if(4===e)return BigInt(a(this,r)>>>0);{const t=Math.ceil(e/4);let i=BigInt(0);for(let e=0;e<t;e++)i+=BigInt(a(this,r+e)>>>0)<<BigInt(32*e);return i}}setUint(e,t,r,i){const s=Math.floor(t/4);if(e<4){const i=t%4*8;let n=a(this,s);1===e?(n&=~(255<<i),n|=r<<i):(n&=~(65535<<i),n|=r<<i),u(this,s,n)}else if(4===e)u(this,s,r);else{if(8!==e)throw Error("uintBytes > 8");r===Infinity&&i?(u(this,s,-1),u(this,s+1,-1)):(u(this,s,4294967295&r),u(this,s+1,r/n&4294967295))}}setUintBigint(e,t,r){const i=Math.floor(t/4);if(e<4){const n=Number(r),s=t%4*8;let o=a(this,i);1===e?(o&=~(255<<s),o|=n<<s):(o&=~(65535<<s),o|=n<<s),u(this,i,o)}else if(4===e)u(this,i,Number(r));else{const t=i+Math.ceil(e/4);for(let e=i;e<t;e++)u(this,e,Number(r&BigInt(4294967295))),r>>=BigInt(32)}}bitwiseOrUint(e,t,r){const i=Math.floor(t/4);if(e<4){c(this,i,r<<t%4*8)}else if(4===e)c(this,i,r);else{const t=i+Math.ceil(e/4);for(let e=i;e<t;e++)c(this,e,4294967295&r),r>>=32}}}function a(e,t){if(0===t)return e.h0;if(1===t)return e.h1;if(2===t)return e.h2;if(3===t)return e.h3;if(4===t)return e.h4;if(5===t)return e.h5;if(6===t)return e.h6;if(7===t)return e.h7;throw Error("hIndex > 7")}function u(e,t,r){if(0===t)e.h0=r;else if(1===t)e.h1=r;else if(2===t)e.h2=r;else if(3===t)e.h3=r;else if(4===t)e.h4=r;else if(5===t)e.h5=r;else if(6===t)e.h6=r;else{if(7!==t)throw Error("hIndex > 7");e.h7=r}}function c(e,t,r){if(0===t)e.h0|=r;else if(1===t)e.h1|=r;else if(2===t)e.h2|=r;else if(3===t)e.h3|=r;else if(4===t)e.h4|=r;else if(5===t)e.h5|=r;else if(6===t)e.h6|=r;else{if(7!==t)throw Error("hIndex > 7");e.h7|=r}}r.LeafNode=o,r.identity=function(e){return e},r.compose=function(e,t){return function(r){return t(e(r))}},r.getNodeH=a,r.setNodeH=u,r.bitwiseOrNodeH=c}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz>@chainsafe/persistent-merkle-tree",file:"node_modules/@chainsafe/persistent-merkle-tree/lib/node.js"}],[22,{"./background-api":19,"./caveat-mutators":20,"./enums":21,"./permission-log":23,"./selectors":24,"./specifications":25},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var i=e("./caveat-mutators");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===i[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return i[e]}}))}));var n=e("./background-api");Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===n[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return n[e]}}))}));var s=e("./enums");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===s[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return s[e]}}))}));var o=e("./permission-log");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===o[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=e("./specifications");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===a[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return a[e]}}))}));var u=e("./selectors");Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===u[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return u[e]}}))}))}}},{package:"$root$",file:"app/scripts/controllers/permissions/index.js"}],[220,{"./node":219,"./subtree":226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.packedNodeRootsToBytes=r.packedRootsBytesToLeafNodes=r.packedRootsBytesToNode=void 0;const i=e("./subtree"),n=e("./node");function s(e,t,r){const i=r-t,s=Math.floor(i/32),o=new Array(Math.ceil(i/32));for(let r=0;r<s;r++){const i=t+32*r;o[r]=new n.LeafNode(e.getInt32(i+0,!0),e.getInt32(i+4,!0),e.getInt32(i+8,!0),e.getInt32(i+12,!0),e.getInt32(i+16,!0),e.getInt32(i+20,!0),e.getInt32(i+24,!0),e.getInt32(i+28,!0))}const a=i%32;if(a>0){const r=new n.LeafNode(0,0,0,0,0,0,0,0);o[s]=r;const u=Math.floor(a/4);for(let i=0;i<u;i++)n.setNodeH(r,i,e.getInt32(t+32*s+4*i,!0));const c=i%4;if(c>0){let s=0;for(let r=0;r<c;r++)s|=e.getUint8(t+i-c+r)<<8*r;n.setNodeH(r,u,s)}}return o}r.packedRootsBytesToNode=function(e,t,r,n){const o=s(t,r,n);return i.subtreeFillToContents(o,e)},r.packedRootsBytesToLeafNodes=s,r.packedNodeRootsToBytes=function(e,t,r,i){const s=r%32,o=Math.floor(r/32);for(let r=0;r<o;r++){const n=i[r],s=t+32*r;e.setInt32(s+0,n.h0,!0),e.setInt32(s+4,n.h1,!0),e.setInt32(s+8,n.h2,!0),e.setInt32(s+12,n.h3,!0),e.setInt32(s+16,n.h4,!0),e.setInt32(s+20,n.h5,!0),e.setInt32(s+24,n.h6,!0),e.setInt32(s+28,n.h7,!0)}if(s>0){const a=i[o],u=Math.floor(s/4);for(let r=0;r<u;r++)e.setInt32(t+32*o+4*r,n.getNodeH(a,r),!0);const c=r%4;if(c>0){const i=n.getNodeH(a,u);for(let n=0;n<c;n++)e.setUint8(t+r-c+n,i>>8*n&255)}}}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz>@chainsafe/persistent-merkle-tree",file:"node_modules/@chainsafe/persistent-merkle-tree/lib/packedNode.js"}],[221,{"./multi":222,"./single":223,"./treeOffset":224},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeProof=r.serializeProof=r.createNodeFromProof=r.createProof=r.ProofTypeSerialized=r.ProofType=void 0;const i=e("./multi"),n=e("./single"),s=e("./treeOffset");var o;!function(e){e.single="single",e.treeOffset="treeOffset",e.multi="multi"}(o=r.ProofType||(r.ProofType={})),r.ProofTypeSerialized=[o.single,o.treeOffset,o.multi],r.createProof=function(e,t){switch(t.type){case o.single:{const[r,i]=n.createSingleProof(e,t.gindex);return{type:o.single,gindex:t.gindex,leaf:r,witnesses:i}}case o.treeOffset:{const[r,i]=s.createTreeOffsetProof(e,t.gindices);return{type:o.treeOffset,offsets:r,leaves:i}}case o.multi:{const[r,n,s]=i.createMultiProof(e,t.gindices);return{type:o.multi,leaves:r,witnesses:n,gindices:s}}default:throw new Error("Invalid proof type")}},r.createNodeFromProof=function(e){switch(e.type){case o.single:return n.createNodeFromSingleProof(e.gindex,e.leaf,e.witnesses);case o.treeOffset:return s.createNodeFromTreeOffsetProof(e.offsets,e.leaves);case o.multi:return i.createNodeFromMultiProof(e.leaves,e.witnesses,e.gindices);default:throw new Error("Invalid proof type")}},r.serializeProof=function(e){switch(e.type){case o.single:case o.multi:throw new Error("Not implemented");case o.treeOffset:{const t=new Uint8Array(1+s.computeTreeOffsetProofSerializedLength(e.offsets,e.leaves));return t[0]=r.ProofTypeSerialized.indexOf(o.treeOffset),s.serializeTreeOffsetProof(t,1,e.offsets,e.leaves),t}default:throw new Error("Invalid proof type")}},r.deserializeProof=function(e){const t=r.ProofTypeSerialized[e[0]];if(!t)throw new Error("Invalid proof type");switch(t){case o.single:case o.multi:throw new Error("Not implemented");case o.treeOffset:{const[t,r]=s.deserializeTreeOffsetProof(e,1);return{type:o.treeOffset,offsets:t,leaves:r}}default:throw new Error("Invalid proof type")}}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz>@chainsafe/persistent-merkle-tree",file:"node_modules/@chainsafe/persistent-merkle-tree/lib/proof/index.js"}],[222,{"../node":219,"../tree":227,"./util":225},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createNodeFromMultiProof=r.createMultiProof=void 0;const i=e("../node"),n=e("../tree"),s=e("./util");r.createMultiProof=function(e,t){const r=new n.Tree(e),i=s.computeMultiProofBitstrings(t.map((e=>e.toString(2))),!1,s.SortOrder.Decreasing),o=t.slice().sort(((e,t)=>e<t?1:-1));return[o.map((e=>r.getRoot(e))),i.map((e=>r.getRoot(e))),o]},r.createNodeFromMultiProof=function(e,t,r){if(e.length!==r.length)throw new Error("Leaves length should equal gindices length");const n=r.map((e=>e.toString(2))),o=s.computeMultiProofBitstrings(n,!1,s.SortOrder.Decreasing);if(o.length!==t.length)throw new Error("Witnesses length should equal witnesses gindices length");const a=Math.max(n[0]?.length??0,o[0]?.length??0),u=Object.fromEntries(Array.from({length:a},((e,t)=>[t+1,{}])));for(let t=0;t<n.length;t++){const r=n[t],s=e[t];u[r.length][r]=i.LeafNode.fromRoot(s)}for(let e=0;e<o.length;e++){const r=o[e],n=t[e];u[r.length][r]=i.LeafNode.fromRoot(n)}for(let e=a;e>1;e--){const t=u[e],r=u[e-1];for(const e of Object.keys(t)){const n=t[e];if(!n)continue;const s="0"===e[e.length-1],o=e.substring(0,e.length-1),a=o+(s?"1":"0"),u=t[a];if(!u)throw new Error(`Sibling not found: ${a}`);const c=s?new i.BranchNode(n,u):new i.BranchNode(u,n);r[o]=c,delete t[e],delete t[a]}}const c=u[1][1];if(!c)throw new Error("Internal consistency error: no root found");return c}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz>@chainsafe/persistent-merkle-tree",file:"node_modules/@chainsafe/persistent-merkle-tree/lib/proof/multi.js"}],[223,{"../gindex":216,"../node":219},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createNodeFromSingleProof=r.createSingleProof=r.ERR_INVALID_NAV=void 0;const i=e("../node"),n=e("../gindex");r.ERR_INVALID_NAV="Invalid tree navigation",r.createSingleProof=function(e,t){const i=[];let s=e;for(const e of n.gindexIterator(t))if(e){if(s.isLeaf())throw new Error(r.ERR_INVALID_NAV);i.push(s.left.root),s=s.right}else{if(s.isLeaf())throw new Error(r.ERR_INVALID_NAV);i.push(s.right.root),s=s.left}return[s.root,i.reverse()]},r.createNodeFromSingleProof=function(e,t,r){let n=i.LeafNode.fromRoot(t);const s=r.slice().reverse();for(;e>1;){const t=i.LeafNode.fromRoot(s.pop());n=e%BigInt(2)===BigInt(0)?new i.BranchNode(n,t):new i.BranchNode(t,n),e/=BigInt(2)}return n}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz>@chainsafe/persistent-merkle-tree",file:"node_modules/@chainsafe/persistent-merkle-tree/lib/proof/single.js"}],[224,{"../node":219,"./util":225},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeTreeOffsetProof=r.serializeTreeOffsetProof=r.computeTreeOffsetProofSerializedLength=r.createNodeFromTreeOffsetProof=r.createTreeOffsetProof=r.treeOffsetProofToNode=r.nodeToTreeOffsetProof=void 0;const i=e("../node"),n=e("./util");function s(e,t,r){if(r.length&&r[0].startsWith(t)){if(t===r[0])return r.shift(),[[],[e.root]];{const[i,n]=s(e.left,t+"0",r),[o,a]=s(e.right,t+"1",r);return[[n.length].concat(i,o),n.concat(a)]}}return[[],[]]}function o(e,t){if(t.length){if(1===t.length)return i.LeafNode.fromRoot(t[0]);{const r=e[0];return new i.BranchNode(o(e.slice(1,r),t.slice(0,r)),o(e.slice(r),t.slice(r)))}}throw new Error("Proof must contain gt 0 leaves")}r.nodeToTreeOffsetProof=s,r.treeOffsetProofToNode=o,r.createTreeOffsetProof=function(e,t){return s(e,"1",n.computeMultiProofBitstrings(t.map((e=>e.toString(2)))))},r.createNodeFromTreeOffsetProof=function(e,t){return o(e,t)},r.computeTreeOffsetProofSerializedLength=function(e,t){return 2*(e.length+1)+32*t.length},r.serializeTreeOffsetProof=function(e,t,r,i){const n=new DataView(e.buffer,e.byteOffset,e.byteLength);n.setUint16(t,i.length,!0);const s=t+2;for(let e=0;e<r.length;e++)n.setUint16(2*e+s,r[e],!0);const o=s+2*r.length;for(let t=0;t<i.length;t++)e.set(i[t],32*t+o)},r.deserializeTreeOffsetProof=function(e,t){const r=new DataView(e.buffer,e.byteOffset,e.byteLength),i=r.getUint16(t,!0);if(e.length<2*(i-1)+32*i)throw new Error("Unable to deserialize tree offset proof: not enough bytes");const n=t+2,s=Array.from({length:i-1},((e,t)=>r.getUint16(2*t+n,!0))),o=n+2*s.length;return[s,Array.from({length:i},((t,r)=>e.subarray(32*r+o,32*(r+1)+o)))]}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz>@chainsafe/persistent-merkle-tree",file:"node_modules/@chainsafe/persistent-merkle-tree/lib/proof/treeOffset.js"}],[225,{"../gindex":216},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.computeMultiProofBitstrings=r.SortOrder=r.filterParentBitstrings=r.sortDecreasingBitstrings=r.sortInOrderBitstrings=r.computeProofBitstrings=r.computeProofGindices=void 0;const i=e("../gindex");function n(e){const t=new Set,r=new Set;let i=e;for(;i.length>1;){t.add(i);const e=i[i.length-1],n=i.substring(0,i.length-1);r.add(n+(1^Number(e))),i=n}return{path:t,branch:r}}function s(e,t){return e.length?e.map((e=>e.padEnd(t))).sort().map((e=>e.trim())):[]}function o(e){return e.length?e.sort(((e,t)=>{if(e.length<t.length)return 1;if(t.length<e.length)return-1;let r=e.indexOf("0"),i=t.indexOf("0");for(;;){if(-1===r)return-1;if(-1===i)return 1;if(r<i)return 1;if(i<r)return-1;r=e.indexOf("0",r+1),i=t.indexOf("0",i+1)}})):[]}function a(e){const t=e.slice().sort(((e,t)=>e.length-t.length)),r=[];e:for(let e=0;e<t.length;e++){const i=t[e];for(let r=e+1;r<t.length;r++){if(t[r].startsWith(i))continue e}r.push(i)}return r}var u;r.computeProofGindices=function(e){const t=new Set,r=new Set;let n=e;for(;n>1;)t.add(n),r.add(i.gindexSibling(n)),n=i.gindexParent(n);return{path:t,branch:r}},r.computeProofBitstrings=n,r.sortInOrderBitstrings=s,r.sortDecreasingBitstrings=o,r.filterParentBitstrings=a,function(e){e[e.InOrder=0]="InOrder",e[e.Decreasing=1]="Decreasing",e[e.Unsorted=2]="Unsorted"}(u=r.SortOrder||(r.SortOrder={})),r.computeMultiProofBitstrings=function(e,t=!0,r=u.InOrder){const i=a(e),c=new Set(t?i:[]),h=new Set,l=new Set;let f=1;for(const e of i){e.length>f&&(f=e.length);const{path:t,branch:r}=n(e);t.forEach((e=>h.add(e))),r.forEach((e=>l.add(e)))}switch(h.forEach((e=>l.delete(e))),l.forEach((e=>c.add(e))),r){case u.InOrder:return s(Array.from(c),f);case u.Decreasing:return o(Array.from(c));case u.Unsorted:return Array.from(c)}}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz>@chainsafe/persistent-merkle-tree",file:"node_modules/@chainsafe/persistent-merkle-tree/lib/proof/util.js"}],[226,{"./node":219,"./zeroNode":228},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.subtreeFillToContents=r.subtreeFillToLength=r.subtreeFillToDepth=void 0;const i=e("./node"),n=e("./zeroNode");function s(e,t){let r=e;for(;t>0;)r=new i.BranchNode(r,r),t--;return r}r.subtreeFillToDepth=s,r.subtreeFillToLength=function e(t,r,o){const a=1<<r;if(o>a)throw new Error("ERR_TOO_MANY_NODES");if(o===a)return s(t,r);if(0===r){if(1===o)return t;throw new Error("ERR_NAVIGATION")}if(1===r)return new i.BranchNode(t,o>1?t:n.zeroNode(0));const u=a>>1;return o<=u?new i.BranchNode(e(t,r-1,o),n.zeroNode(r-1)):new i.BranchNode(s(t,r-1),e(t,r-1,o-u))},r.subtreeFillToContents=function(e,t){const r=2**t;if(e.length>r)throw new Error(`nodes.length ${e.length} over maxIndex at depth ${t}`);if(0===e.length)return n.zeroNode(t);if(0===t)return e[0];if(1===t)return e.length>1?new i.BranchNode(e[0],e[1]):new i.BranchNode(e[0],n.zeroNode(0));let s=e.length;for(let r=t;r>0;r--){const o=s%2,a=s-o;for(let t=0;t<a;t+=2)e[t/2]=new i.BranchNode(e[t],e[t+1]);o>0&&(e[a/2]=new i.BranchNode(e[a],n.zeroNode(t-r))),s=a/2+o}return e[0]}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz>@chainsafe/persistent-merkle-tree",file:"node_modules/@chainsafe/persistent-merkle-tree/lib/subtree.js"}],[227,{"./gindex":216,"./node":219,"./proof":221,"./proof/single":223,"./zeroNode":228},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.treeZeroAfterIndex=r.iterateNodesAtDepth=r.getNodesAtDepth=r.setNodesAtDepth=r.setNodeAtDepth=r.getNodeAtDepth=r.setNodeWithFn=r.setNode=r.getNode=r.Tree=void 0;const i=e("./zeroNode"),n=e("./gindex"),s=e("./node"),o=e("./proof"),a=e("./proof/single");class u{constructor(e,t){this._rootNode=e,t&&("undefined"==typeof WeakRef?this.hook=t:this.hook=new WeakRef(t))}static createFromProof(e){return new u(o.createNodeFromProof(e))}get rootNode(){return this._rootNode}set rootNode(e){if(this._rootNode=e,this.hook)if("undefined"==typeof WeakRef)this.hook(e);else{const t=this.hook.deref();t?t(e):this.hook=undefined}}get root(){return this.rootNode.root}clone(){return new u(this.rootNode)}getSubtree(e){return new u(this.getNode(e),(t=>this.setNode(e,t)))}getNode(e){return c(this.rootNode,e)}getNodeAtDepth(e,t){return p(this.rootNode,e,t)}getRoot(e){return this.getNode(e).root}setNode(e,t){this.rootNode=h(this.rootNode,e,t)}setNodeWithFn(e,t){this.rootNode=l(this.rootNode,e,t)}setNodeAtDepth(e,t,r){this.rootNode=g(this.rootNode,e,t,r)}setRoot(e,t){this.setNode(e,s.LeafNode.fromRoot(t))}getNodesAtDepth(e,t,r){return m(this.rootNode,e,t,r)}iterateNodesAtDepth(e,t,r){return b(this.rootNode,e,t,r)}getSingleProof(e){return a.createSingleProof(this.rootNode,e)[1]}getProof(e){return o.createProof(this.rootNode,e)}}function c(e,t){const r=n.convertGindexToBitstring(t);let i=e;for(let e=1;e<r.length;e++){if(i.isLeaf())throw new Error(`Invalid tree - found leaf at depth ${e}`);i="1"===r[e]?i.right:i.left}return i}function h(e,t,r){const i=n.convertGindexToBitstring(t);return d(i,f(e,i),r)}function l(e,t,r){const i=n.convertGindexToBitstring(t),s=f(e,i),o=s[s.length-1];return d(i,s,r("1"===i[i.length-1]?o.right:o.left))}function f(e,t){let r=e;const i=[e];for(let e=1;e<t.length-1;e++)r="1"===t[e]?r.right:r.left,i.push(r);return i}function d(e,t,r){let i=r;for(let r=e.length-1;r>=1;r--)i="1"===e[r]?new s.BranchNode(t[r-1].left,i):new s.BranchNode(i,t[r-1].right);return i}function p(e,t,r){if(0===t)return e;if(1===t)return 0===r?e.left:e.right;let i=e;for(let e=t-1;e>=0;e--)i=w(e,r)?i.left:i.right;return i}function g(e,t,r,i){return y(e,t,[r],[i])}function y(e,t,r,i){if(0===t)return i.length>0?i[0]:e;const n=new Array(t),o=new Array(t),a=t-1;let u=a,c=e;n[a]=e;for(let e=0;e<r.length;e++){const t=r[e];for(let e=u;e>0;e--)c=w(e,t)?c.left:c.right,n[e-1]=c;u=0;1!=(1&t)?t+1===r[e+1]?(c=new s.BranchNode(i[e],i[e+1]),e++):c=new s.BranchNode(i[e],c.right):c=new s.BranchNode(c.left,i[e]);const f=e>=r.length-1,d=f?a:(h=t,l=r[e+1],Math.ceil(Math.log2(-~(h^l)))-1);for(let e=1;e<=d;e++)if(w(e,t))f||e!==d?c=new s.BranchNode(c,n[e].right):(o[e]=c,c=n[e]);else{const t=o[e];t!==undefined?(c=new s.BranchNode(t,c),o[e]=undefined):c=new s.BranchNode(n[e].left,c)}u=d}var h,l;return c}function m(e,t,r,i){if(0===t)return 0===r&&i>0?[e]:[];if(1===t)return 0===i?[]:1===i?0===r?[e.left]:[e.right]:[e.left,e.right];const n=t-1;let s=n,o=e;const a=new Array(t),u=new Array(t),c=new Array(i);a[n]=e;for(let e=0;e<i;e++){for(let t=s;t>=0;t--){t!==s&&(a[t]=o);const i=w(t,r+e);u[t]=i,o=i?o.left:o.right}c[e]=o;for(let e=0;e<=n;e++)if(!0===u[e]){s=e;break}o=a[s]}return c}function*b(e,t,r,i){const n=r+i,s=t-1;let o=s,a=e;const u=new Array(t),c=new Array(t);u[s]=e;for(let e=r;e<n;e++){for(let t=o;t>=0;t--){t!==o&&(u[t]=a);const r=w(t,e);c[t]=r,a=r?a.left:a.right}yield a;for(let e=0;e<=s;e++)if(!0===c[e]){o=e;break}a=u[o]}}function w(e,t){if(e>31){const r=1<<e-32;return(t/2**32>>>0&r)!==r}const r=1<<e;return(t&r)!==r}r.Tree=u,r.getNode=c,r.setNode=h,r.setNodeWithFn=l,r.getNodeAtDepth=p,r.setNodeAtDepth=g,r.setNodesAtDepth=y,r.getNodesAtDepth=m,r.iterateNodesAtDepth=b,r.treeZeroAfterIndex=function(e,t,r){if(r<0)return i.zeroNode(t);const n=new Array(t),o=t-1;let a=o,u=e;n[o]=e;for(let e=a;e>=0;e--)u=w(e,r)?u.left:u.right,n[e-1]=u;a=0;for(let e=0;e<=o;e++)u=w(e,r)?new s.BranchNode(u,i.zeroNode(e)):new s.BranchNode(n[e].left,u);return u}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz>@chainsafe/persistent-merkle-tree",file:"node_modules/@chainsafe/persistent-merkle-tree/lib/tree.js"}],[2274,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){
/*! MIT License. Copyright 2015-2018 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */
!function(e){function i(e){return parseInt(e)===e}function n(e){if(!i(e.length))return!1;for(var t=0;t<e.length;t++)if(!i(e[t])||e[t]<0||e[t]>255)return!1;return!0}function s(e,t){if(e.buffer&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!n(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(i(e.length)&&n(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function o(e){return new Uint8Array(e)}function a(e,t,r,i,n){null==i&&null==n||(e=e.slice?e.slice(i,n):Array.prototype.slice.call(e,i,n)),t.set(e,r)}var u,c={toBytes:function(e){var t=[],r=0;for(e=encodeURI(e);r<e.length;){var i=e.charCodeAt(r++);37===i?(t.push(parseInt(e.substr(r,2),16)),r+=2):t.push(i)}return s(t)},fromBytes:function(e){for(var t=[],r=0;r<e.length;){var i=e[r];i<128?(t.push(String.fromCharCode(i)),r++):i>191&&i<224?(t.push(String.fromCharCode((31&i)<<6|63&e[r+1])),r+=2):(t.push(String.fromCharCode((15&i)<<12|(63&e[r+1])<<6|63&e[r+2])),r+=3)}return t.join("")}},h=(u="0123456789abcdef",{toBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},fromBytes:function(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];t.push(u[(240&i)>>4]+u[15&i])}return t.join("")}}),l={16:10,24:12,32:14},f=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],d=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],p=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],g=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],y=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],m=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],b=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],w=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],v=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],_=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],T=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],k=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],E=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],A=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],S=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function I(e){for(var t=[],r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}var B=function(e){if(!(this instanceof B))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:s(e,!0)}),this._prepare()};B.prototype._prepare=function(){var e=l[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var r,i=4*(e+1),n=this.key.length/4,s=I(this.key);for(t=0;t<n;t++)r=t>>2,this._Ke[r][t%4]=s[t],this._Kd[e-r][t%4]=s[t];for(var o,a=0,u=n;u<i;){if(o=s[n-1],s[0]^=d[o>>16&255]<<24^d[o>>8&255]<<16^d[255&o]<<8^d[o>>24&255]^f[a]<<24,a+=1,8!=n)for(t=1;t<n;t++)s[t]^=s[t-1];else{for(t=1;t<n/2;t++)s[t]^=s[t-1];o=s[n/2-1],s[n/2]^=d[255&o]^d[o>>8&255]<<8^d[o>>16&255]<<16^d[o>>24&255]<<24;for(t=n/2+1;t<n;t++)s[t]^=s[t-1]}for(t=0;t<n&&u<i;)c=u>>2,h=u%4,this._Ke[c][h]=s[t],this._Kd[e-c][h]=s[t++],u++}for(var c=1;c<e;c++)for(var h=0;h<4;h++)o=this._Kd[c][h],this._Kd[c][h]=k[o>>24&255]^E[o>>16&255]^A[o>>8&255]^S[255&o]},B.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,r=[0,0,0,0],i=I(e),n=0;n<4;n++)i[n]^=this._Ke[0][n];for(var s=1;s<t;s++){for(n=0;n<4;n++)r[n]=g[i[n]>>24&255]^y[i[(n+1)%4]>>16&255]^m[i[(n+2)%4]>>8&255]^b[255&i[(n+3)%4]]^this._Ke[s][n];i=r.slice()}var a,u=o(16);for(n=0;n<4;n++)a=this._Ke[t][n],u[4*n]=255&(d[i[n]>>24&255]^a>>24),u[4*n+1]=255&(d[i[(n+1)%4]>>16&255]^a>>16),u[4*n+2]=255&(d[i[(n+2)%4]>>8&255]^a>>8),u[4*n+3]=255&(d[255&i[(n+3)%4]]^a);return u},B.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,r=[0,0,0,0],i=I(e),n=0;n<4;n++)i[n]^=this._Kd[0][n];for(var s=1;s<t;s++){for(n=0;n<4;n++)r[n]=w[i[n]>>24&255]^v[i[(n+3)%4]>>16&255]^_[i[(n+2)%4]>>8&255]^T[255&i[(n+1)%4]]^this._Kd[s][n];i=r.slice()}var a,u=o(16);for(n=0;n<4;n++)a=this._Kd[t][n],u[4*n]=255&(p[i[n]>>24&255]^a>>24),u[4*n+1]=255&(p[i[(n+3)%4]>>16&255]^a>>16),u[4*n+2]=255&(p[i[(n+2)%4]>>8&255]^a>>8),u[4*n+3]=255&(p[255&i[(n+1)%4]]^a);return u};var x=function(e){if(!(this instanceof x))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new B(e)};x.prototype.encrypt=function(e){if((e=s(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),i=0;i<e.length;i+=16)a(e,r,0,i,i+16),a(r=this._aes.encrypt(r),t,i);return t},x.prototype.decrypt=function(e){if((e=s(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),i=0;i<e.length;i+=16)a(e,r,0,i,i+16),a(r=this._aes.decrypt(r),t,i);return t};var P=function(e,t){if(!(this instanceof P))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=o(16);this._lastCipherblock=s(t,!0),this._aes=new B(e)};P.prototype.encrypt=function(e){if((e=s(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),i=0;i<e.length;i+=16){a(e,r,0,i,i+16);for(var n=0;n<16;n++)r[n]^=this._lastCipherblock[n];this._lastCipherblock=this._aes.encrypt(r),a(this._lastCipherblock,t,i)}return t},P.prototype.decrypt=function(e){if((e=s(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),i=0;i<e.length;i+=16){a(e,r,0,i,i+16),r=this._aes.decrypt(r);for(var n=0;n<16;n++)t[i+n]=r[n]^this._lastCipherblock[n];a(e,this._lastCipherblock,0,i,i+16)}return t};var N=function(e,t,r){if(!(this instanceof N))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=o(16);r||(r=1),this.segmentSize=r,this._shiftRegister=s(t,!0),this._aes=new B(e)};N.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,r=s(e,!0),i=0;i<r.length;i+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var n=0;n<this.segmentSize;n++)r[i+n]^=t[n];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(r,this._shiftRegister,16-this.segmentSize,i,i+this.segmentSize)}return r},N.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,r=s(e,!0),i=0;i<r.length;i+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var n=0;n<this.segmentSize;n++)r[i+n]^=t[n];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(e,this._shiftRegister,16-this.segmentSize,i,i+this.segmentSize)}return r};var L=function(e,t){if(!(this instanceof L))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=o(16);this._lastPrecipher=s(t,!0),this._lastPrecipherIndex=16,this._aes=new B(e)};L.prototype.encrypt=function(e){for(var t=s(e,!0),r=0;r<t.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},L.prototype.decrypt=L.prototype.encrypt;var O=function(e){if(!(this instanceof O))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"==typeof e?(this._counter=o(16),this.setValue(e)):this.setBytes(e)};O.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");if(e>Number.MAX_SAFE_INTEGER)throw new Error("integer value out of safe range");for(var t=15;t>=0;--t)this._counter[t]=e%256,e=parseInt(e/256)},O.prototype.setBytes=function(e){if(16!=(e=s(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},O.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var C=function(e,t){if(!(this instanceof C))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof O||(t=new O(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new B(e)};C.prototype.encrypt=function(e){for(var t=s(e,!0),r=0;r<t.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[r]^=this._remainingCounter[this._remainingCounterIndex++];return t},C.prototype.decrypt=C.prototype.encrypt;var j={AES:B,Counter:O,ModeOfOperation:{ecb:x,cbc:P,cfb:N,ofb:L,ctr:C},utils:{hex:h,utf8:c},padding:{pkcs7:{pad:function(e){var t=16-(e=s(e,!0)).length%16,r=o(e.length+t);a(e,r);for(var i=e.length;i<r.length;i++)r[i]=t;return r},strip:function(e){if((e=s(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var r=e.length-t,i=0;i<t;i++)if(e[r+i]!==t)throw new Error("PKCS#7 invalid padding byte");var n=o(r);return a(e,n,0,0,r),n}}},_arrayTest:{coerceArray:s,createArray:o,copyArray:a}};void 0!==r?t.exports=j:"function"==typeof define&&define.amd?define([],(function(){return j})):(e.aesjs&&(j._aesjs=e.aesjs),e.aesjs=j)}(this)}}},{package:"ethereumjs-wallet>aes-js",file:"node_modules/aes-js/index.js"}],[228,{"./node":219},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.zeroNode=void 0;const i=e("./node"),n=[i.LeafNode.fromZero()];r.zeroNode=function(e){if(e>=n.length)for(let t=n.length;t<=e;t++)n[t]=new i.BranchNode(n[t-1],n[t-1]);return n[e]}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz>@chainsafe/persistent-merkle-tree",file:"node_modules/@chainsafe/persistent-merkle-tree/lib/zeroNode.js"}],[229,{"@chainsafe/persistent-merkle-tree":218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BranchNodeStruct=void 0;const i=e("@chainsafe/persistent-merkle-tree");class n extends i.Node{constructor(e,t){super(null,0,0,0,0,0,0,0),this.valueToNode=e,this.value=t}get rootHashObject(){if(null===this.h0){const e=this.valueToNode(this.value);super.applyHash(e.rootHashObject)}return this}get root(){return i.hashObjectToUint8Array(this.rootHashObject)}isLeaf(){return!1}get left(){return this.valueToNode(this.value).left}get right(){return this.valueToNode(this.value).right}}r.BranchNodeStruct=n}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/branchNodeStruct.js"}],[23,{"../../../../shared/constants/permissions":4020,"./enums":21,"@metamask/obs-store":1375},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PermissionLogController=void 0;var i=e("@metamask/obs-store"),n=e("../../../../shared/constants/permissions"),s=e("./enums");function o(e,t){return e.reduce(((e,r)=>({...e,[r]:t})),{})}r.PermissionLogController=class{constructor({restrictedMethods:e,initState:t}){this.restrictedMethods=e,this.store=new i.ObservableStore({permissionHistory:{},permissionActivityLog:[],...t})}getActivityLog(){return this.store.getState().permissionActivityLog}updateActivityLog(e){this.store.updateState({permissionActivityLog:e})}getHistory(){return this.store.getState().permissionHistory}updateHistory(e){this.store.updateState({permissionHistory:e})}updateAccountsHistory(e,t){if(0===t.length)return;const r=o(t,Date.now());this.commitNewHistory(e,{eth_accounts:{accounts:r}})}createMiddleware(){return(e,t,r,i)=>{let n,o;const{origin:a,method:u}=e,c=u.startsWith(s.WALLET_PREFIX);if(s.LOG_IGNORE_METHODS.includes(u)||!c&&!this.restrictedMethods.has(u)){if("eth_requestAccounts"!==u)return void r();n=this.logRequest(e,c),o=["eth_accounts"]}else n=this.logRequest(e,c),u===`${s.WALLET_PREFIX}requestPermissions`&&(o=this.getRequestedMethods(e));r((e=>{const r=Date.now();this.logResponse(n,t,r),o&&!t.error&&t.result&&this.logPermissionsHistory(o,a,t.result,r,"eth_requestAccounts"===u),e()}))}}logRequest(e,t){const r={id:e.id,method:e.method,methodType:t?s.LOG_METHOD_TYPES.internal:s.LOG_METHOD_TYPES.restricted,origin:e.origin,requestTime:Date.now(),responseTime:null,success:null};return this.commitNewActivity(r),r}logResponse(e,t,r){e&&t&&(e.success=Object.hasOwnProperty.call(t,"result"),e.responseTime=r)}commitNewActivity(e){const t=this.getActivityLog();t.push(e),t.length>s.LOG_LIMIT&&t.shift(),this.updateActivityLog(t)}logPermissionsHistory(e,t,r,i,n){let s,a;if(n){s=r;a={eth_accounts:{accounts:o(s,i),lastApproved:i}}}else a=r.map((e=>("eth_accounts"===e.parentCapability&&(s=this.getAccountsFromPermission(e)),e.parentCapability))).reduce(((t,r)=>{if(e.includes(r))if("eth_accounts"===r){const e=o(s,i);t[r]={lastApproved:i,accounts:e}}else t[r]={lastApproved:i};return t}),{});Object.keys(a).length>0&&this.commitNewHistory(t,a)}commitNewHistory(e,t){const r=this.getHistory(),i={...r[e],...t},n=r[e]&&r[e].eth_accounts,s=t.eth_accounts;if(n&&s){const e=s.lastApproved||n.lastApproved;i.eth_accounts={lastApproved:e,accounts:{...n.accounts,...s.accounts}}}r[e]=i,this.updateHistory(r)}getRequestedMethods(e){return e.params&&e.params[0]&&"object"==typeof e.params[0]&&!Array.isArray(e.params[0])?Object.keys(e.params[0]):null}getAccountsFromPermission(e){if("eth_accounts"!==e.parentCapability||!e.caveats)return[];const t=new Set;for(const r of e.caveats)if(r.type===n.CaveatTypes.restrictReturnedAccounts&&Array.isArray(r.value))for(const e of r.value)t.add(e);return[...t]}}}}},{package:"$root$",file:"app/scripts/controllers/permissions/permission-log.js"}],[230,{"./type/abstract":231,"./type/array":232,"./type/basic":235,"./type/bitArray":236,"./type/bitList":237,"./type/bitVector":238,"./type/boolean":239,"./type/byteArray":240,"./type/byteList":241,"./type/byteVector":242,"./type/composite":243,"./type/container":244,"./type/containerNodeStruct":245,"./type/listBasic":246,"./type/listComposite":247,"./type/none":248,"./type/uint":249,"./type/union":250,"./type/vectorBasic":251,"./type/vectorComposite":252,"./util/byteArray":253,"./util/merkleize":254,"./value/bitArray":258,"./view/abstract":259,"./viewDU/abstract":267},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hash64=r.byteArrayEquals=r.toHexString=r.fromHexString=r.getUint8ByteToBitBooleanArray=r.BitArray=r.TreeViewDU=r.TreeView=r.isCompositeType=r.CompositeType=r.isBasicType=r.BasicType=r.Type=r.ByteArrayType=r.BitArrayType=r.ArrayType=r.VectorCompositeType=r.VectorBasicType=r.UnionType=r.UintNumberType=r.UintBigintType=r.NoneType=r.ListCompositeType=r.ListBasicType=r.ContainerNodeStructType=r.ContainerType=r.ByteVectorType=r.ByteListType=r.BooleanType=r.BitVectorType=r.BitListType=void 0;var i=e("./type/bitList");Object.defineProperty(r,"BitListType",{enumerable:!0,get:function(){return i.BitListType}});var n=e("./type/bitVector");Object.defineProperty(r,"BitVectorType",{enumerable:!0,get:function(){return n.BitVectorType}});var s=e("./type/boolean");Object.defineProperty(r,"BooleanType",{enumerable:!0,get:function(){return s.BooleanType}});var o=e("./type/byteList");Object.defineProperty(r,"ByteListType",{enumerable:!0,get:function(){return o.ByteListType}});var a=e("./type/byteVector");Object.defineProperty(r,"ByteVectorType",{enumerable:!0,get:function(){return a.ByteVectorType}});var u=e("./type/container");Object.defineProperty(r,"ContainerType",{enumerable:!0,get:function(){return u.ContainerType}});var c=e("./type/containerNodeStruct");Object.defineProperty(r,"ContainerNodeStructType",{enumerable:!0,get:function(){return c.ContainerNodeStructType}});var h=e("./type/listBasic");Object.defineProperty(r,"ListBasicType",{enumerable:!0,get:function(){return h.ListBasicType}});var l=e("./type/listComposite");Object.defineProperty(r,"ListCompositeType",{enumerable:!0,get:function(){return l.ListCompositeType}});var f=e("./type/none");Object.defineProperty(r,"NoneType",{enumerable:!0,get:function(){return f.NoneType}});var d=e("./type/uint");Object.defineProperty(r,"UintBigintType",{enumerable:!0,get:function(){return d.UintBigintType}}),Object.defineProperty(r,"UintNumberType",{enumerable:!0,get:function(){return d.UintNumberType}});var p=e("./type/union");Object.defineProperty(r,"UnionType",{enumerable:!0,get:function(){return p.UnionType}});var g=e("./type/vectorBasic");Object.defineProperty(r,"VectorBasicType",{enumerable:!0,get:function(){return g.VectorBasicType}});var y=e("./type/vectorComposite");Object.defineProperty(r,"VectorCompositeType",{enumerable:!0,get:function(){return y.VectorCompositeType}});var m=e("./type/array");Object.defineProperty(r,"ArrayType",{enumerable:!0,get:function(){return m.ArrayType}});var b=e("./type/bitArray");Object.defineProperty(r,"BitArrayType",{enumerable:!0,get:function(){return b.BitArrayType}});var w=e("./type/byteArray");Object.defineProperty(r,"ByteArrayType",{enumerable:!0,get:function(){return w.ByteArrayType}});var v=e("./type/abstract");Object.defineProperty(r,"Type",{enumerable:!0,get:function(){return v.Type}});var _=e("./type/basic");Object.defineProperty(r,"BasicType",{enumerable:!0,get:function(){return _.BasicType}}),Object.defineProperty(r,"isBasicType",{enumerable:!0,get:function(){return _.isBasicType}});var T=e("./type/composite");Object.defineProperty(r,"CompositeType",{enumerable:!0,get:function(){return T.CompositeType}}),Object.defineProperty(r,"isCompositeType",{enumerable:!0,get:function(){return T.isCompositeType}});var k=e("./view/abstract");Object.defineProperty(r,"TreeView",{enumerable:!0,get:function(){return k.TreeView}});var E=e("./viewDU/abstract");Object.defineProperty(r,"TreeViewDU",{enumerable:!0,get:function(){return E.TreeViewDU}});var A=e("./value/bitArray");Object.defineProperty(r,"BitArray",{enumerable:!0,get:function(){return A.BitArray}}),Object.defineProperty(r,"getUint8ByteToBitBooleanArray",{enumerable:!0,get:function(){return A.getUint8ByteToBitBooleanArray}});var S=e("./util/byteArray");Object.defineProperty(r,"fromHexString",{enumerable:!0,get:function(){return S.fromHexString}}),Object.defineProperty(r,"toHexString",{enumerable:!0,get:function(){return S.toHexString}}),Object.defineProperty(r,"byteArrayEquals",{enumerable:!0,get:function(){return S.byteArrayEquals}});var I=e("./util/merkleize");Object.defineProperty(r,"hash64",{enumerable:!0,get:function(){return I.hash64}})}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/index.js"}],[231,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Type=void 0;r.Type=class{value_toTree(e){const t=new Uint8Array(this.value_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_serializeToBytes({uint8Array:t,dataView:r},0,e),this.tree_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length)}tree_toValue(e){const t=new Uint8Array(this.tree_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.tree_serializeToBytes({uint8Array:t,dataView:r},0,e),this.value_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length)}serialize(e){const t=new Uint8Array(this.value_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_serializeToBytes({uint8Array:t,dataView:r},0,e),t}deserialize(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength);return this.value_deserializeFromBytes({uint8Array:e,dataView:t},0,e.length)}}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/abstract.js"}],[2317,{_process:3641,timers:3923},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e,t){(function(){class i{constructor(e){this.tasks=[],this.count=e}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let e=this.tasks.shift();if(e===undefined)throw"Unexpected undefined value in tasks list";e()}}acquire(){return new Promise(((r,i)=>{this.tasks.push((()=>{var e=!1;r((()=>{e||(e=!0,this.count++,this.sched())}))})),e&&e.nextTick?e.nextTick(this.sched.bind(this)):t(this.sched.bind(this))}))}use(e){return this.acquire().then((t=>e().then((e=>(t(),e))).catch((e=>{throw t(),e}))))}}r.Semaphore=i;r.Mutex=class extends i{constructor(){super(1)}}}).call(this)}).call(this,e("_process"),e("timers").setImmediate)}}},{package:"await-semaphore",file:"node_modules/await-semaphore/index.js"}],[232,{"./arrayBasic":233,"./composite":243,"@chainsafe/persistent-merkle-tree":218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ArrayType=void 0;const i=e("@chainsafe/persistent-merkle-tree"),n=e("./composite"),s=e("./arrayBasic");class o extends n.CompositeType{constructor(e){super(),this.elementType=e}defaultValue(){return s.value_defaultValueArray(this.elementType,this.defaultLen)}getPropertyType(){return this.elementType}getPropertyGindex(e){if("number"!=typeof e)throw Error(`Invalid array index: ${e}`);const t=Math.floor(e/this.itemsPerChunk);return i.toGindex(this.depth,BigInt(t))}getIndexProperty(e){return e}tree_getLeafGindices(e,t){let r;if(this.isList){if(!t)throw new Error("List type requires tree argument to get leaves");r=this.tree_getLength(t)}else r=this.tree_getLength(null);const s=[];if(n.isCompositeType(this.elementType)){const n=i.toGindex(this.depth,BigInt(0)),o=n+BigInt(r),a=i.concatGindices([e,n]);if(null===this.elementType.fixedSize){if(!t)throw new Error("Array of variable size requires tree argument to get leaves");for(let e=n,r=a;e<o;e++,r++)s.push(...this.elementType.tree_getLeafGindices(r,i.getNode(t,e)))}else for(let e=0,t=a;e<r;e++,t++)s.push(...this.elementType.tree_getLeafGindices(t))}else{const t=Math.ceil(r/this.itemsPerChunk),n=i.concatGindices([e,i.toGindex(this.depth,BigInt(0))]),o=n+BigInt(t);for(let e=n;e<o;e++)s.push(e)}return this.isList&&s.push(i.concatGindices([e,n.LENGTH_GINDEX])),s}fromJson(e){return s.value_fromJsonArray(this.elementType,e,this)}toJson(e){return s.value_toJsonArray(this.elementType,e,this)}clone(e){return s.value_cloneArray(this.elementType,e)}equals(e,t){return s.value_equals(this.elementType,e,t)}}r.ArrayType=o}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/array.js"}],[2326,{"to-data-view":3927},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=e("to-data-view");t.exports=function(e,t,r){var n,s;switch(r=r||{},t){case"RFC3548":case"RFC4648":n="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",s=!0;break;case"RFC4648-HEX":n="0123456789ABCDEFGHIJKLMNOPQRSTUV",s=!0;break;case"Crockford":n="0123456789ABCDEFGHJKMNPQRSTVWXYZ",s=!1;break;default:throw new Error("Unknown base32 variant: "+t)}for(var o=r.padding!==undefined?r.padding:s,a=i(e),u=0,c=0,h="",l=0;l<a.byteLength;l++)for(c=c<<8|a.getUint8(l),u+=8;u>=5;)h+=n[c>>>u-5&31],u-=5;if(u>0&&(h+=n[c<<5-u&31]),o)for(;h.length%8!=0;)h+="=";return h}}}},{package:"base32-encode",file:"node_modules/base32-encode/index.js"}],[233,{"@chainsafe/persistent-merkle-tree":218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.assertValidArrayLength=r.value_defaultValueArray=r.value_equals=r.value_cloneArray=r.value_toJsonArray=r.value_fromJsonArray=r.tree_deserializeFromBytesArrayBasic=r.tree_serializeToBytesArrayBasic=r.value_deserializeFromBytesArrayBasic=r.value_serializeToBytesArrayBasic=r.setChunksNode=r.addLengthNode=r.getChunksNodeFromRootNode=r.getLengthFromRootNode=void 0;const i=e("@chainsafe/persistent-merkle-tree");function n(e,t){return new i.BranchNode(e,i.LeafNode.fromUint32(t))}function s(e,t,r){if(r&&e%1!=0)throw Error("size not multiple of element fixedSize");if(t.isList){if(e>t.limit)throw new Error(`Invalid list length ${e} over limit ${t.limit}`)}else if(e!==t.length)throw new Error(`Incorrect vector length ${e} expected ${t.length}`)}r.getLengthFromRootNode=function(e){return e.right.getUint(4,0)},r.getChunksNodeFromRootNode=function(e){return e.left},r.addLengthNode=n,r.setChunksNode=function(e,t,r){const n=r!==undefined?i.LeafNode.fromUint32(r):e.right;return new i.BranchNode(t,n)},r.value_serializeToBytesArrayBasic=function(e,t,r,i,n){const s=e.byteLength;for(let o=0;o<t;o++)e.value_serializeToBytes(r,i+o*s,n[o]);return i+t*s},r.value_deserializeFromBytesArrayBasic=function(e,t,r,i,n){const o=e.byteLength,a=(i-r)/o;s(a,n,!0);const u=new Array(a);for(let i=0;i<a;i++)u[i]=e.value_deserializeFromBytes(t,r+i*o,r+(i+1)*o);return u},r.tree_serializeToBytesArrayBasic=function(e,t,r,n,s,o){const a=e.byteLength*t,u=Math.ceil(a/32),c=i.getNodesAtDepth(o,r,0,u);return i.packedNodeRootsToBytes(n.dataView,s,a,c),s+a},r.tree_deserializeFromBytesArrayBasic=function(e,t,r,o,a,u){const c=(a-o)/e.byteLength;s(c,u,!0);const h=i.packedRootsBytesToNode(t,r.dataView,o,a);return u.isList?n(h,c):h},r.value_fromJsonArray=function(e,t,r){if(!Array.isArray(t))throw Error("JSON is not an array");s(t.length,r);const i=new Array(t.length);for(let r=0;r<t.length;r++)i[r]=e.fromJson(t[r]);return i},r.value_toJsonArray=function(e,t,r){const i=r.isList?t.length:r.length,n=new Array(i);for(let r=0;r<i;r++)n[r]=e.toJson(t[r]);return n},r.value_cloneArray=function(e,t){const r=new Array(t.length);for(let i=0;i<t.length;i++)r[i]=e.clone(t[i]);return r},r.value_equals=function(e,t,r){if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(!e.equals(t[i],r[i]))return!1;return!0},r.value_defaultValueArray=function(e,t){const r=new Array(t);for(let i=0;i<t;i++)r[i]=e.defaultValue();return r},r.assertValidArrayLength=s}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/arrayBasic.js"}],[2331,{"safe-buffer":3828},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=e("safe-buffer").Buffer;t.exports={check:function(e){if(e.length<8)return!1;if(e.length>72)return!1;if(48!==e[0])return!1;if(e[1]!==e.length-2)return!1;if(2!==e[2])return!1;var t=e[3];if(0===t)return!1;if(5+t>=e.length)return!1;if(2!==e[4+t])return!1;var r=e[5+t];return 0!==r&&(6+t+r===e.length&&(!(128&e[4])&&(!(t>1&&0===e[4]&&!(128&e[5]))&&(!(128&e[t+6])&&!(r>1&&0===e[t+6]&&!(128&e[t+7]))))))},decode:function(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(48!==e[0])throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(2!==e[2])throw new Error("Expected DER integer");var t=e[3];if(0===t)throw new Error("R length is zero");if(5+t>=e.length)throw new Error("R length is too long");if(2!==e[4+t])throw new Error("Expected DER integer (2)");var r=e[5+t];if(0===r)throw new Error("S length is zero");if(6+t+r!==e.length)throw new Error("S length is invalid");if(128&e[4])throw new Error("R value is negative");if(t>1&&0===e[4]&&!(128&e[5]))throw new Error("R value excessively padded");if(128&e[t+6])throw new Error("S value is negative");if(r>1&&0===e[t+6]&&!(128&e[t+7]))throw new Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}},encode:function(e,t){var r=e.length,n=t.length;if(0===r)throw new Error("R length is zero");if(0===n)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(128&e[0])throw new Error("R value is negative");if(128&t[0])throw new Error("S value is negative");if(r>1&&0===e[0]&&!(128&e[1]))throw new Error("R value excessively padded");if(n>1&&0===t[0]&&!(128&t[1]))throw new Error("S value excessively padded");var s=i.allocUnsafe(6+r+n);return s[0]=48,s[1]=s.length-2,s[2]=2,s[3]=e.length,e.copy(s,4),s[4+r]=2,s[5+r]=t.length,t.copy(s,6+r),s}}}}},{package:"@metamask/eth-trezor-keyring>hdkey>secp256k1>bip66",file:"node_modules/bip66/index.js"}],[2332,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){for(var r=[],i=0;i<e.length;i++)r[i]=e[i]&t[i];return r}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/and.js"}],[2333,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){var r=[];if(t>e.length)throw new Error("shift amount cant be larger than bits array length");for(var i=0;i<e.length;i++)r[(e.length+i-t)%e.length]=e[i];return r}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/circular-shift-left.js"}],[2334,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){var r=[];if(t>e.length)throw new Error("shift amount cant be larger than bits array length");for(var i=0;i<e.length;i++)r[(i+t)%e.length]=e[i];return r}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/circular-shift-right.js"}],[2335,{"./and":2332,"./circular-shift-left":2333,"./circular-shift-right":2334,"./nand":2336,"./nor":2337,"./not":2338,"./or":2339,"./reduce-and":2340,"./reduce-nand":2341,"./reduce-nor":2342,"./reduce-or":2343,"./reduce-xnor":2344,"./reduce-xor":2345,"./to-boolean":2346,"./to-string":2347,"./xnor":2348,"./xor":2349},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.xor=r.xnor=r.toString=r.toBoolean=r.reduceXor=r.reduceXnor=r.reduceOr=r.reduceNor=r.reduceNand=r.reduceAnd=r.or=r.not=r.nor=r.nand=r.circularShiftRight=r.circularShiftLeft=r.and=void 0;var i=e("./and");r.and=i.default;var n=e("./circular-shift-left");r.circularShiftLeft=n.default;var s=e("./circular-shift-right");r.circularShiftRight=s.default;var o=e("./nand");r.nand=o.default;var a=e("./nor");r.nor=a.default;var u=e("./not");r.not=u.default;var c=e("./or");r.or=c.default;var h=e("./reduce-and");r.reduceAnd=h.default;var l=e("./reduce-nand");r.reduceNand=l.default;var f=e("./reduce-nor");r.reduceNor=f.default;var d=e("./reduce-or");r.reduceOr=d.default;var p=e("./reduce-xnor");r.reduceXnor=p.default;var g=e("./reduce-xor");r.reduceXor=g.default;var y=e("./to-boolean");r.toBoolean=y.default;var m=e("./to-string");r.toString=m.default;var b=e("./xnor");r.xnor=b.default;var w=e("./xor");r.xor=w.default,r.default={and:i.default,circularShiftLeft:n.default,circularShiftRight:s.default,nand:o.default,nor:a.default,not:u.default,or:c.default,reduceAnd:h.default,reduceNand:l.default,reduceNor:f.default,reduceOr:d.default,reduceXnor:p.default,reduceXor:g.default,toBoolean:y.default,toString:m.default,xnor:b.default,xor:w.default}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/index.js"}],[2336,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){for(var r=[],i=0;i<e.length;i++)r[i]=e[i]&t[i]^1;return r}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/nand.js"}],[2337,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){for(var r=[],i=0;i<e.length;i++)r[i]=1^(e[i]|t[i]);return r}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/nor.js"}],[2338,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=1^e[r];return t}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/not.js"}],[2339,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){for(var r=[],i=0;i<e.length;i++)r[i]=e[i]|t[i];return r}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/or.js"}],[234,{"./arrayBasic":233,"@chainsafe/persistent-merkle-tree":218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.value_getRootsArrayComposite=r.tree_deserializeFromBytesArrayComposite=r.tree_serializeToBytesArrayComposite=r.tree_serializedSizeArrayComposite=r.value_deserializeFromBytesArrayComposite=r.value_serializeToBytesArrayComposite=r.value_serializedSizeArrayComposite=r.maxSizeArrayComposite=r.minSizeArrayComposite=void 0;const i=e("@chainsafe/persistent-merkle-tree"),n=e("./arrayBasic");function s(e,t,r,i,s){const o=i-r;let a;if(null===e)a=function(e,t,r){if(0===r)return new Uint32Array(0);const i=e.getUint32(t,!0),n=i;if(0===i)throw Error("First offset must be > 0");if(n%4!=0)throw Error("Offset data length not multiple of 4");const s=n/4,o=new Uint32Array(s);o[0]=i;for(let i=1;i<s;i++){const n=e.getUint32(t+4*i,!0);if(o[i]=n,n>r)throw new Error(`Offset out of bounds ${n} > ${r}`);if(n<o[i-1])throw new Error(`Offsets must be increasing ${n} < ${o[i-1]}`)}return o}(t,r,o);else{if(0===e)throw Error("element fixed length is 0");if(o%e!=0)throw Error(`size ${o} is not multiple of element fixedSize ${e}`);const t=o/e;a=new Uint32Array(t);for(let r=0;r<t;r++)a[r]=r*e}return n.assertValidArrayLength(a.length,s),a}r.minSizeArrayComposite=function(e,t){return null===e.fixedSize?t*(4+e.minSize):t*e.minSize},r.maxSizeArrayComposite=function(e,t){return null===e.fixedSize?t*(4+e.maxSize):t*e.maxSize},r.value_serializedSizeArrayComposite=function(e,t,r){if(null===e.fixedSize){let i=0;for(let n=0;n<t;n++)i+=4+e.value_serializedSize(r[n]);return i}return t*e.fixedSize},r.value_serializeToBytesArrayComposite=function(e,t,r,i,n){if(null===e.fixedSize){let s=i+4*t;for(let o=0;o<t;o++)r.dataView.setUint32(i+4*o,s-i,!0),s=e.value_serializeToBytes(r,s,n[o]);return s}for(let s=0;s<t;s++)e.value_serializeToBytes(r,i+s*e.fixedSize,n[s]);return i+t*e.fixedSize},r.value_deserializeFromBytesArrayComposite=function(e,t,r,i,n){const o=s(e.fixedSize,t.dataView,r,i,n),a=o.length,u=new Array(a);for(let n=0;n<a;n++){const s=r+o[n],c=n===a-1?i:r+o[n+1];u[n]=e.value_deserializeFromBytes(t,s,c)}return u},r.tree_serializedSizeArrayComposite=function(e,t,r,n){if(null===e.fixedSize){const s=i.getNodesAtDepth(n,r,0,t);let o=0;for(let t=0;t<s.length;t++)o+=4+e.tree_serializedSize(s[t]);return o}return t*e.fixedSize},r.tree_serializeToBytesArrayComposite=function(e,t,r,n,s,o){const a=i.getNodesAtDepth(n,r,0,t);if(null===e.fixedSize){let r=o+4*t;const{dataView:i}=s;for(let t=0;t<a.length;t++)i.setUint32(o+4*t,r-o,!0),r=e.tree_serializeToBytes(s,r,a[t]);return r}for(let t=0;t<a.length;t++)o=e.tree_serializeToBytes(s,o,a[t]);return o},r.tree_deserializeFromBytesArrayComposite=function(e,t,r,o,a,u){const c=s(e.fixedSize,r.dataView,o,a,u),h=c.length,l=new Array(h);for(let t=0;t<h;t++){const i=o+c[t],n=t===h-1?a:o+c[t+1];l[t]=e.tree_deserializeFromBytes(r,i,n)}const f=i.subtreeFillToContents(l,t);return u.isList?n.addLengthNode(f,h):f},r.value_getRootsArrayComposite=function(e,t,r){const i=new Array(t);for(let n=0;n<t;n++)i[n]=e.hashTreeRoot(r[n]);return i}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/arrayComposite.js"}],[2340,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(e.length<2)throw new RangeError("Not enough bits.");for(var t=e[0],r=1;r<e.length;r++)t&=e[r];return t}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/reduce-and.js"}],[2341,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(e.length<2)throw new RangeError("Not enough bits.");for(var t=e[0],r=1;r<e.length;r++)t=t&e[r]^1;return t}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/reduce-nand.js"}],[2342,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(e.length<2)throw new RangeError("Not enough bits.");for(var t=e[0],r=1;r<e.length;r++)t=1^(t|e[r]);return t}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/reduce-nor.js"}],[2343,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(e.length<2)throw new RangeError("Not enough bits.");for(var t=e[0],r=1;r<e.length;r++)t|=e[r];return t}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/reduce-or.js"}],[2344,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(e.length<2)throw new RangeError("Not enough bits.");for(var t=e[0],r=1;r<e.length;r++)t^=1^e[r];return t}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/reduce-xnor.js"}],[2345,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(e.length<2)throw new RangeError("Not enough bits.");for(var t=e[0],r=1;r<e.length;r++)t^=e[r];return t}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/reduce-xor.js"}],[2346,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=1===e[r];return t}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/to-boolean.js"}],[2347,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,r){if(void 0===t&&(t=0),void 0===r&&(r=" "),!t)return e.join("");for(var i="",n=0;n<e.length;n++)i+=""+e[n],n%t==t-1&&n!==e.length-1&&(i+=r);return i}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/to-string.js"}],[2348,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){for(var r=[],i=0;i<e.length;i++)r[i]=e[i]^t[i]^1;return r}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/xnor.js"}],[2349,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){for(var r=[],i=0;i<e.length;i++)r[i]=e[i]^t[i];return r}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/xor.js"}],[235,{"./abstract":231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isBasicType=r.BasicType=void 0;const i=e("./abstract");class n extends i.Type{constructor(){super(...arguments),this.isBasic=!0,this.depth=0,this.maxChunkCount=1}value_serializedSize(){return this.byteLength}tree_serializedSize(){return this.byteLength}assertValidSize(e){if(e!==this.byteLength)throw Error(`BasicType invalid size ${e} expected ${this.byteLength}`)}hashTreeRoot(e){const t=new Uint8Array(32),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_serializeToBytes({uint8Array:t,dataView:r},0,e),t}clone(e){return e}equals(e,t){return e===t}}r.BasicType=n,r.isBasicType=function(e){return e.isBasic}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/basic.js"}],[2350,{buffer:2426},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,r,i){void 0===i&&(i=!1);for(var n=i?r.length:t.length,s=e.alloc(n),o=0;o<n;o++){var a=i?o%t.length:o;s[o]=t[a]&r[o]}return s}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/buffer/and.js"}],[2351,{"../byte/write":2365,buffer:2426},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0});var i=e("../byte/write");r.default=function(e){for(var r=[0,0,0,0,0,0,0,0],n=t.alloc(Math.ceil(e.length/8)),s=0;s<n.length;s++){for(var o=0;o<8;o++)e[8*s+o]?r[o]=e[8*s+o]:r[o]=0;n[s]=i.default(r)}return n}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/buffer/create.js"}],[2352,{"./and":2350,"./create":2351,"./modify":2353,"./nand":2354,"./nor":2355,"./not":2356,"./or":2357,"./read":2360,"./read-int":2358,"./read-u-int":2359,"./xnor":2361,"./xor":2362},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.xor=r.xnor=r.readUInt=r.readInt=r.read=r.or=r.not=r.nor=r.nand=r.modify=r.create=r.and=void 0;var i=e("./and");r.and=i.default;var n=e("./create");r.create=n.default;var s=e("./modify");r.modify=s.default;var o=e("./nand");r.nand=o.default;var a=e("./nor");r.nor=a.default;var u=e("./not");r.not=u.default;var c=e("./or");r.or=c.default;var h=e("./read");r.read=h.default;var l=e("./read-int");r.readInt=l.default;var f=e("./read-u-int");r.readUInt=f.default;var d=e("./xnor");r.xnor=d.default;var p=e("./xor");r.xor=p.default,r.default={and:i.default,create:n.default,modify:s.default,nand:o.default,nor:a.default,not:u.default,or:c.default,read:h.default,readInt:l.default,readUInt:f.default,xnor:d.default,xor:p.default}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/buffer/index.js"}],[2353,{"../byte/write":2365,"./read":2360},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var i=e("../byte/write"),n=e("./read");r.default=function(e,t,r){void 0===r&&(r=0);for(var s=Math.floor(r/8),o=Math.ceil((r+t.length)/8),a=e.slice(s,o),u=n.default(a),c=r%8,h=0;h<t.length;h++)u[c++]=t[h];for(var l=o-s,f=0;f<l;f++)a[f]=i.default(u.slice(8*f,8*(f+1)))}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/buffer/modify.js"}],[2354,{buffer:2426},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,r,i){void 0===i&&(i=!1);for(var n=i?r.length:t.length,s=e.alloc(n),o=0;o<n;o++){var a=i?o%t.length:o;s[o]=~(t[a]&r[o])}return s}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/buffer/nand.js"}],[2355,{buffer:2426},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,r,i){void 0===i&&(i=!1);for(var n=i?r.length:t.length,s=e.alloc(n),o=0;o<n;o++){var a=i?o%t.length:o;s[o]=~(t[a]|r[o])}return s}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/buffer/nor.js"}],[2356,{buffer:2426},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){for(var r=e.alloc(t.length),i=0;i<t.length;i++)r[i]=~t[i];return r}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/buffer/not.js"}],[2357,{buffer:2426},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,r,i){void 0===i&&(i=!1);for(var n=i?r.length:t.length,s=e.alloc(n),o=0;o<n;o++){var a=i?o%t.length:o;s[o]=t[a]|r[o]}return s}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/buffer/or.js"}],[2358,{"../bits/not":2338,"../utilities":2376,"./read":2360},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var i=e("../utilities"),n=e("../bits/not"),s=e("./read");r.default=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=8);var o=s.default(e,t,r);if(0===o[0]){for(var a=0,u=0;u<r;u++)o[u]&&(a+=i.p2[r-u-1]);return a}a=-1;var c=n.default(o);for(u=0;u<r;u++)c[u]&&(a-=i.p2[r-u-1]);return a}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/buffer/read-int.js"}],[2359,{"../utilities":2376,"./read":2360},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var i=e("../utilities"),n=e("./read");r.default=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=8);for(var s=n.default(e,t,r),o=0,a=0;a<r;a++)o+=s[a]*i.p2[r-a-1];return o}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/buffer/read-u-int.js"}],[236,{"../util/byteArray":253,"../util/merkleize":254,"../view/bitArray":262,"../viewDU/bitArray":270,"./composite":243,"@chainsafe/persistent-merkle-tree":218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BitArrayType=void 0;const i=e("@chainsafe/persistent-merkle-tree"),n=e("../util/byteArray"),s=e("../util/merkleize"),o=e("./composite"),a=e("../view/bitArray"),u=e("../viewDU/bitArray");class c extends o.CompositeType{constructor(){super(...arguments),this.isViewMutable=!0}getView(e){return new a.BitArrayTreeView(this,e)}getViewDU(e){return new u.BitArrayTreeViewDU(this,e)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}getRoots(e){return s.splitIntoRootChunks(e.uint8Array)}getPropertyGindex(){return null}getPropertyType(){throw Error("Must only request BitArray complete data")}getIndexProperty(){throw Error("Must only request BitArray complete data")}tree_fromProofNode(e){return{node:e,done:!0}}tree_getLeafGindices(e,t){const r=this.tree_getByteLen(t),n=Math.ceil(r/32),s=i.concatGindices([e,i.toGindex(this.depth,BigInt(0))]),a=new Array(n);for(let e=0,t=s;e<n;e++,t++)a[e]=t;return this.isList&&a.push(i.concatGindices([e,o.LENGTH_GINDEX])),a}fromJson(e){const t=n.fromHexString(e),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length)}toJson(e){return n.toHexString(this.serialize(e))}clone(e){return e.clone()}equals(e,t){return e.bitLen===t.bitLen&&n.byteArrayEquals(e.uint8Array,t.uint8Array)}}r.BitArrayType=c}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/bitArray.js"}],[2360,{"../byte/read":2364},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var i=e("../byte/read");r.default=function(e,t,r){void 0===t&&(t=0),r||(r=8*e.length-t);var n=Math.floor(t/8),s=Math.floor(r/8)+2,o=[];o.length=8*s;for(var a=0;a<s;a++){if(e[n+a]!==undefined){var u=i.default(e[n+a]);o[8*a]=u[0],o[8*a+1]=u[1],o[8*a+2]=u[2],o[8*a+3]=u[3],o[8*a+4]=u[4],o[8*a+5]=u[5],o[8*a+6]=u[6],o[8*a+7]=u[7]}}var c=t%8;return o.slice(c,c+r)}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/buffer/read.js"}],[2361,{buffer:2426},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,r,i){void 0===i&&(i=!1);for(var n=i?r.length:t.length,s=e.alloc(n),o=0;o<n;o++){var a=i?o%t.length:o;s[o]=~(t[a]^r[o])}return s}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/buffer/xnor.js"}],[2362,{buffer:2426},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,r,i){void 0===i&&(i=!1);for(var n=i?r.length:t.length,s=e.alloc(n),o=0;o<n;o++){var a=i?o%t.length:o;s[o]=t[a]^r[o]}return s}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/buffer/xor.js"}],[2363,{"./read":2364,"./write":2365},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.write=r.read=void 0;var i=e("./read");r.read=i.default;var n=e("./write");r.write=n.default,r.default={read:i.default,write:n.default}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/byte/index.js"}],[2364,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(e>255||e<0||~~e!==e)throw new RangeError("invalid byte");for(var t=[0,0,0,0,0,0,0,0],r=0;r<8;r++)t[7-r]=e>>r&1;return t}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/byte/read.js"}],[2365,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(!Array.isArray(e)||8!==e.length)throw new RangeError("invalid array length");for(var t=0,r=0;r<8;r++)e[7-r]&&(t|=1<<r);return t}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/byte/write.js"}],[2366,{"./bits":2335,"./buffer":2352,"./byte":2363,"./integer":2368,"./nibble":2371,"./string":2374},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.string=r.nibble=r.integer=r.byte=r.buffer=r.bits=void 0;var i=e("./bits");r.bits=i.default;var n=e("./buffer");r.buffer=n.default;var s=e("./byte");r.byte=s.default;var o=e("./integer");r.integer=o.default;var a=e("./nibble");r.nibble=a.default;var u=e("./string");r.string=u.default;var c={bits:i.default,buffer:n.default,byte:s.default,integer:o.default,nibble:a.default,string:u.default};r.default=c}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/index.js"}],[2367,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){return e>>t&1}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/integer/get-bit.js"}],[2368,{"./get-bit":2367,"./set-bit":2369,"./toggle-bit":2370},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.toggleBit=r.setBit=r.getBit=void 0;var i=e("./get-bit");r.getBit=i.default;var n=e("./set-bit");r.setBit=n.default;var s=e("./toggle-bit");r.toggleBit=s.default,r.default={getBit:i.default,setBit:n.default,toggleBit:s.default}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/integer/index.js"}],[2369,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,r){return 1===r?e|1<<t:e&~(1<<t)}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/integer/set-bit.js"}],[237,{"../util/merkleize":254,"../util/named":255,"../value/bitArray":258,"./arrayBasic":233,"./bitArray":236,"@chainsafe/persistent-merkle-tree":218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BitListType=void 0;const i=e("@chainsafe/persistent-merkle-tree"),n=e("../util/merkleize"),s=e("../util/named"),o=e("./arrayBasic"),a=e("../value/bitArray"),u=e("./bitArray");class c extends u.BitArrayType{constructor(e,t){if(super(),this.limitBits=e,this.fixedSize=null,this.minSize=1,this.isList=!0,0===e)throw Error("List limit must be > 0");this.typeName=t?.typeName??`BitList[${e}]`,this.maxChunkCount=Math.ceil(this.limitBits/8/32),this.chunkDepth=n.maxChunksToDepth(this.maxChunkCount),this.depth=1+this.chunkDepth,this.maxSize=Math.ceil(e/8)+1}static named(e,t){return new(s.namedClass(c,t.typeName))(e,t)}defaultValue(){return a.BitArray.fromBitLen(0)}value_serializedSize(e){return h(e.bitLen)}value_serializeToBytes(e,t,r){return e.uint8Array.set(r.uint8Array,t),l(e.uint8Array,t,r.bitLen)}value_deserializeFromBytes(e,t,r){const{uint8Array:i,bitLen:n}=this.deserializeUint8ArrayBitListFromBytes(e.uint8Array,t,r);return new a.BitArray(i,n)}tree_serializedSize(e){return h(o.getLengthFromRootNode(e))}tree_serializeToBytes(e,t,r){const n=o.getChunksNodeFromRootNode(r),s=o.getLengthFromRootNode(r),a=Math.ceil(s/8),u=Math.ceil(a/32),c=i.getNodesAtDepth(n,this.chunkDepth,0,u);return i.packedNodeRootsToBytes(e.dataView,t,a,c),l(e.uint8Array,t,s)}tree_deserializeFromBytes(e,t,r){const{uint8Array:n,bitLen:s}=this.deserializeUint8ArrayBitListFromBytes(e.uint8Array,t,r),a=new DataView(n.buffer,n.byteOffset,n.byteLength),u=i.packedRootsBytesToNode(this.chunkDepth,a,0,n.length);return o.addLengthNode(u,s)}tree_getByteLen(e){if(!e)throw new Error("BitListType requires a node to get leaves");return Math.ceil(o.getLengthFromRootNode(e)/8)}hashTreeRoot(e){return n.mixInLength(super.hashTreeRoot(e),e.bitLen)}deserializeUint8ArrayBitListFromBytes(e,t,r){const{uint8Array:i,bitLen:n}=function(e,t,r){if(r>e.length)throw Error(`BitList attempting to read byte ${r} of data length ${e.length}`);const i=e[r-1],n=r-t;if(0===i)throw new Error("Invalid deserialized bitlist, padding bit required");if(1===i){return{uint8Array:Uint8Array.prototype.slice.call(e,t,r-1),bitLen:8*(n-1)}}const s=Uint8Array.prototype.slice.call(e,t,r),o=i.toString(2).length-1,a=8*(n-1)+o,u=255>>8-o;return s[n-1]&=u,{uint8Array:s,bitLen:a}}(e,t,r);if(n>this.limitBits)throw Error(`bitLen over limit ${n} > ${this.limitBits}`);return{uint8Array:i,bitLen:n}}}function h(e){const t=Math.ceil(e/8);return e%8==0?t+1:t}function l(e,t,r){const i=t+Math.ceil(r/8);return r%8==0?(e[i]=1,i+1):(e[i-1]|=1<<r%8,i)}r.BitListType=c}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/bitList.js"}],[2370,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){return e^1<<t}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/integer/toggle-bit.js"}],[2371,{"./read":2372,"./write":2373},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.write=r.read=void 0;var i=e("./read");r.read=i.default;var n=e("./write");r.write=n.default,r.default={read:i.default,write:n.default}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/nibble/index.js"}],[2372,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(e<16&&e>=0&&Math.floor(e)===e){for(var t=[0,0,0,0],r=0;r<4;r++)t[3-r]=e>>r&1;return t}throw new RangeError("invalid array length")}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/nibble/read.js"}],[2373,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(!Array.isArray(e)||4!==e.length)throw new RangeError("invalid array length");for(var t=0,r=0;r<4;r++)e[3-r]&&(t|=1<<r);return t}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/nibble/write.js"}],[2374,{"./to-bits":2375},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.toBits=void 0;var i=e("./to-bits");r.toBits=i.default,r.default={toBits:i.default}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/string/index.js"}],[2375,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){for(var t=[],r=0;r<e.length;r++)"1"===e[r]?t.push(1):"0"===e[r]&&t.push(0);return t}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/string/to-bits.js"}],[2376,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.p2=void 0,r.p2=[];for(var i=0;i<32;i++)r.p2[i]=Math.pow(2,i)}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/utilities.js"}],[2378,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){!function(e){var r,i=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,n=Math.ceil,s=Math.floor,o="[BigNumber Error] ",a=o+"Number primitive has more than 15 significant digits: ",u=1e14,c=14,h=9007199254740991,l=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],f=1e7,d=1e9;function p(e){var t=0|e;return e>0||e===t?t:t-1}function g(e){for(var t,r,i=1,n=e.length,s=e[0]+"";i<n;){for(t=e[i++]+"",r=c-t.length;r--;t="0"+t);s+=t}for(n=s.length;48===s.charCodeAt(--n););return s.slice(0,n+1||1)}function y(e,t){var r,i,n=e.c,s=t.c,o=e.s,a=t.s,u=e.e,c=t.e;if(!o||!a)return null;if(r=n&&!n[0],i=s&&!s[0],r||i)return r?i?0:-a:o;if(o!=a)return o;if(r=o<0,i=u==c,!n||!s)return i?0:!n^r?1:-1;if(!i)return u>c^r?1:-1;for(a=(u=n.length)<(c=s.length)?u:c,o=0;o<a;o++)if(n[o]!=s[o])return n[o]>s[o]^r?1:-1;return u==c?0:u>c^r?1:-1}function m(e,t,r,i){if(e<t||e>r||e!==s(e))throw Error(o+(i||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function b(e){var t=e.c.length-1;return p(e.e/c)==t&&e.c[t]%2!=0}function w(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function v(e,t,r){var i,n;if(t<0){for(n=r+".";++t;n+=r);e=n+e}else if(++t>(i=e.length)){for(n=r,t-=i;--t;n+=r);e+=n}else t<i&&(e=e.slice(0,t)+"."+e.slice(t));return e}r=function e(t){var r,_,T,k,E,A,S,I,B,x,P=G.prototype={constructor:G,toString:null,valueOf:null},N=new G(1),L=20,O=4,C=-7,j=21,z=-1e7,R=1e7,U=!1,M=1,F=0,D={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},V="0123456789abcdefghijklmnopqrstuvwxyz",H=!0;function G(e,t){var r,n,o,u,l,f,d,p,g=this;if(!(g instanceof G))return new G(e,t);if(null==t){if(e&&!0===e._isBigNumber)return g.s=e.s,void(!e.c||e.e>R?g.c=g.e=null:e.e<z?g.c=[g.e=0]:(g.e=e.e,g.c=e.c.slice()));if((f="number"==typeof e)&&0*e==0){if(g.s=1/e<0?(e=-e,-1):1,e===~~e){for(u=0,l=e;l>=10;l/=10,u++);return void(u>R?g.c=g.e=null:(g.e=u,g.c=[e]))}p=String(e)}else{if(!i.test(p=String(e)))return T(g,p,f);g.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(u=p.indexOf("."))>-1&&(p=p.replace(".","")),(l=p.search(/e/i))>0?(u<0&&(u=l),u+=+p.slice(l+1),p=p.substring(0,l)):u<0&&(u=p.length)}else{if(m(t,2,V.length,"Base"),10==t&&H)return W(g=new G(e),L+g.e+1,O);if(p=String(e),f="number"==typeof e){if(0*e!=0)return T(g,p,f,t);if(g.s=1/e<0?(p=p.slice(1),-1):1,G.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(a+e)}else g.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(r=V.slice(0,t),u=l=0,d=p.length;l<d;l++)if(r.indexOf(n=p.charAt(l))<0){if("."==n){if(l>u){u=d;continue}}else if(!o&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){o=!0,l=-1,u=0;continue}return T(g,String(e),f,t)}f=!1,(u=(p=_(p,t,10,g.s)).indexOf("."))>-1?p=p.replace(".",""):u=p.length}for(l=0;48===p.charCodeAt(l);l++);for(d=p.length;48===p.charCodeAt(--d););if(p=p.slice(l,++d)){if(d-=l,f&&G.DEBUG&&d>15&&(e>h||e!==s(e)))throw Error(a+g.s*e);if((u=u-l-1)>R)g.c=g.e=null;else if(u<z)g.c=[g.e=0];else{if(g.e=u,g.c=[],l=(u+1)%c,u<0&&(l+=c),l<d){for(l&&g.c.push(+p.slice(0,l)),d-=c;l<d;)g.c.push(+p.slice(l,l+=c));l=c-(p=p.slice(l)).length}else l-=d;for(;l--;p+="0");g.c.push(+p)}}else g.c=[g.e=0]}function K(e,t,r,i){var n,s,o,a,u;if(null==r?r=O:m(r,0,8),!e.c)return e.toString();if(n=e.c[0],o=e.e,null==t)u=g(e.c),u=1==i||2==i&&(o<=C||o>=j)?w(u,o):v(u,o,"0");else if(s=(e=W(new G(e),t,r)).e,a=(u=g(e.c)).length,1==i||2==i&&(t<=s||s<=C)){for(;a<t;u+="0",a++);u=w(u,s)}else if(t-=o,u=v(u,s,"0"),s+1>a){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=s-a)>0)for(s+1==a&&(u+=".");t--;u+="0");return e.s<0&&n?"-"+u:u}function $(e,t){for(var r,i=1,n=new G(e[0]);i<e.length;i++){if(!(r=new G(e[i])).s){n=r;break}t.call(n,r)&&(n=r)}return n}function q(e,t,r){for(var i=1,n=t.length;!t[--n];t.pop());for(n=t[0];n>=10;n/=10,i++);return(r=i+r*c-1)>R?e.c=e.e=null:r<z?e.c=[e.e=0]:(e.e=r,e.c=t),e}function W(e,t,r,i){var o,a,h,f,d,p,g,y=e.c,m=l;if(y){e:{for(o=1,f=y[0];f>=10;f/=10,o++);if((a=t-o)<0)a+=c,h=t,g=(d=y[p=0])/m[o-h-1]%10|0;else if((p=n((a+1)/c))>=y.length){if(!i)break e;for(;y.length<=p;y.push(0));d=g=0,o=1,h=(a%=c)-c+1}else{for(d=f=y[p],o=1;f>=10;f/=10,o++);g=(h=(a%=c)-c+o)<0?0:d/m[o-h-1]%10|0}if(i=i||t<0||null!=y[p+1]||(h<0?d:d%m[o-h-1]),i=r<4?(g||i)&&(0==r||r==(e.s<0?3:2)):g>5||5==g&&(4==r||i||6==r&&(a>0?h>0?d/m[o-h]:0:y[p-1])%10&1||r==(e.s<0?8:7)),t<1||!y[0])return y.length=0,i?(t-=e.e+1,y[0]=m[(c-t%c)%c],e.e=-t||0):y[0]=e.e=0,e;if(0==a?(y.length=p,f=1,p--):(y.length=p+1,f=m[c-a],y[p]=h>0?s(d/m[o-h]%m[h])*f:0),i)for(;;){if(0==p){for(a=1,h=y[0];h>=10;h/=10,a++);for(h=y[0]+=f,f=1;h>=10;h/=10,f++);a!=f&&(e.e++,y[0]==u&&(y[0]=1));break}if(y[p]+=f,y[p]!=u)break;y[p--]=0,f=1}for(a=y.length;0===y[--a];y.pop());}e.e>R?e.c=e.e=null:e.e<z&&(e.c=[e.e=0])}return e}function Y(e){var t,r=e.e;return null===r?e.toString():(t=g(e.c),t=r<=C||r>=j?w(t,r):v(t,r,"0"),e.s<0?"-"+t:t)}return G.clone=e,G.ROUND_UP=0,G.ROUND_DOWN=1,G.ROUND_CEIL=2,G.ROUND_FLOOR=3,G.ROUND_HALF_UP=4,G.ROUND_HALF_DOWN=5,G.ROUND_HALF_EVEN=6,G.ROUND_HALF_CEIL=7,G.ROUND_HALF_FLOOR=8,G.EUCLID=9,G.config=G.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(o+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(m(r=e[t],0,d,t),L=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(m(r=e[t],0,8,t),O=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(m(r[0],-d,0,t),m(r[1],0,d,t),C=r[0],j=r[1]):(m(r,-d,d,t),C=-(j=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)m(r[0],-d,-1,t),m(r[1],1,d,t),z=r[0],R=r[1];else{if(m(r,-d,d,t),!r)throw Error(o+t+" cannot be zero: "+r);z=-(R=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(o+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw U=!r,Error(o+"crypto unavailable");U=r}else U=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(m(r=e[t],0,9,t),M=r),e.hasOwnProperty(t="POW_PRECISION")&&(m(r=e[t],0,d,t),F=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(o+t+" not an object: "+r);D=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(o+t+" invalid: "+r);H="0123456789"==r.slice(0,10),V=r}}return{DECIMAL_PLACES:L,ROUNDING_MODE:O,EXPONENTIAL_AT:[C,j],RANGE:[z,R],CRYPTO:U,MODULO_MODE:M,POW_PRECISION:F,FORMAT:D,ALPHABET:V}},G.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!G.DEBUG)return!0;var t,r,i=e.c,n=e.e,a=e.s;e:if("[object Array]"=={}.toString.call(i)){if((1===a||-1===a)&&n>=-d&&n<=d&&n===s(n)){if(0===i[0]){if(0===n&&1===i.length)return!0;break e}if((t=(n+1)%c)<1&&(t+=c),String(i[0]).length==t){for(t=0;t<i.length;t++)if((r=i[t])<0||r>=u||r!==s(r))break e;if(0!==r)return!0}}}else if(null===i&&null===n&&(null===a||1===a||-1===a))return!0;throw Error(o+"Invalid BigNumber: "+e)},G.maximum=G.max=function(){return $(arguments,P.lt)},G.minimum=G.min=function(){return $(arguments,P.gt)},G.random=(k=9007199254740992,E=Math.random()*k&2097151?function(){return s(Math.random()*k)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,i,a,u,h=0,f=[],p=new G(N);if(null==e?e=L:m(e,0,d),a=n(e/c),U)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(a*=2));h<a;)(u=131072*t[h]+(t[h+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),t[h]=r[0],t[h+1]=r[1]):(f.push(u%1e14),h+=2);h=a/2}else{if(!crypto.randomBytes)throw U=!1,Error(o+"crypto unavailable");for(t=crypto.randomBytes(a*=7);h<a;)(u=281474976710656*(31&t[h])+1099511627776*t[h+1]+4294967296*t[h+2]+16777216*t[h+3]+(t[h+4]<<16)+(t[h+5]<<8)+t[h+6])>=9e15?crypto.randomBytes(7).copy(t,h):(f.push(u%1e14),h+=7);h=a/7}if(!U)for(;h<a;)(u=E())<9e15&&(f[h++]=u%1e14);for(a=f[--h],e%=c,a&&e&&(u=l[c-e],f[h]=s(a/u)*u);0===f[h];f.pop(),h--);if(h<0)f=[i=0];else{for(i=-1;0===f[0];f.splice(0,1),i-=c);for(h=1,u=f[0];u>=10;u/=10,h++);h<c&&(i-=c-h)}return p.e=i,p.c=f,p}),G.sum=function(){for(var e=1,t=arguments,r=new G(t[0]);e<t.length;)r=r.plus(t[e++]);return r},_=function(){var e="0123456789";function t(e,t,r,i){for(var n,s,o=[0],a=0,u=e.length;a<u;){for(s=o.length;s--;o[s]*=t);for(o[0]+=i.indexOf(e.charAt(a++)),n=0;n<o.length;n++)o[n]>r-1&&(null==o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}return function(i,n,s,o,a){var u,c,h,l,f,d,p,y,m=i.indexOf("."),b=L,w=O;for(m>=0&&(l=F,F=0,i=i.replace(".",""),d=(y=new G(n)).pow(i.length-m),F=l,y.c=t(v(g(d.c),d.e,"0"),10,s,e),y.e=y.c.length),h=l=(p=t(i,n,s,a?(u=V,e):(u=e,V))).length;0==p[--l];p.pop());if(!p[0])return u.charAt(0);if(m<0?--h:(d.c=p,d.e=h,d.s=o,p=(d=r(d,y,b,w,s)).c,f=d.r,h=d.e),m=p[c=h+b+1],l=s/2,f=f||c<0||null!=p[c+1],f=w<4?(null!=m||f)&&(0==w||w==(d.s<0?3:2)):m>l||m==l&&(4==w||f||6==w&&1&p[c-1]||w==(d.s<0?8:7)),c<1||!p[0])i=f?v(u.charAt(1),-b,u.charAt(0)):u.charAt(0);else{if(p.length=c,f)for(--s;++p[--c]>s;)p[c]=0,c||(++h,p=[1].concat(p));for(l=p.length;!p[--l];);for(m=0,i="";m<=l;i+=u.charAt(p[m++]));i=v(i,h,u.charAt(0))}return i}}(),r=function(){function e(e,t,r){var i,n,s,o,a=0,u=e.length,c=t%f,h=t/f|0;for(e=e.slice();u--;)a=((n=c*(s=e[u]%f)+(i=h*s+(o=e[u]/f|0)*c)%f*f+a)/r|0)+(i/f|0)+h*o,e[u]=n%r;return a&&(e=[a].concat(e)),e}function t(e,t,r,i){var n,s;if(r!=i)s=r>i?1:-1;else for(n=s=0;n<r;n++)if(e[n]!=t[n]){s=e[n]>t[n]?1:-1;break}return s}function r(e,t,r,i){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*i+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(i,n,o,a,h){var l,f,d,g,y,m,b,w,v,_,T,k,E,A,S,I,B,x=i.s==n.s?1:-1,P=i.c,N=n.c;if(!(P&&P[0]&&N&&N[0]))return new G(i.s&&n.s&&(P?!N||P[0]!=N[0]:N)?P&&0==P[0]||!N?0*x:x/0:NaN);for(v=(w=new G(x)).c=[],x=o+(f=i.e-n.e)+1,h||(h=u,f=p(i.e/c)-p(n.e/c),x=x/c|0),d=0;N[d]==(P[d]||0);d++);if(N[d]>(P[d]||0)&&f--,x<0)v.push(1),g=!0;else{for(A=P.length,I=N.length,d=0,x+=2,(y=s(h/(N[0]+1)))>1&&(N=e(N,y,h),P=e(P,y,h),I=N.length,A=P.length),E=I,T=(_=P.slice(0,I)).length;T<I;_[T++]=0);B=N.slice(),B=[0].concat(B),S=N[0],N[1]>=h/2&&S++;do{if(y=0,(l=t(N,_,I,T))<0){if(k=_[0],I!=T&&(k=k*h+(_[1]||0)),(y=s(k/S))>1)for(y>=h&&(y=h-1),b=(m=e(N,y,h)).length,T=_.length;1==t(m,_,b,T);)y--,r(m,I<b?B:N,b,h),b=m.length,l=1;else 0==y&&(l=y=1),b=(m=N.slice()).length;if(b<T&&(m=[0].concat(m)),r(_,m,T,h),T=_.length,-1==l)for(;t(N,_,I,T)<1;)y++,r(_,I<T?B:N,T,h),T=_.length}else 0===l&&(y++,_=[0]);v[d++]=y,_[0]?_[T++]=P[E]||0:(_=[P[E]],T=1)}while((E++<A||null!=_[0])&&x--);g=null!=_[0],v[0]||v.splice(0,1)}if(h==u){for(d=1,x=v[0];x>=10;x/=10,d++);W(w,o+(w.e=d+f*c-1)+1,a,g)}else w.e=f,w.r=+g;return w}}(),A=/^(-?)0([xbo])(?=\w[\w.]*$)/i,S=/^([^.]+)\.$/,I=/^\.([^.]+)$/,B=/^-?(Infinity|NaN)$/,x=/^\s*\+(?=[\w.])|^\s+|\s+$/g,T=function(e,t,r,i){var n,s=r?t:t.replace(x,"");if(B.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!r&&(s=s.replace(A,(function(e,t,r){return n="x"==(r=r.toLowerCase())?16:"b"==r?2:8,i&&i!=n?e:t})),i&&(n=i,s=s.replace(S,"$1").replace(I,"0.$1")),t!=s))return new G(s,n);if(G.DEBUG)throw Error(o+"Not a"+(i?" base "+i:"")+" number: "+t);e.s=null}e.c=e.e=null},P.absoluteValue=P.abs=function(){var e=new G(this);return e.s<0&&(e.s=1),e},P.comparedTo=function(e,t){return y(this,new G(e,t))},P.decimalPlaces=P.dp=function(e,t){var r,i,n,s=this;if(null!=e)return m(e,0,d),null==t?t=O:m(t,0,8),W(new G(s),e+s.e+1,t);if(!(r=s.c))return null;if(i=((n=r.length-1)-p(this.e/c))*c,n=r[n])for(;n%10==0;n/=10,i--);return i<0&&(i=0),i},P.dividedBy=P.div=function(e,t){return r(this,new G(e,t),L,O)},P.dividedToIntegerBy=P.idiv=function(e,t){return r(this,new G(e,t),0,1)},P.exponentiatedBy=P.pow=function(e,t){var r,i,a,u,h,l,f,d,p=this;if((e=new G(e)).c&&!e.isInteger())throw Error(o+"Exponent not an integer: "+Y(e));if(null!=t&&(t=new G(t)),h=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return d=new G(Math.pow(+Y(p),h?e.s*(2-b(e)):+Y(e))),t?d.mod(t):d;if(l=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new G(NaN);(i=!l&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||h&&p.c[1]>=24e7:p.c[0]<8e13||h&&p.c[0]<=9999975e7)))return u=p.s<0&&b(e)?-0:0,p.e>-1&&(u=1/u),new G(l?1/u:u);F&&(u=n(F/c+2))}for(h?(r=new G(.5),l&&(e.s=1),f=b(e)):f=(a=Math.abs(+Y(e)))%2,d=new G(N);;){if(f){if(!(d=d.times(p)).c)break;u?d.c.length>u&&(d.c.length=u):i&&(d=d.mod(t))}if(a){if(0===(a=s(a/2)))break;f=a%2}else if(W(e=e.times(r),e.e+1,1),e.e>14)f=b(e);else{if(0===(a=+Y(e)))break;f=a%2}p=p.times(p),u?p.c&&p.c.length>u&&(p.c.length=u):i&&(p=p.mod(t))}return i?d:(l&&(d=N.div(d)),t?d.mod(t):u?W(d,F,O,undefined):d)},P.integerValue=function(e){var t=new G(this);return null==e?e=O:m(e,0,8),W(t,t.e+1,e)},P.isEqualTo=P.eq=function(e,t){return 0===y(this,new G(e,t))},P.isFinite=function(){return!!this.c},P.isGreaterThan=P.gt=function(e,t){return y(this,new G(e,t))>0},P.isGreaterThanOrEqualTo=P.gte=function(e,t){return 1===(t=y(this,new G(e,t)))||0===t},P.isInteger=function(){return!!this.c&&p(this.e/c)>this.c.length-2},P.isLessThan=P.lt=function(e,t){return y(this,new G(e,t))<0},P.isLessThanOrEqualTo=P.lte=function(e,t){return-1===(t=y(this,new G(e,t)))||0===t},P.isNaN=function(){return!this.s},P.isNegative=function(){return this.s<0},P.isPositive=function(){return this.s>0},P.isZero=function(){return!!this.c&&0==this.c[0]},P.minus=function(e,t){var r,i,n,s,o=this,a=o.s;if(t=(e=new G(e,t)).s,!a||!t)return new G(NaN);if(a!=t)return e.s=-t,o.plus(e);var h=o.e/c,l=e.e/c,f=o.c,d=e.c;if(!h||!l){if(!f||!d)return f?(e.s=-t,e):new G(d?o:NaN);if(!f[0]||!d[0])return d[0]?(e.s=-t,e):new G(f[0]?o:3==O?-0:0)}if(h=p(h),l=p(l),f=f.slice(),a=h-l){for((s=a<0)?(a=-a,n=f):(l=h,n=d),n.reverse(),t=a;t--;n.push(0));n.reverse()}else for(i=(s=(a=f.length)<(t=d.length))?a:t,a=t=0;t<i;t++)if(f[t]!=d[t]){s=f[t]<d[t];break}if(s&&(n=f,f=d,d=n,e.s=-e.s),(t=(i=d.length)-(r=f.length))>0)for(;t--;f[r++]=0);for(t=u-1;i>a;){if(f[--i]<d[i]){for(r=i;r&&!f[--r];f[r]=t);--f[r],f[i]+=u}f[i]-=d[i]}for(;0==f[0];f.splice(0,1),--l);return f[0]?q(e,f,l):(e.s=3==O?-1:1,e.c=[e.e=0],e)},P.modulo=P.mod=function(e,t){var i,n,s=this;return e=new G(e,t),!s.c||!e.s||e.c&&!e.c[0]?new G(NaN):!e.c||s.c&&!s.c[0]?new G(s):(9==M?(n=e.s,e.s=1,i=r(s,e,0,3),e.s=n,i.s*=n):i=r(s,e,0,M),(e=s.minus(i.times(e))).c[0]||1!=M||(e.s=s.s),e)},P.multipliedBy=P.times=function(e,t){var r,i,n,s,o,a,h,l,d,g,y,m,b,w,v,_=this,T=_.c,k=(e=new G(e,t)).c;if(!(T&&k&&T[0]&&k[0]))return!_.s||!e.s||T&&!T[0]&&!k||k&&!k[0]&&!T?e.c=e.e=e.s=null:(e.s*=_.s,T&&k?(e.c=[0],e.e=0):e.c=e.e=null),e;for(i=p(_.e/c)+p(e.e/c),e.s*=_.s,(h=T.length)<(g=k.length)&&(b=T,T=k,k=b,n=h,h=g,g=n),n=h+g,b=[];n--;b.push(0));for(w=u,v=f,n=g;--n>=0;){for(r=0,y=k[n]%v,m=k[n]/v|0,s=n+(o=h);s>n;)r=((l=y*(l=T[--o]%v)+(a=m*l+(d=T[o]/v|0)*y)%v*v+b[s]+r)/w|0)+(a/v|0)+m*d,b[s--]=l%w;b[s]=r}return r?++i:b.splice(0,1),q(e,b,i)},P.negated=function(){var e=new G(this);return e.s=-e.s||null,e},P.plus=function(e,t){var r,i=this,n=i.s;if(t=(e=new G(e,t)).s,!n||!t)return new G(NaN);if(n!=t)return e.s=-t,i.minus(e);var s=i.e/c,o=e.e/c,a=i.c,h=e.c;if(!s||!o){if(!a||!h)return new G(n/0);if(!a[0]||!h[0])return h[0]?e:new G(a[0]?i:0*n)}if(s=p(s),o=p(o),a=a.slice(),n=s-o){for(n>0?(o=s,r=h):(n=-n,r=a),r.reverse();n--;r.push(0));r.reverse()}for((n=a.length)-(t=h.length)<0&&(r=h,h=a,a=r,t=n),n=0;t;)n=(a[--t]=a[t]+h[t]+n)/u|0,a[t]=u===a[t]?0:a[t]%u;return n&&(a=[n].concat(a),++o),q(e,a,o)},P.precision=P.sd=function(e,t){var r,i,n,s=this;if(null!=e&&e!==!!e)return m(e,1,d),null==t?t=O:m(t,0,8),W(new G(s),e,t);if(!(r=s.c))return null;if(i=(n=r.length-1)*c+1,n=r[n]){for(;n%10==0;n/=10,i--);for(n=r[0];n>=10;n/=10,i++);}return e&&s.e+1>i&&(i=s.e+1),i},P.shiftedBy=function(e){return m(e,-9007199254740991,h),this.times("1e"+e)},P.squareRoot=P.sqrt=function(){var e,t,i,n,s,o=this,a=o.c,u=o.s,c=o.e,h=L+4,l=new G("0.5");if(1!==u||!a||!a[0])return new G(!u||u<0&&(!a||a[0])?NaN:a?o:1/0);if(0==(u=Math.sqrt(+Y(o)))||u==1/0?(((t=g(a)).length+c)%2==0&&(t+="0"),u=Math.sqrt(+t),c=p((c+1)/2)-(c<0||c%2),i=new G(t=u==1/0?"5e"+c:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+c)):i=new G(u+""),i.c[0])for((u=(c=i.e)+h)<3&&(u=0);;)if(s=i,i=l.times(s.plus(r(o,s,h,1))),g(s.c).slice(0,u)===(t=g(i.c)).slice(0,u)){if(i.e<c&&--u,"9999"!=(t=t.slice(u-3,u+1))&&(n||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(W(i,i.e+L+2,1),e=!i.times(i).eq(o));break}if(!n&&(W(s,s.e+L+2,0),s.times(s).eq(o))){i=s;break}h+=4,u+=4,n=1}return W(i,i.e+L+1,O,e)},P.toExponential=function(e,t){return null!=e&&(m(e,0,d),e++),K(this,e,t,1)},P.toFixed=function(e,t){return null!=e&&(m(e,0,d),e=e+this.e+1),K(this,e,t)},P.toFormat=function(e,t,r){var i,n=this;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=D;else if("object"!=typeof r)throw Error(o+"Argument not an object: "+r);if(i=n.toFixed(e,t),n.c){var s,a=i.split("."),u=+r.groupSize,c=+r.secondaryGroupSize,h=r.groupSeparator||"",l=a[0],f=a[1],d=n.s<0,p=d?l.slice(1):l,g=p.length;if(c&&(s=u,u=c,c=s,g-=s),u>0&&g>0){for(s=g%u||u,l=p.substr(0,s);s<g;s+=u)l+=h+p.substr(s,u);c>0&&(l+=h+p.slice(s)),d&&(l="-"+l)}i=f?l+(r.decimalSeparator||"")+((c=+r.fractionGroupSize)?f.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):f):l}return(r.prefix||"")+i+(r.suffix||"")},P.toFraction=function(e){var t,i,n,s,a,u,h,f,d,p,y,m,b=this,w=b.c;if(null!=e&&(!(h=new G(e)).isInteger()&&(h.c||1!==h.s)||h.lt(N)))throw Error(o+"Argument "+(h.isInteger()?"out of range: ":"not an integer: ")+Y(h));if(!w)return new G(b);for(t=new G(N),d=i=new G(N),n=f=new G(N),m=g(w),a=t.e=m.length-b.e-1,t.c[0]=l[(u=a%c)<0?c+u:u],e=!e||h.comparedTo(t)>0?a>0?t:d:h,u=R,R=1/0,h=new G(m),f.c[0]=0;p=r(h,t,0,1),1!=(s=i.plus(p.times(n))).comparedTo(e);)i=n,n=s,d=f.plus(p.times(s=d)),f=s,t=h.minus(p.times(s=t)),h=s;return s=r(e.minus(i),n,0,1),f=f.plus(s.times(d)),i=i.plus(s.times(n)),f.s=d.s=b.s,y=r(d,n,a*=2,O).minus(b).abs().comparedTo(r(f,i,a,O).minus(b).abs())<1?[d,n]:[f,i],R=u,y},P.toNumber=function(){return+Y(this)},P.toPrecision=function(e,t){return null!=e&&m(e,1,d),K(this,e,t,2)},P.toString=function(e){var t,r=this,i=r.s,n=r.e;return null===n?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=n<=C||n>=j?w(g(r.c),n):v(g(r.c),n,"0"):10===e&&H?t=v(g((r=W(new G(r),L+n+1,O)).c),r.e,"0"):(m(e,2,V.length,"Base"),t=_(v(g(r.c),n,"0"),10,e,i,!0)),i<0&&r.c[0]&&(t="-"+t)),t},P.valueOf=P.toJSON=function(){return Y(this)},P._isBigNumber=!0,null!=t&&G.set(t),G}(),r.default=r.BigNumber=r,"function"==typeof define&&define.amd?define((function(){return r})):void 0!==t&&t.exports?t.exports=r:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=r)}(this)}}},{package:"eth-lattice-keyring>gridplus-sdk>borc>bignumber.js",file:"node_modules/borc/node_modules/bignumber.js/bignumber.js"}],[2379,{"bignumber.js":2378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const i=e("bignumber.js").BigNumber;r.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},r.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36},r.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},r.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},r.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")},r.SHIFT32=Math.pow(2,32),r.SHIFT16=Math.pow(2,16),r.MAX_SAFE_HIGH=2097151,r.NEG_ONE=new i(-1),r.TEN=new i(10),r.TWO=new i(2),r.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5}}}},{package:"eth-lattice-keyring>gridplus-sdk>borc",file:"node_modules/borc/src/constants.js"}],[238,{"../util/merkleize":254,"../util/named":255,"../value/bitArray":258,"./bitArray":236,"@chainsafe/persistent-merkle-tree":218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BitVectorType=void 0;const i=e("@chainsafe/persistent-merkle-tree"),n=e("../util/merkleize"),s=e("../util/named"),o=e("../value/bitArray"),a=e("./bitArray");class u extends a.BitArrayType{constructor(e,t){if(super(),this.lengthBits=e,this.isList=!1,0===e)throw Error("Vector length must be > 0");this.typeName=t?.typeName??`BitVector[${e}]`,this.chunkCount=Math.ceil(this.lengthBits/8/32),this.maxChunkCount=this.chunkCount,this.depth=n.maxChunksToDepth(this.chunkCount),this.fixedSize=Math.ceil(this.lengthBits/8),this.minSize=this.fixedSize,this.maxSize=this.fixedSize,this.zeroBitsMask=e%8==0?0:255&255<<e%8}static named(e,t){return new(s.namedClass(u,t.typeName))(e,t)}defaultValue(){return o.BitArray.fromBitLen(this.lengthBits)}value_serializedSize(){return this.fixedSize}value_serializeToBytes(e,t,r){return e.uint8Array.set(r.uint8Array,t),t+this.fixedSize}value_deserializeFromBytes(e,t,r){return this.assertValidLength(e.uint8Array,t,r),new o.BitArray(Uint8Array.prototype.slice.call(e.uint8Array,t,r),this.lengthBits)}tree_serializedSize(){return this.fixedSize}tree_serializeToBytes(e,t,r){const n=i.getNodesAtDepth(r,this.depth,0,this.chunkCount);return i.packedNodeRootsToBytes(e.dataView,t,this.fixedSize,n),t+this.fixedSize}tree_deserializeFromBytes(e,t,r){return this.assertValidLength(e.uint8Array,t,r),i.packedRootsBytesToNode(this.depth,e.dataView,t,r)}tree_getByteLen(){return this.fixedSize}assertValidLength(e,t,r){const i=r-t;if(r-t!==this.fixedSize)throw Error(`Invalid BitVector size ${i} != ${this.fixedSize}`);if(this.zeroBitsMask>0&&(e[r-1]&this.zeroBitsMask)>0)throw Error("BitVector: nonzero bits past length")}}r.BitVectorType=u}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/bitVector.js"}],[2380,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e,t,r){var i=new e.Uint8Array(r),n=t.pushInt,s=t.pushInt32,o=t.pushInt32Neg,a=t.pushInt64,u=t.pushInt64Neg,c=t.pushFloat,h=t.pushFloatSingle,l=t.pushFloatDouble,f=t.pushTrue,d=t.pushFalse,p=t.pushUndefined,g=t.pushNull,y=t.pushInfinity,m=t.pushInfinityNeg,b=t.pushNaN,w=t.pushNaNNeg,v=t.pushArrayStart,_=t.pushArrayStartFixed,T=t.pushArrayStartFixed32,k=t.pushArrayStartFixed64,E=t.pushObjectStart,A=t.pushObjectStartFixed,S=t.pushObjectStartFixed32,I=t.pushObjectStartFixed64,B=t.pushByteString,x=t.pushByteStringStart,P=t.pushUtf8String,N=t.pushUtf8StringStart,L=t.pushSimpleUnassigned,O=t.pushTagStart,C=t.pushTagStart4,j=t.pushTagStart8,z=(t.pushTagUnassigned,t.pushBreak),R=e.Math.pow,U=0,M=0,F=0;function D(e){return((0|U)+(0|(e|=0))|0)<(0|M)?0:1}function V(e){return i[0|(e|=0)]<<8|i[e+1|0]|0}function H(e){return i[0|(e|=0)]<<24|i[e+1|0]<<16|i[e+2|0]<<8|i[e+3|0]|0}function G(e){return n(0|(e|=0)),U=U+1|0,0}function K(e){return n(-1-((e|=0)-32|0)|0),U=U+1|0,0}function $(e){var t,r;return 0|D(0|(r=(e|=0)-64|0))?1:(B(0|(U+1|0),0|(t=(U+1|0)+(0|r)|0)),U=0|t,0)}function q(e){var t,r;return 0|D(0|(r=(e|=0)-96|0))?1:(P(0|(U+1|0),0|(t=(U+1|0)+(0|r)|0)),U=0|t,0)}function W(e){return _((e|=0)-128|0),U=U+1|0,0}function Y(e){var t;return 0|D(0|(t=(e|=0)-160|0))?1:(A(0|t),U=U+1|0,0)}function J(e){return O(0|(e|=0)-192),U=U+1|0,0}function Z(e){return O(0|(e|=0)-192),U=U+1|0,0}function X(e){return L((0|(e|=0))-224|0),U=U+1|0,0}function Q(e){return 0,1}var ee=[G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,function(e){return 0,0|D(1)?1:(n(0|i[U+1|0]),U=U+2|0,0)},function(e){return 0,0|D(2)?1:(n(0|V(U+1|0)),U=U+3|0,0)},function(e){return 0,0|D(4)?1:(s(0|V(U+1|0),0|V(U+3|0)),U=U+5|0,0)},function(e){return 0,0|D(8)?1:(a(0|V(U+1|0),0|V(U+3|0),0|V(U+5|0),0|V(U+7|0)),U=U+9|0,0)},Q,Q,Q,Q,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,function(e){return 0,0|D(1)?1:(n(-1-(0|i[U+1|0])|0),U=U+2|0,0)},function(e){var t;return 0|D(2)?1:(t=0|V(U+1|0),n(-1-(0|t)|0),U=U+3|0,0)},function(e){return 0,0|D(4)?1:(o(0|V(U+1|0),0|V(U+3|0)),U=U+5|0,0)},function(e){return 0,0|D(8)?1:(u(0|V(U+1|0),0|V(U+3|0),0|V(U+5|0),0|V(U+7|0)),U=U+9|0,0)},Q,Q,Q,Q,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,function(e){var t,r,n;return 0|D(1)?1:(n=0|i[U+1|0],t=U+2|0,r=(U+2|0)+(0|n)|0,0|D(n+1|0)?1:(B(0|t,0|r),U=0|r,0))},function(e){var t,r,i;return 0|D(2)?1:(i=0|V(U+1|0),t=U+3|0,r=(U+3|0)+(0|i)|0,0|D(i+2|0)?1:(B(0|t,0|r),U=0|r,0))},function(e){var t,r,i;return 0|D(4)?1:(i=0|H(U+1|0),t=U+5|0,r=(U+5|0)+(0|i)|0,0|D(i+4|0)?1:(B(0|t,0|r),U=0|r,0))},function(e){return 0,1},Q,Q,Q,function(e){return 0,x(),U=U+1|0,0},q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,function(e){var t,r,n;return 0|D(1)?1:(n=0|i[U+1|0],t=U+2|0,r=(U+2|0)+(0|n)|0,0|D(n+1|0)?1:(P(0|t,0|r),U=0|r,0))},function(e){var t,r,i;return 0|D(2)?1:(i=0|V(U+1|0),t=U+3|0,r=(U+3|0)+(0|i)|0,0|D(i+2|0)?1:(P(0|t,0|r),U=0|r,0))},function(e){var t,r,i;return 0|D(4)?1:(i=0|H(U+1|0),t=U+5|0,r=(U+5|0)+(0|i)|0,0|D(i+4|0)?1:(P(0|t,0|r),U=0|r,0))},function(e){return 0,1},Q,Q,Q,function(e){return 0,N(),U=U+1|0,0},W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,function(e){return 0,0|D(1)?1:(_(0|i[U+1|0]),U=U+2|0,0)},function(e){return 0,0|D(2)?1:(_(0|V(U+1|0)),U=U+3|0,0)},function(e){return 0,0|D(4)?1:(T(0|V(U+1|0),0|V(U+3|0)),U=U+5|0,0)},function(e){return 0,0|D(8)?1:(k(0|V(U+1|0),0|V(U+3|0),0|V(U+5|0),0|V(U+7|0)),U=U+9|0,0)},Q,Q,Q,function(e){return 0,v(),U=U+1|0,0},Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,function(e){return 0,0|D(1)?1:(A(0|i[U+1|0]),U=U+2|0,0)},function(e){return 0,0|D(2)?1:(A(0|V(U+1|0)),U=U+3|0,0)},function(e){return 0,0|D(4)?1:(S(0|V(U+1|0),0|V(U+3|0)),U=U+5|0,0)},function(e){return 0,0|D(8)?1:(I(0|V(U+1|0),0|V(U+3|0),0|V(U+5|0),0|V(U+7|0)),U=U+9|0,0)},Q,Q,Q,function(e){return 0,E(),U=U+1|0,0},J,J,J,J,J,J,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,function(e){return 0,0|D(1)?1:(O(0|i[U+1|0]),U=U+2|0,0)},function(e){return 0,0|D(2)?1:(O(0|V(U+1|0)),U=U+3|0,0)},function(e){return 0,0|D(4)?1:(C(0|V(U+1|0),0|V(U+3|0)),U=U+5|0,0)},function(e){return 0,0|D(8)?1:(j(0|V(U+1|0),0|V(U+3|0),0|V(U+5|0),0|V(U+7|0)),U=U+9|0,0)},Q,Q,Q,Q,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,function(e){return 0,d(),U=U+1|0,0},function(e){return 0,f(),U=U+1|0,0},function(e){return 0,g(),U=U+1|0,0},function(e){return 0,p(),U=U+1|0,0},function(e){return 0,0|D(1)?1:(L(0|i[U+1|0]),U=U+2|0,0)},function(e){var t,r,n,s=1;return 0|D(2)?1:(128&(0|(t=0|i[U+1|0]))&&(s=-1),n=+((3&(0|t))<<8|(0|i[U+2|0])),0==+(r=+((124&(0|t))>>2))?c(5.960464477539063e-8*+s*+n):31==+r?1==+s?+n>0?b():y():+n>0?w():m():c(+ +s*R(2,+(+r-25))*+(1024+n)),U=U+3|0,0)},function(e){return 0,0|D(4)?1:(h(0|i[U+1|0],0|i[U+2|0],0|i[U+3|0],0|i[U+4|0]),U=U+5|0,0)},function(e){return 0,0|D(8)?1:(l(0|i[U+1|0],0|i[U+2|0],0|i[U+3|0],0|i[U+4|0],0|i[U+5|0],0|i[U+6|0],0|i[U+7|0],0|i[U+8|0]),U=U+9|0,0)},Q,Q,Q,function(e){return 0,z(),U=U+1|0,0}];return{parse:function(e){for(U=0,M=e|=0;(0|U)<(0|M)&&!((0|(F=0|ee[255&i[U]](0|i[U])))>0););return 0|F}}}}}},{package:"eth-lattice-keyring>gridplus-sdk>borc",file:"node_modules/borc/src/decoder.asm.js"}],[2381,{"./constants":2379,"./decoder.asm":2380,"./simple":2385,"./tagged":2386,"./utils":2387,"bignumber.js":2378,buffer:2426,ieee754:3302,"iso-url":3318},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const{Buffer:i}=e("buffer"),n=e("ieee754"),s=e("bignumber.js").BigNumber,o=e("./decoder.asm"),a=e("./utils"),u=e("./constants"),c=e("./simple"),h=e("./tagged"),{URL:l}=e("iso-url");class f{constructor(e){!(e=e||{}).size||e.size<65536?e.size=65536:e.size=a.nextPowerOf2(e.size),this._heap=new ArrayBuffer(e.size),this._heap8=new Uint8Array(this._heap),this._buffer=i.from(this._heap),this._reset(),this._knownTags=Object.assign({0:e=>new Date(e),1:e=>new Date(1e3*e),2:e=>a.arrayBufferToBignumber(e),3:e=>u.NEG_ONE.minus(a.arrayBufferToBignumber(e)),4:e=>u.TEN.pow(e[0]).times(e[1]),5:e=>u.TWO.pow(e[0]).times(e[1]),32:e=>new l(e),35:e=>new RegExp(e)},e.tags),this.parser=o(global,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var e=this._parents.pop();if(e.length>0)throw new Error(`Missing ${e.length} elements`);switch(e.type){case u.PARENT.TAG:this._push(this.createTag(e.ref[0],e.ref[1]));break;case u.PARENT.BYTE_STRING:this._push(this.createByteString(e.ref,e.length));break;case u.PARENT.UTF8_STRING:this._push(this.createUtf8String(e.ref,e.length));break;case u.PARENT.MAP:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(e.ref,e.length));break;case u.PARENT.OBJECT:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(e.ref,e.length));break;case u.PARENT.ARRAY:this._push(this.createArray(e.ref,e.length))}this._currentParent&&this._currentParent.type===u.PARENT.TAG&&this._dec()}_dec(){const e=this._currentParent;e.length<0||(e.length--,0===e.length&&this._closeParent())}_push(e,t){const r=this._currentParent;switch(r.values++,r.type){case u.PARENT.ARRAY:case u.PARENT.BYTE_STRING:case u.PARENT.UTF8_STRING:r.length>-1?this._ref[this._ref.length-r.length]=e:this._ref.push(e),this._dec();break;case u.PARENT.OBJECT:null!=r.tmpKey?(this._ref[r.tmpKey]=e,r.tmpKey=null,this._dec()):(r.tmpKey=e,"string"!=typeof r.tmpKey&&(r.type=u.PARENT.MAP,r.ref=a.buildMap(r.ref)));break;case u.PARENT.MAP:null!=r.tmpKey?(this._ref.set(r.tmpKey,e),r.tmpKey=null,this._dec()):r.tmpKey=e;break;case u.PARENT.TAG:this._ref.push(e),t||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(e,t,r){this._parents[this._depth]={type:t,length:r,ref:e,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:u.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(e,t){const r=this._knownTags[e];return r?r(t):new h(e,t)}createMap(e,t){return e}createObject(e,t){return e}createArray(e,t){return e}createByteString(e,t){return i.concat(e)}createByteStringFromHeap(e,t){return e===t?i.alloc(0):i.from(this._heap.slice(e,t))}createInt(e){return e}createInt32(e,t){return a.buildInt32(e,t)}createInt64(e,t,r,i){return a.buildInt64(e,t,r,i)}createFloat(e){return e}createFloatSingle(e,t,r,i){return n.read([e,t,r,i],0,!1,23,4)}createFloatDouble(e,t,r,i,s,o,a,u){return n.read([e,t,r,i,s,o,a,u],0,!1,52,8)}createInt32Neg(e,t){return-1-a.buildInt32(e,t)}createInt64Neg(e,t,r,i){const n=a.buildInt32(e,t),o=a.buildInt32(r,i);return n>u.MAX_SAFE_HIGH?u.NEG_ONE.minus(new s(n).times(u.SHIFT32).plus(o)):-1-(n*u.SHIFT32+o)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){return undefined}createInfinity(){return Infinity}createInfinityNeg(){return-Infinity}createNaN(){return NaN}createNaNNeg(){return-NaN}createUtf8String(e,t){return e.join("")}createUtf8StringFromHeap(e,t){return e===t?"":this._buffer.toString("utf8",e,t)}createSimpleUnassigned(e){return new c(e)}pushInt(e){this._push(this.createInt(e))}pushInt32(e,t){this._push(this.createInt32(e,t))}pushInt64(e,t,r,i){this._push(this.createInt64(e,t,r,i))}pushFloat(e){this._push(this.createFloat(e))}pushFloatSingle(e,t,r,i){this._push(this.createFloatSingle(e,t,r,i))}pushFloatDouble(e,t,r,i,n,s,o,a){this._push(this.createFloatDouble(e,t,r,i,n,s,o,a))}pushInt32Neg(e,t){this._push(this.createInt32Neg(e,t))}pushInt64Neg(e,t,r,i){this._push(this.createInt64Neg(e,t,r,i))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],u.PARENT.ARRAY,-1)}pushArrayStartFixed(e){this._createArrayStartFixed(e)}pushArrayStartFixed32(e,t){const r=a.buildInt32(e,t);this._createArrayStartFixed(r)}pushArrayStartFixed64(e,t,r,i){const n=a.buildInt64(e,t,r,i);this._createArrayStartFixed(n)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(e){this._createObjectStartFixed(e)}pushObjectStartFixed32(e,t){const r=a.buildInt32(e,t);this._createObjectStartFixed(r)}pushObjectStartFixed64(e,t,r,i){const n=a.buildInt64(e,t,r,i);this._createObjectStartFixed(n)}pushByteStringStart(){this._parents[this._depth]={type:u.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(e,t){this._push(this.createByteStringFromHeap(e,t))}pushUtf8StringStart(){this._parents[this._depth]={type:u.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(e,t){this._push(this.createUtf8StringFromHeap(e,t))}pushSimpleUnassigned(e){this._push(this.createSimpleUnassigned(e))}pushTagStart(e){this._parents[this._depth]={type:u.PARENT.TAG,length:1,ref:[e]}}pushTagStart4(e,t){this.pushTagStart(a.buildInt32(e,t))}pushTagStart8(e,t,r,i){this.pushTagStart(a.buildInt64(e,t,r,i))}pushTagUnassigned(e){this._push(this.createTag(e))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(e){0!==e?this._createParent({},u.PARENT.OBJECT,e):this._push(this.createObject({}))}_createArrayStartFixed(e){0!==e?this._createParent(new Array(e),u.PARENT.ARRAY,e):this._push(this.createArray([]))}_decode(e){if(0===e.byteLength)throw new Error("Input too short");this._reset(),this._heap8.set(e);const t=this.parser.parse(e.byteLength);if(this._depth>1){for(;0===this._currentParent.length;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(t>0)throw new Error("Failed to parse");if(0===this._res.length)throw new Error("No valid result")}decodeFirst(e){return this._decode(e),this._res[0]}decodeAll(e){return this._decode(e),this._res}static decode(e,t){"string"==typeof e&&(e=i.from(e,t||"hex"));return new f({size:e.length}).decodeFirst(e)}static decodeAll(e,t){"string"==typeof e&&(e=i.from(e,t||"hex"));return new f({size:e.length}).decodeAll(e)}}f.decodeFirst=f.decode,t.exports=f}}},{package:"eth-lattice-keyring>gridplus-sdk>borc",file:"node_modules/borc/src/decoder.js"}],[2382,{"./decoder":2381,"./utils":2387,buffer:2426},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const{Buffer:i}=e("buffer"),n=e("./decoder"),s=e("./utils");class o extends n{createTag(e,t){return`${e}(${t})`}createInt(e){return super.createInt(e).toString()}createInt32(e,t){return super.createInt32(e,t).toString()}createInt64(e,t,r,i){return super.createInt64(e,t,r,i).toString()}createInt32Neg(e,t){return super.createInt32Neg(e,t).toString()}createInt64Neg(e,t,r,i){return super.createInt64Neg(e,t,r,i).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(e){const t=super.createFloat(e);return s.isNegativeZero(e)?"-0_1":`${t}_1`}createFloatSingle(e,t,r,i){return`${super.createFloatSingle(e,t,r,i)}_2`}createFloatDouble(e,t,r,i,n,s,o,a){return`${super.createFloatDouble(e,t,r,i,n,s,o,a)}_3`}createByteString(e,t){const r=e.join(", ");return-1===t?`(_ ${r})`:`h'${r}`}createByteStringFromHeap(e,t){return`h'${i.from(super.createByteStringFromHeap(e,t)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(e){return`simple(${e})`}createArray(e,t){const r=super.createArray(e,t);return-1===t?`[_ ${r.join(", ")}]`:`[${r.join(", ")}]`}createMap(e,t){const r=super.createMap(e),i=Array.from(r.keys()).reduce(a(r),"");return-1===t?`{_ ${i}}`:`{${i}}`}createObject(e,t){const r=super.createObject(e),i=Object.keys(r).reduce(a(r),"");return-1===t?`{_ ${i}}`:`{${i}}`}createUtf8String(e,t){const r=e.join(", ");return-1===t?`(_ ${r})`:`"${r}"`}createUtf8StringFromHeap(e,t){return`"${i.from(super.createUtf8StringFromHeap(e,t)).toString("utf8")}"`}static diagnose(e,t){"string"==typeof e&&(e=i.from(e,t||"hex"));return(new o).decodeFirst(e)}}function a(e){return(t,r)=>t?`${t}, ${r}: ${e[r]}`:`${r}: ${e[r]}`}t.exports=o}}},{package:"eth-lattice-keyring>gridplus-sdk>borc",file:"node_modules/borc/src/diagnose.js"}],[2383,{"./constants":2379,"./utils":2387,"bignumber.js":2378,buffer:2426,"iso-url":3318},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const{Buffer:i}=e("buffer"),{URL:n}=e("iso-url"),s=e("bignumber.js").BigNumber,o=e("./utils"),a=e("./constants"),u=a.MT,c=a.NUMBYTES,h=a.SHIFT32,l=a.SYMS,f=a.TAG,d=a.MT.SIMPLE_FLOAT<<5|a.NUMBYTES.TWO,p=a.MT.SIMPLE_FLOAT<<5|a.NUMBYTES.FOUR,g=a.MT.SIMPLE_FLOAT<<5|a.NUMBYTES.EIGHT,y=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.TRUE,m=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.FALSE,b=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.UNDEFINED,w=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.NULL,v=new s("0x20000000000000"),_=i.from("f97e00","hex"),T=i.from("f9fc00","hex"),k=i.from("f97c00","hex");class E{constructor(e){e=e||{},this.streaming="function"==typeof e.stream,this.onData=e.stream,this.semanticTypes=[[n,this._pushUrl],[s,this._pushBigNumber]];const t=e.genTypes||[],r=t.length;for(let e=0;e<r;e++)this.addSemanticType(t[e][0],t[e][1]);this._reset()}addSemanticType(e,t){const r=this.semanticTypes.length;for(let i=0;i<r;i++){if(this.semanticTypes[i][0]===e){const e=this.semanticTypes[i][1];return this.semanticTypes[i][1]=t,e}}return this.semanticTypes.push([e,t]),null}push(e){return!e||(this.result[this.offset]=e,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=e.length,this.offset++,this.streaming&&this.onData(this.finalize()),!0)}pushWrite(e,t,r){return this.result[this.offset]=e,this.resultMethod[this.offset]=t,this.resultLength[this.offset]=r,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(e){return this.pushWrite(e,1,1)}_pushUInt16BE(e){return this.pushWrite(e,2,2)}_pushUInt32BE(e){return this.pushWrite(e,3,4)}_pushDoubleBE(e){return this.pushWrite(e,4,8)}_pushNaN(){return this.push(_)}_pushInfinity(e){const t=e<0?T:k;return this.push(t)}_pushFloat(e){const t=i.allocUnsafe(2);if(o.writeHalf(t,e)&&o.parseHalf(t)===e)return this._pushUInt8(d)&&this.push(t);const r=i.allocUnsafe(4);return r.writeFloatBE(e,0),r.readFloatBE(0)===e?this._pushUInt8(p)&&this.push(r):this._pushUInt8(g)&&this._pushDoubleBE(e)}_pushInt(e,t,r){const i=t<<5;return e<24?this._pushUInt8(i|e):e<=255?this._pushUInt8(i|c.ONE)&&this._pushUInt8(e):e<=65535?this._pushUInt8(i|c.TWO)&&this._pushUInt16BE(e):e<=4294967295?this._pushUInt8(i|c.FOUR)&&this._pushUInt32BE(e):e<=Number.MAX_SAFE_INTEGER?this._pushUInt8(i|c.EIGHT)&&this._pushUInt32BE(Math.floor(e/h))&&this._pushUInt32BE(e%h):t===u.NEG_INT?this._pushFloat(r):this._pushFloat(e)}_pushIntNum(e){return e<0?this._pushInt(-e-1,u.NEG_INT,e):this._pushInt(e,u.POS_INT)}_pushNumber(e){switch(!1){case e==e:return this._pushNaN(e);case isFinite(e):return this._pushInfinity(e);case e%1!=0:return this._pushIntNum(e);default:return this._pushFloat(e)}}_pushString(e){const t=i.byteLength(e,"utf8");return this._pushInt(t,u.UTF8_STRING)&&this.pushWrite(e,5,t)}_pushBoolean(e){return this._pushUInt8(e?y:m)}_pushUndefined(e){return this._pushUInt8(b)}_pushArray(e,t){const r=t.length;if(!e._pushInt(r,u.ARRAY))return!1;for(let i=0;i<r;i++)if(!e.pushAny(t[i]))return!1;return!0}_pushTag(e){return this._pushInt(e,u.TAG)}_pushDate(e,t){return e._pushTag(f.DATE_EPOCH)&&e.pushAny(Math.round(t/1e3))}_pushBuffer(e,t){return e._pushInt(t.length,u.BYTE_STRING)&&e.push(t)}_pushNoFilter(e,t){return e._pushBuffer(e,t.slice())}_pushRegexp(e,t){return e._pushTag(f.REGEXP)&&e.pushAny(t.source)}_pushSet(e,t){if(!e._pushInt(t.size,u.ARRAY))return!1;for(const r of t)if(!e.pushAny(r))return!1;return!0}_pushUrl(e,t){return e._pushTag(f.URI)&&e.pushAny(t.format())}_pushBigint(e){let t=f.POS_BIGINT;e.isNegative()&&(e=e.negated().minus(1),t=f.NEG_BIGINT);let r=e.toString(16);r.length%2&&(r="0"+r);const n=i.from(r,"hex");return this._pushTag(t)&&this._pushBuffer(this,n)}_pushBigNumber(e,t){if(t.isNaN())return e._pushNaN();if(!t.isFinite())return e._pushInfinity(t.isNegative()?-Infinity:Infinity);if(t.isInteger())return e._pushBigint(t);if(!e._pushTag(f.DECIMAL_FRAC)||!e._pushInt(2,u.ARRAY))return!1;const r=t.decimalPlaces(),i=t.multipliedBy(new s(10).pow(r));return!!e._pushIntNum(-r)&&(i.abs().isLessThan(v)?e._pushIntNum(i.toNumber()):e._pushBigint(i))}_pushMap(e,t){return!!e._pushInt(t.size,u.MAP)&&this._pushRawMap(t.size,Array.from(t))}_pushObject(e){if(!e)return this._pushUInt8(w);for(var t=this.semanticTypes.length,r=0;r<t;r++)if(e instanceof this.semanticTypes[r][0])return this.semanticTypes[r][1].call(e,this,e);var i=e.encodeCBOR;if("function"==typeof i)return i.call(e,this);var n=Object.keys(e),s=n.length;return!!this._pushInt(s,u.MAP)&&this._pushRawMap(s,n.map((t=>[t,e[t]])))}_pushRawMap(e,t){t=t.map((function(e){return e[0]=E.encode(e[0]),e})).sort(o.keySorter);for(var r=0;r<e;r++){if(!this.push(t[r][0]))return!1;if(!this.pushAny(t[r][1]))return!1}return!0}write(e){return this.pushAny(e)}pushAny(e){var t=function(e){return{}.toString.call(e).slice(8,-1)}(e);switch(t){case"Number":return this._pushNumber(e);case"String":return this._pushString(e);case"Boolean":return this._pushBoolean(e);case"Object":return this._pushObject(e);case"Array":return this._pushArray(this,e);case"Uint8Array":return this._pushBuffer(this,i.isBuffer(e)?e:i.from(e));case"Null":return this._pushUInt8(w);case"Undefined":return this._pushUndefined(e);case"Map":return this._pushMap(this,e);case"Set":return this._pushSet(this,e);case"URL":return this._pushUrl(this,e);case"BigNumber":return this._pushBigNumber(this,e);case"Date":return this._pushDate(this,e);case"RegExp":return this._pushRegexp(this,e);case"Symbol":switch(e){case l.NULL:return this._pushObject(null);case l.UNDEFINED:return this._pushUndefined(undefined);default:throw new Error("Unknown symbol: "+e.toString())}default:throw new Error("Unknown type: "+typeof e+", "+(e?e.toString():""))}}finalize(){if(0===this.offset)return null;for(var e=this.result,t=this.resultLength,r=this.resultMethod,n=this.offset,s=0,o=0;o<n;o++)s+=t[o];var a=i.allocUnsafe(s),u=0,c=0;for(o=0;o<n;o++){switch(c=t[o],r[o]){case 0:e[o].copy(a,u);break;case 1:a.writeUInt8(e[o],u,!0);break;case 2:a.writeUInt16BE(e[o],u,!0);break;case 3:a.writeUInt32BE(e[o],u,!0);break;case 4:a.writeDoubleBE(e[o],u,!0);break;case 5:a.write(e[o],u,c,"utf8");break;default:throw new Error("unkown method")}u+=c}var h=a;return this._reset(),h}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(e){const t=new E;if(!t.pushAny(e))throw new Error("Failed to encode input");return t.finalize()}}t.exports=E}}},{package:"eth-lattice-keyring>gridplus-sdk>borc",file:"node_modules/borc/src/encoder.js"}],[2384,{"./decoder":2381,"./diagnose":2382,"./encoder":2383,"./simple":2385,"./tagged":2386},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){r.Diagnose=e("./diagnose"),r.Decoder=e("./decoder"),r.Encoder=e("./encoder"),r.Simple=e("./simple"),r.Tagged=e("./tagged"),r.decodeAll=r.Decoder.decodeAll,r.decodeFirst=r.Decoder.decodeFirst,r.diagnose=r.Diagnose.diagnose,r.encode=r.Encoder.encode,r.decode=r.Decoder.decode,r.leveldb={decode:r.Decoder.decodeAll,encode:r.Encoder.encode,buffer:!0,name:"cbor"}}}},{package:"eth-lattice-keyring>gridplus-sdk>borc",file:"node_modules/borc/src/index.js"}],[2385,{"./constants":2379},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const i=e("./constants"),n=i.MT,s=i.SIMPLE,o=i.SYMS;class a{constructor(e){if("number"!=typeof e)throw new Error("Invalid Simple type: "+typeof e);if(e<0||e>255||(0|e)!==e)throw new Error("value must be a small positive integer: "+e);this.value=e}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(e){return e._pushInt(this.value,n.SIMPLE_FLOAT)}static isSimple(e){return e instanceof a}static decode(e,t){switch(null==t&&(t=!0),e){case s.FALSE:return!1;case s.TRUE:return!0;case s.NULL:return t?null:o.NULL;case s.UNDEFINED:return t?undefined:o.UNDEFINED;case-1:if(!t)throw new Error("Invalid BREAK");return o.BREAK;default:return new a(e)}}}t.exports=a}}},{package:"eth-lattice-keyring>gridplus-sdk>borc",file:"node_modules/borc/src/simple.js"}],[2386,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){class i{constructor(e,t,r){if(this.tag=e,this.value=t,this.err=r,"number"!=typeof this.tag)throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(0|this.tag)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(e){return e._pushTag(this.tag),e.pushAny(this.value)}convert(e){var t,r;if("function"!=typeof(r=null!=e?e[this.tag]:undefined)&&"function"!=typeof(r=i["_tag"+this.tag]))return this;try{return r.call(i,this.value)}catch(e){return t=e,this.err=t,this}}}t.exports=i}}},{package:"eth-lattice-keyring>gridplus-sdk>borc",file:"node_modules/borc/src/tagged.js"}],[2387,{"./constants":2379,"bignumber.js":2378,buffer:2426},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const{Buffer:i}=e("buffer"),n=e("bignumber.js").BigNumber,s=e("./constants"),o=s.SHIFT32,a=s.SHIFT16;r.parseHalf=function(e){var t,r,i;return i=128&e[0]?-1:1,t=(124&e[0])>>2,r=(3&e[0])<<8|e[1],t?31===t?i*(r?0/0:Infinity):i*Math.pow(2,t-25)*(1024+r):5.960464477539063e-8*i*r},r.arrayBufferToBignumber=function(e){const t=e.byteLength;let r="";for(let n=0;n<t;n++)r+=(i=e[n])<16?"0"+i.toString(16):i.toString(16);var i;return new n(r,16)},r.buildMap=e=>{const t=new Map,r=Object.keys(e),i=r.length;for(let n=0;n<i;n++)t.set(r[n],e[r[n]]);return t},r.buildInt32=(e,t)=>e*a+t,r.buildInt64=(e,t,i,s)=>{const a=r.buildInt32(e,t),u=r.buildInt32(i,s);return a>2097151?new n(a).times(o).plus(u):a*o+u},r.writeHalf=function(e,t){const r=i.allocUnsafe(4);r.writeFloatBE(t,0);const n=r.readUInt32BE(0);if(0!=(8191&n))return!1;var s=n>>16&32768;const o=n>>23&255,a=8388607&n;if(o>=113&&o<=142)s+=(o-112<<10)+(a>>13);else{if(!(o>=103&&o<113))return!1;if(a&(1<<126-o)-1)return!1;s+=a+8388608>>126-o}return e.writeUInt16BE(s,0),!0},r.keySorter=function(e,t){var r=e[0].byteLength,i=t[0].byteLength;return r>i?1:i>r?-1:e[0].compare(t[0])},r.isNegativeZero=e=>0===e&&1/e<0,r.nextPowerOf2=e=>{let t=0;if(e&&!(e&e-1))return e;for(;0!==e;)e>>=1,t+=1;return 1<<t}}}},{package:"eth-lattice-keyring>gridplus-sdk>borc",file:"node_modules/borc/src/utils.js"}],[239,{"../util/named":255,"./basic":235,"@chainsafe/persistent-merkle-tree":218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BooleanType=void 0;const i=e("@chainsafe/persistent-merkle-tree"),n=e("../util/named"),s=e("./basic");class o extends s.BasicType{constructor(e){super(),this.byteLength=1,this.itemsPerChunk=32,this.fixedSize=1,this.minSize=1,this.maxSize=1,this.typeName=e?.typeName??"boolean"}static named(e){return new(n.namedClass(o,e.typeName))(e)}defaultValue(){return!1}value_serializeToBytes(e,t,r){return e.uint8Array[t]=r?1:0,t+1}value_deserializeFromBytes(e,t,r){switch(this.assertValidSize(r-t),e.uint8Array[t]){case 1:return!0;case 0:return!1;default:throw new Error(`Boolean: invalid value: ${e.uint8Array[t]}`)}}tree_serializeToBytes(e,t,r){return e.uint8Array[t]=r.getUint(4,0),t+1}tree_deserializeFromBytes(e,t,r){this.assertValidSize(r-t);const n=e.uint8Array[t];if(n>1)throw Error(`Boolean: invalid value ${n}`);return i.LeafNode.fromUint32(n)}tree_getFromNode(e){return 1===e.getUint(4,0)}tree_setToNode(e,t){e.setUint(4,0,t?1:0)}tree_getFromPackedNode(e,t){const r=t%this.itemsPerChunk;return 0!==e.getUint(1,r)}tree_setToPackedNode(e,t,r){const i=t%this.itemsPerChunk;e.setUint(1,i,r?1:0)}fromJson(e){if("boolean"!=typeof e)throw Error(`JSON invalid type ${typeof e} expected boolean`);return e}toJson(e){return e}}r.BooleanType=o}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/boolean.js"}],[24,{"../../../../shared/constants/permissions":4020,reselect:3821},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getPermittedAccountsByOrigin=r.getChangedAccounts=void 0;var i=e("reselect"),n=e("../../../../shared/constants/permissions");const s=(0,i.createSelector)((e=>e.subjects),(e=>Object.values(e).reduce(((e,t)=>{var r,i;const s=null===(r=t.permissions)||void 0===r||null===(i=r.eth_accounts)||void 0===i?void 0:i.caveats.find((({type:e})=>e===n.CaveatTypes.restrictReturnedAccounts));return s&&e.set(t.origin,s.value),e}),new Map)));r.getPermittedAccountsByOrigin=s;r.getChangedAccounts=(e,t)=>{if(t===undefined)return e;const r=new Map;if(e===t)return r;const i=new Set([...e.keys()]);for(const n of t.keys()){const s=e.get(n)??[];t.get(n)!==s&&r.set(n,s),i.delete(n)}for(const t of i.keys())r.set(t,e.get(t));return r}}}},{package:"$root$",file:"app/scripts/controllers/permissions/selectors.js"}],[240,{"../util/byteArray":253,"../util/merkleize":254,"./composite":243,"@chainsafe/persistent-merkle-tree":218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ByteArrayType=void 0;const i=e("@chainsafe/persistent-merkle-tree"),n=e("../util/byteArray"),s=e("../util/merkleize"),o=e("./composite");class a extends o.CompositeType{constructor(){super(...arguments),this.isViewMutable=!1}defaultValue(){return new Uint8Array(this.minSize)}getView(e){return this.getViewDU(e.rootNode)}getViewDU(e){return this.tree_toValue(e)}commitView(e){return this.commitViewDU(e)}commitViewDU(e){const t=new Uint8Array(this.value_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_serializeToBytes({uint8Array:t,dataView:r},0,e),this.tree_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length)}cacheOfViewDU(){}toView(e){return e}toViewDU(e){return e}value_serializeToBytes(e,t,r){return e.uint8Array.set(r,t),t+r.length}value_deserializeFromBytes(e,t,r){return this.assertValidSize(r-t),Uint8Array.prototype.slice.call(e.uint8Array,t,r)}getRoots(e){return s.splitIntoRootChunks(e)}getPropertyGindex(){return null}getPropertyType(){throw Error("Must only request ByteArray complete data")}getIndexProperty(){throw Error("Must only request ByteArray complete data")}tree_fromProofNode(e){return{node:e,done:!0}}tree_getLeafGindices(e,t){const r=this.tree_getByteLen(t),n=Math.ceil(r/32),s=i.concatGindices([e,i.toGindex(this.depth,BigInt(0))]),a=new Array(n);for(let e=0,t=s;e<n;e++,t++)a[e]=t;return this.isList&&a.push(i.concatGindices([e,o.LENGTH_GINDEX])),a}fromJson(e){const t=n.fromHexString(e);return this.assertValidSize(t.length),t}toJson(e){return n.toHexString(e)}clone(e){return e}equals(e,t){return n.byteArrayEquals(e,t)}}r.ByteArrayType=a}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/byteArray.js"}],[241,{"../util/merkleize":254,"../util/named":255,"./arrayBasic":233,"./byteArray":240,"@chainsafe/persistent-merkle-tree":218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ByteListType=void 0;const i=e("@chainsafe/persistent-merkle-tree"),n=e("../util/merkleize"),s=e("../util/named"),o=e("./arrayBasic"),a=e("./byteArray");class u extends a.ByteArrayType{constructor(e,t){if(super(),this.limitBytes=e,this.fixedSize=null,this.isList=!0,0===e)throw Error("List limit must be > 0");this.typeName=t?.typeName??`ByteList[${e}]`,this.maxChunkCount=Math.ceil(this.limitBytes/32),this.chunkDepth=n.maxChunksToDepth(this.maxChunkCount),this.depth=1+this.chunkDepth,this.minSize=0,this.maxSize=this.limitBytes}static named(e,t){return new(s.namedClass(u,t.typeName))(e,t)}value_serializedSize(e){return e.length}tree_serializedSize(e){return o.getLengthFromRootNode(e)}tree_serializeToBytes(e,t,r){const n=o.getChunksNodeFromRootNode(r),s=o.getLengthFromRootNode(r),a=Math.ceil(s/32),u=i.getNodesAtDepth(n,this.chunkDepth,0,a);return i.packedNodeRootsToBytes(e.dataView,t,s,u),t+s}tree_deserializeFromBytes(e,t,r){this.assertValidSize(r-t);const n=i.packedRootsBytesToNode(this.chunkDepth,e.dataView,t,r);return o.addLengthNode(n,r-t)}tree_getByteLen(e){if(!e)throw new Error("ByteListType requires a node to get leaves");return o.getLengthFromRootNode(e)}hashTreeRoot(e){return n.mixInLength(super.hashTreeRoot(e),e.length)}assertValidSize(e){if(e>this.limitBytes)throw Error(`ByteList invalid size ${e} limit ${this.limitBytes}`)}}r.ByteListType=u}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/byteList.js"}],[242,{"../util/merkleize":254,"../util/named":255,"./byteArray":240,"@chainsafe/persistent-merkle-tree":218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ByteVectorType=void 0;const i=e("@chainsafe/persistent-merkle-tree"),n=e("../util/merkleize"),s=e("../util/named"),o=e("./byteArray");class a extends o.ByteArrayType{constructor(e,t){if(super(),this.lengthBytes=e,this.isList=!1,0===e)throw Error("Vector length must be > 0");this.typeName=t?.typeName??`ByteVector[${e}]`,this.maxChunkCount=Math.ceil(this.lengthBytes/32),this.chunkDepth=n.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth,this.fixedSize=this.lengthBytes,this.minSize=this.fixedSize,this.maxSize=this.fixedSize}static named(e,t){return new(s.namedClass(a,t.typeName))(e,t)}value_serializedSize(){return this.fixedSize}tree_serializedSize(){return this.fixedSize}tree_serializeToBytes(e,t,r){const n=i.getNodesAtDepth(r,this.chunkDepth,0,this.maxChunkCount);return i.packedNodeRootsToBytes(e.dataView,t,this.fixedSize,n),t+this.fixedSize}tree_deserializeFromBytes(e,t,r){return this.assertValidSize(r-t),i.packedRootsBytesToNode(this.chunkDepth,e.dataView,t,r)}tree_getByteLen(){return this.lengthBytes}assertValidSize(e){if(e!==this.lengthBytes)throw Error(`ByteVector invalid size ${e} expected ${this.lengthBytes}`)}}r.ByteVectorType=a}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/byteVector.js"}],[243,{"../util/byteArray":253,"../util/merkleize":254,"../util/proof/treePostProcessFromProofNode":256,"./abstract":231,"@chainsafe/persistent-merkle-tree":218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isCompositeType=r.CompositeType=r.LENGTH_GINDEX=void 0;const i=e("@chainsafe/persistent-merkle-tree"),n=e("../util/byteArray"),s=e("../util/merkleize"),o=e("../util/proof/treePostProcessFromProofNode"),a=e("./abstract");r.LENGTH_GINDEX=BigInt(3);const u=Symbol("ssz_cached_permanent_root");class c extends a.Type{constructor(e){super(),this.cachePermanentRootStruct=e,this.isBasic=!1}defaultView(){return this.toView(this.defaultValue())}defaultViewDU(){return this.toViewDU(this.defaultValue())}deserializeToView(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=this.tree_deserializeFromBytes({uint8Array:e,dataView:t},0,e.length);return this.getView(new i.Tree(r))}deserializeToViewDU(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=this.tree_deserializeFromBytes({uint8Array:e,dataView:t},0,e.length);return this.getViewDU(r)}toView(e){const t=this.value_toTree(e);return this.getView(new i.Tree(t))}toViewDU(e){const t=this.value_toTree(e);return this.getViewDU(t)}toValueFromView(e){const t=this.commitView(e);return this.tree_toValue(t)}toValueFromViewDU(e){const t=this.commitViewDU(e);return this.tree_toValue(t)}toViewFromViewDU(e){const t=this.commitViewDU(e);return this.getView(new i.Tree(t))}toViewDUFromView(e){const t=this.commitView(e);return this.getViewDU(t)}hashTreeRoot(e){if(this.cachePermanentRootStruct){const t=e[u];if(t)return t}const t=s.merkleize(this.getRoots(e),this.maxChunkCount);return this.cachePermanentRootStruct&&(e[u]=t),t}getCachedPermanentRoot(e){return e[u]}createFromProof(e,t){const r=i.Tree.createFromProof(e).rootNode,s=o.treePostProcessFromProofNode(r,this);if(t!==undefined&&!n.byteArrayEquals(s.root,t))throw new Error("Proof does not match trusted root");return this.getView(new i.Tree(s))}tree_createProof(e,t){const r=this.tree_createProofGindexes(e,t);return i.createProof(e,{type:i.ProofType.treeOffset,gindices:r})}tree_createProofGindexes(e,t){const r=[];for(const n of t){const{type:t,gindex:s}=this.getPathInfo(n);if(h(t)){const n=t.tree_getLeafGindices(s,null===t.fixedSize?i.getNode(e,s):undefined);for(const e of n)r.push(e)}else r.push(s)}return r}getPathInfo(e){const t=[];let r=this;for(const i of e){if(r.isBasic)throw new Error("Invalid path: cannot navigate beyond a basic type");const e=r.getPropertyGindex(i);null!==e&&(t.push(e),r=r.getPropertyType(i))}return{type:r,gindex:i.concatGindices(t)}}tree_fromProofNode(e){return{node:e,done:!1}}}function h(e){return!e.isBasic}r.CompositeType=c,r.isCompositeType=h}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/composite.js"}],[2439,{_process:3641,semver:3869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){const i=e("semver"),n=["assert","buffer","child_process","cluster","console","constants","crypto","dgram","dns","domain","events","fs","http","https","module","net","os","path","punycode","querystring","readline","repl","stream","string_decoder","sys","timers","tls","tty","url","util","vm","zlib"],s={freelist:"<6.0.0",v8:">=1.0.0",process:">=1.1.0",inspector:">=8.0.0",async_hooks:">=8.1.0",http2:">=8.4.0",perf_hooks:">=8.5.0",trace_events:">=10.0.0",worker_threads:">=12.0.0","node:test":">=18.0.0"},o={worker_threads:">=10.5.0",wasi:">=12.16.0",diagnostics_channel:"^14.17.0 || >=15.1.0"};t.exports=({version:e=r.version,experimental:t=!1}={})=>{const a=[...n];for(const[t,r]of Object.entries(s))("*"===e||i.satisfies(e,r))&&a.push(t);if(t)for(const[t,r]of Object.entries(o))a.includes(t)||"*"!==e&&!i.satisfies(e,r)||a.push(t);return a}}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/snaps-utils>validate-npm-package-name>builtins",file:"node_modules/builtins/index.js"}],[244,{"../util/merkleize":254,"../util/named":255,"../view/container":263,"../viewDU/container":271,"./composite":243,"@chainsafe/persistent-merkle-tree":218,case:2445},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.renderContainerTypeName=r.precomputeJsonKey=r.ContainerType=void 0;const n=e("@chainsafe/persistent-merkle-tree"),s=i(e("case")),o=e("../util/merkleize"),a=e("../util/named"),u=e("./composite"),c=e("../view/container"),h=e("../viewDU/container");class l extends u.CompositeType{constructor(e,t){super(t?.cachePermanentRootStruct),this.fields=e,this.opts=t,this.isList=!1,this.isViewMutable=!0,this.typeName=t?.typeName??d(e),this.maxChunkCount=Object.keys(e).length,this.depth=o.maxChunksToDepth(this.maxChunkCount),this.fieldsEntries=[];for(const r of Object.keys(e))this.fieldsEntries.push({fieldName:r,fieldType:this.fields[r],jsonKey:f(r,t?.casingMap,t?.jsonCase),gindex:n.toGindex(this.depth,BigInt(this.fieldsEntries.length))});if(0===this.fieldsEntries.length)throw Error("Container must have > 0 fields");this.fieldsGindex={};for(let e=0;e<this.fieldsEntries.length;e++)this.fieldsGindex[this.fieldsEntries[e].fieldName]=n.toGindex(this.depth,BigInt(e));this.jsonKeyToFieldName={};for(const{fieldName:e,jsonKey:t}of this.fieldsEntries)this.jsonKeyToFieldName[t]=e;const{minLen:r,maxLen:i,fixedSize:s}=function(e){let t=0,r=0,i=0;for(const n of Object.values(e))t+=n.minSize,r+=n.maxSize,null===n.fixedSize?(t+=4,r+=4,i=null):null!==i&&(i+=n.fixedSize);return{minLen:t,maxLen:r,fixedSize:i}}(e);this.minSize=r,this.maxSize=i,this.fixedSize=s;const{isFixedLen:a,fieldRangesFixedLen:u,variableOffsetsPosition:l,fixedEnd:p}=function(e){const t=[],r=[],i=[];let n=0;for(const s of Object.values(e))t.push(null!==s.fixedSize),null===s.fixedSize?(i.push(n),n+=4):(r.push({start:n,end:n+s.fixedSize}),n+=s.fixedSize);return{isFixedLen:t,fieldRangesFixedLen:r,variableOffsetsPosition:i,fixedEnd:n}}(e);this.isFixedLen=a,this.fieldRangesFixedLen=u,this.variableOffsetsPosition=l,this.fixedEnd=p,this.TreeView=t?.getContainerTreeViewClass?.(this)??c.getContainerTreeViewClass(this),this.TreeViewDU=t?.getContainerTreeViewDUClass?.(this)??h.getContainerTreeViewDUClass(this)}static named(e,t){return new(a.namedClass(l,t.typeName))(e,t)}defaultValue(){const e={};for(const{fieldName:t,fieldType:r}of this.fieldsEntries)e[t]=r.defaultValue();return e}getView(e){return new this.TreeView(this,e)}getViewDU(e,t){return new this.TreeViewDU(this,e,t)}cacheOfViewDU(e){return e.cache}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}value_serializedSize(e){let t=0;for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:i,fieldType:n}=this.fieldsEntries[r];t+=null===n.fixedSize?4+n.value_serializedSize(e[i]):n.fixedSize}return t}value_serializeToBytes(e,t,r){let i=t,n=t+this.fixedEnd;for(let s=0;s<this.fieldsEntries.length;s++){const{fieldName:o,fieldType:a}=this.fieldsEntries[s];null===a.fixedSize?(e.dataView.setUint32(i,n-t,!0),i+=4,n=a.value_serializeToBytes(e,n,r[o])):i=a.value_serializeToBytes(e,i,r[o])}return n}value_deserializeFromBytes(e,t,r){const i=this.getFieldRanges(e.dataView,t,r),n={};for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:s,fieldType:o}=this.fieldsEntries[r],a=i[r];n[s]=o.value_deserializeFromBytes(e,t+a.start,t+a.end)}return n}tree_serializedSize(e){let t=0;const r=n.getNodesAtDepth(e,this.depth,0,this.fieldsEntries.length);for(let e=0;e<this.fieldsEntries.length;e++){const{fieldType:i}=this.fieldsEntries[e],n=r[e];t+=null===i.fixedSize?4+i.tree_serializedSize(n):i.fixedSize}return t}tree_serializeToBytes(e,t,r){let i=t,s=t+this.fixedEnd;const o=n.getNodesAtDepth(r,this.depth,0,this.fieldsEntries.length);for(let r=0;r<this.fieldsEntries.length;r++){const{fieldType:n}=this.fieldsEntries[r],a=o[r];null===n.fixedSize?(e.dataView.setUint32(i,s-t,!0),i+=4,s=n.tree_serializeToBytes(e,s,a)):i=n.tree_serializeToBytes(e,i,a)}return s}tree_deserializeFromBytes(e,t,r){const i=this.getFieldRanges(e.dataView,t,r),s=new Array(this.fieldsEntries.length);for(let r=0;r<this.fieldsEntries.length;r++){const{fieldType:n}=this.fieldsEntries[r],o=i[r];s[r]=n.tree_deserializeFromBytes(e,t+o.start,t+o.end)}return n.subtreeFillToContents(s,this.depth)}getRoots(e){const t=new Array(this.fieldsEntries.length);for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:i,fieldType:n}=this.fieldsEntries[r];t[r]=n.hashTreeRoot(e[i])}return t}getPropertyGindex(e){const t=this.fieldsGindex[e]??this.fieldsGindex[this.jsonKeyToFieldName[e]];if(t===undefined)throw Error(`Unknown container property ${e}`);return t}getPropertyType(e){const t=this.fields[e]??this.fields[this.jsonKeyToFieldName[e]];if(t===undefined)throw Error(`Unknown container property ${e}`);return t}getIndexProperty(e){return e>=this.fieldsEntries.length?null:this.fieldsEntries[e].fieldName}tree_getLeafGindices(e,t){const r=[];for(let i=0;i<this.fieldsEntries.length;i++){const{fieldName:s,fieldType:o}=this.fieldsEntries[i],a=this.fieldsGindex[s],u=n.concatGindices([e,a]);if(o.isBasic)r.push(u);else{const e=o;if(null===o.fixedSize){if(!t)throw new Error("variable type requires tree argument to get leaves");r.push(...e.tree_getLeafGindices(u,n.getNode(t,a)))}else r.push(...e.tree_getLeafGindices(u))}}return r}fromJson(e){if("object"!=typeof e)throw Error("JSON must be of type object");if(null===e)throw Error("JSON must not be null");const t={};for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:i,fieldType:n,jsonKey:s}=this.fieldsEntries[r],o=e[s];if(o===undefined)throw Error(`JSON expected key ${s} is undefined`);t[i]=n.fromJson(o)}return t}toJson(e){const t={};for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:i,fieldType:n,jsonKey:s}=this.fieldsEntries[r];t[s]=n.toJson(e[i])}return t}clone(e){const t={};for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:i,fieldType:n}=this.fieldsEntries[r];t[i]=n.clone(e[i])}return t}equals(e,t){for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:i,fieldType:n}=this.fieldsEntries[r];if(!n.equals(e[i],t[i]))return!1}return!0}getFieldRanges(e,t,r){if(0===this.variableOffsetsPosition.length){const e=r-t;if(e!==this.fixedEnd)throw Error(`${this.typeName} size ${e} not equal fixed size ${this.fixedEnd}`);return this.fieldRangesFixedLen}const i=function(e,t,r,i,n){const s=r-t,o=new Array(n.length);for(let r=0;r<n.length;r++){const a=e.getUint32(t+n[r],!0);if(a>s)throw new Error(`Offset out of bounds ${a} > ${s}`);if(0===r){if(a!==i)throw new Error(`First offset must equal to fixedEnd ${a} != ${i}`)}else if(a<o[r-1])throw new Error(`Offsets must be increasing ${a} < ${o[r-1]}`);o[r]=a}return o}(e,t,r,this.fixedEnd,this.variableOffsetsPosition);i.push(r-t);let n=0,s=0;const o=new Array(this.isFixedLen.length);for(let e=0;e<this.isFixedLen.length;e++)this.isFixedLen[e]?o[e]=this.fieldRangesFixedLen[s++]:(o[e]={start:i[n],end:i[n+1]},n++);return o}}function f(e,t,r){if(t){const r=t[e];if(r===undefined)throw Error(`casingMap[${e}] not defined`);return r}if(r){if("eth2"===r){return s.default.snake(e).replace(/(\d)$/,"_$1")}return s.default[r](e)}return e}function d(e,t="Container"){return`${t}({${Object.keys(e).map((t=>`${t}: ${e[t].typeName}`)).join(", ")}})`}r.ContainerType=l,r.precomputeJsonKey=f,r.renderContainerTypeName=d}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/container.js"}],[2440,{long:2441},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){
/**
 * @license bytebuffer.js (c) 2015 Daniel Wirtz <dcode@dcode.io>
 * Backing buffer: ArrayBuffer, Accessor: Uint8Array
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bytebuffer.js for details
 */
!function(r,i){"function"==typeof define&&define.amd?define(["long"],i):"function"==typeof e&&"object"==typeof t&&t&&t.exports?t.exports=function(){var t;try{t=e("long")}catch(e){}return i(t)}():(r.dcodeIO=r.dcodeIO||{}).ByteBuffer=i(r.dcodeIO.Long)}(this,(function(e){var t=function(e,r,n){if(void 0===e&&(e=t.DEFAULT_CAPACITY),void 0===r&&(r=t.DEFAULT_ENDIAN),void 0===n&&(n=t.DEFAULT_NOASSERT),!n){if((e|=0)<0)throw RangeError("Illegal capacity");r=!!r,n=!!n}this.buffer=0===e?i:new ArrayBuffer(e),this.view=0===e?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=e,this.littleEndian=r,this.noAssert=n};t.VERSION="5.0.1",t.LITTLE_ENDIAN=!0,t.BIG_ENDIAN=!1,t.DEFAULT_CAPACITY=16,t.DEFAULT_ENDIAN=t.BIG_ENDIAN,t.DEFAULT_NOASSERT=!1,t.Long=e||null;var r=t.prototype;r.__isByteBuffer__,Object.defineProperty(r,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var i=new ArrayBuffer(0),n=String.fromCharCode;function s(e){var t=0;return function(){return t<e.length?e.charCodeAt(t++):null}}function o(){var e=[],t=[];return function(){if(0===arguments.length)return t.join("")+n.apply(String,e);e.length+arguments.length>1024&&(t.push(n.apply(String,e)),e.length=0),Array.prototype.push.apply(e,arguments)}}function a(e,t,r,i,n){var s,o,a=8*n-i-1,u=(1<<a)-1,c=u>>1,h=-7,l=r?n-1:0,f=r?-1:1,d=e[t+l];for(l+=f,s=d&(1<<-h)-1,d>>=-h,h+=a;h>0;s=256*s+e[t+l],l+=f,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=i;h>0;o=256*o+e[t+l],l+=f,h-=8);if(0===s)s=1-c;else{if(s===u)return o?NaN:(d?-1:1)*Infinity;o+=Math.pow(2,i),s-=c}return(d?-1:1)*o*Math.pow(2,s-i)}function u(e,t,r,i,n,s){var o,a,u,c=8*s-n-1,h=(1<<c)-1,l=h>>1,f=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:s-1,p=i?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===Infinity?(a=isNaN(t)?1:0,o=h):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+l>=1?f/u:f*Math.pow(2,1-l))*u>=2&&(o++,u/=2),o+l>=h?(a=0,o=h):o+l>=1?(a=(t*u-1)*Math.pow(2,n),o+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,n),o=0));n>=8;e[r+d]=255&a,d+=p,a/=256,n-=8);for(o=o<<n|a,c+=n;c>0;e[r+d]=255&o,d+=p,o/=256,c-=8);e[r+d-p]|=128*g}t.accessor=function(){return Uint8Array},t.allocate=function(e,r,i){return new t(e,r,i)},t.concat=function(e,r,i,n){"boolean"!=typeof r&&"string"==typeof r||(n=i,i=r,r=undefined);for(var s,o=0,a=0,u=e.length;a<u;++a)t.isByteBuffer(e[a])||(e[a]=t.wrap(e[a],r)),(s=e[a].limit-e[a].offset)>0&&(o+=s);if(0===o)return new t(0,i,n);var c,h=new t(o,i,n);for(a=0;a<u;)(s=(c=e[a++]).limit-c.offset)<=0||(h.view.set(c.view.subarray(c.offset,c.limit),h.offset),h.offset+=s);return h.limit=h.offset,h.offset=0,h},t.isByteBuffer=function(e){return!0===(e&&e.__isByteBuffer__)},t.type=function(){return ArrayBuffer},t.wrap=function(e,i,n,s){if("string"!=typeof i&&(s=n,n=i,i=undefined),"string"==typeof e)switch(void 0===i&&(i="utf8"),i){case"base64":return t.fromBase64(e,n);case"hex":return t.fromHex(e,n);case"binary":return t.fromBinary(e,n);case"utf8":return t.fromUTF8(e,n);case"debug":return t.fromDebug(e,n);default:throw Error("Unsupported encoding: "+i)}if(null===e||"object"!=typeof e)throw TypeError("Illegal buffer");var o;if(t.isByteBuffer(e))return(o=r.clone.call(e)).markedOffset=-1,o;if(e instanceof Uint8Array)o=new t(0,n,s),e.length>0&&(o.buffer=e.buffer,o.offset=e.byteOffset,o.limit=e.byteOffset+e.byteLength,o.view=new Uint8Array(e.buffer));else if(e instanceof ArrayBuffer)o=new t(0,n,s),e.byteLength>0&&(o.buffer=e,o.offset=0,o.limit=e.byteLength,o.view=e.byteLength>0?new Uint8Array(e):null);else{if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Illegal buffer");(o=new t(e.length,n,s)).limit=e.length;for(var a=0;a<e.length;++a)o.view[a]=e[a]}return o},r.writeBitSet=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if(!(e instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+0+") <= "+this.buffer.byteLength)}var i,n=t,s=e.length,o=s>>3,a=0;for(t+=this.writeVarint32(s,t);o--;)i=1&!!e[a++]|(1&!!e[a++])<<1|(1&!!e[a++])<<2|(1&!!e[a++])<<3|(1&!!e[a++])<<4|(1&!!e[a++])<<5|(1&!!e[a++])<<6|(1&!!e[a++])<<7,this.writeByte(i,t++);if(a<s){var u=0;for(i=0;a<s;)i|=(1&!!e[a++])<<u++;this.writeByte(i,t++)}return r?(this.offset=t,this):t-n},r.readBitSet=function(e){var t=void 0===e;t&&(e=this.offset);var r,i=this.readVarint32(e),n=i.value,s=n>>3,o=0,a=[];for(e+=i.length;s--;)r=this.readByte(e++),a[o++]=!!(1&r),a[o++]=!!(2&r),a[o++]=!!(4&r),a[o++]=!!(8&r),a[o++]=!!(16&r),a[o++]=!!(32&r),a[o++]=!!(64&r),a[o++]=!!(128&r);if(o<n){var u=0;for(r=this.readByte(e++);o<n;)a[o++]=!!(r>>u++&1)}return t&&(this.offset=e),a},r.readBytes=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+e+") <= "+this.buffer.byteLength)}var i=this.slice(t,t+e);return r&&(this.offset+=e),i},r.writeBytes=r.append,r.writeInt8=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+0+") <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=1,this.view[t]=e,r&&(this.offset+=1),this},r.writeByte=r.writeInt8,r.readInt8=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+1+") <= "+this.buffer.byteLength)}var r=this.view[e];return 128==(128&r)&&(r=-(255-r+1)),t&&(this.offset+=1),r},r.readByte=r.readInt8,r.writeUint8=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+0+") <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=1,this.view[t]=e,r&&(this.offset+=1),this},r.writeUInt8=r.writeUint8,r.readUint8=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+1+") <= "+this.buffer.byteLength)}var r=this.view[e];return t&&(this.offset+=1),r},r.readUInt8=r.readUint8,r.writeInt16=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+0+") <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),r&&(this.offset+=2),this},r.writeShort=r.writeInt16,r.readInt16=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+2+") <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[e],r|=this.view[e+1]<<8):(r=this.view[e]<<8,r|=this.view[e+1]),32768==(32768&r)&&(r=-(65535-r+1)),t&&(this.offset+=2),r},r.readShort=r.readInt16,r.writeUint16=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+0+") <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),r&&(this.offset+=2),this},r.writeUInt16=r.writeUint16,r.readUint16=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+2+") <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[e],r|=this.view[e+1]<<8):(r=this.view[e]<<8,r|=this.view[e+1]),t&&(this.offset+=2),r},r.readUInt16=r.readUint16,r.writeInt32=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+0+") <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),r&&(this.offset+=4),this},r.writeInt=r.writeInt32,r.readInt32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+4+") <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[e+2]<<16,r|=this.view[e+1]<<8,r|=this.view[e],r+=this.view[e+3]<<24>>>0):(r=this.view[e+1]<<16,r|=this.view[e+2]<<8,r|=this.view[e+3],r+=this.view[e]<<24>>>0),r|=0,t&&(this.offset+=4),r},r.readInt=r.readInt32,r.writeUint32=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+0+") <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),r&&(this.offset+=4),this},r.writeUInt32=r.writeUint32,r.readUint32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+4+") <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[e+2]<<16,r|=this.view[e+1]<<8,r|=this.view[e],r+=this.view[e+3]<<24>>>0):(r=this.view[e+1]<<16,r|=this.view[e+2]<<8,r|=this.view[e+3],r+=this.view[e]<<24>>>0),t&&(this.offset+=4),r},r.readUInt32=r.readUint32,e&&(r.writeInt64=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+"+0+") <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),r+=8;var n=this.buffer.byteLength;r>n&&this.resize((n*=2)>r?n:r),r-=8;var s=t.low,o=t.high;return this.littleEndian?(this.view[r+3]=s>>>24&255,this.view[r+2]=s>>>16&255,this.view[r+1]=s>>>8&255,this.view[r]=255&s,r+=4,this.view[r+3]=o>>>24&255,this.view[r+2]=o>>>16&255,this.view[r+1]=o>>>8&255,this.view[r]=255&o):(this.view[r]=o>>>24&255,this.view[r+1]=o>>>16&255,this.view[r+2]=o>>>8&255,this.view[r+3]=255&o,r+=4,this.view[r]=s>>>24&255,this.view[r+1]=s>>>16&255,this.view[r+2]=s>>>8&255,this.view[r+3]=255&s),i&&(this.offset+=8),this},r.writeLong=r.writeInt64,r.readInt64=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+8+") <= "+this.buffer.byteLength)}var i=0,n=0;this.littleEndian?(i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0,t+=4,n=this.view[t+2]<<16,n|=this.view[t+1]<<8,n|=this.view[t],n+=this.view[t+3]<<24>>>0):(n=this.view[t+1]<<16,n|=this.view[t+2]<<8,n|=this.view[t+3],n+=this.view[t]<<24>>>0,t+=4,i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0);var s=new e(i,n,!1);return r&&(this.offset+=8),s},r.readLong=r.readInt64,r.writeUint64=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+"+0+") <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),r+=8;var n=this.buffer.byteLength;r>n&&this.resize((n*=2)>r?n:r),r-=8;var s=t.low,o=t.high;return this.littleEndian?(this.view[r+3]=s>>>24&255,this.view[r+2]=s>>>16&255,this.view[r+1]=s>>>8&255,this.view[r]=255&s,r+=4,this.view[r+3]=o>>>24&255,this.view[r+2]=o>>>16&255,this.view[r+1]=o>>>8&255,this.view[r]=255&o):(this.view[r]=o>>>24&255,this.view[r+1]=o>>>16&255,this.view[r+2]=o>>>8&255,this.view[r+3]=255&o,r+=4,this.view[r]=s>>>24&255,this.view[r+1]=s>>>16&255,this.view[r+2]=s>>>8&255,this.view[r+3]=255&s),i&&(this.offset+=8),this},r.writeUInt64=r.writeUint64,r.readUint64=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+8+") <= "+this.buffer.byteLength)}var i=0,n=0;this.littleEndian?(i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0,t+=4,n=this.view[t+2]<<16,n|=this.view[t+1]<<8,n|=this.view[t],n+=this.view[t+3]<<24>>>0):(n=this.view[t+1]<<16,n|=this.view[t+2]<<8,n|=this.view[t+3],n+=this.view[t]<<24>>>0,t+=4,i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0);var s=new e(i,n,!0);return r&&(this.offset+=8),s},r.readUInt64=r.readUint64),r.writeFloat32=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+0+") <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,u(this.view,e,t,this.littleEndian,23,4),r&&(this.offset+=4),this},r.writeFloat=r.writeFloat32,r.readFloat32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+4+") <= "+this.buffer.byteLength)}var r=a(this.view,e,this.littleEndian,23,4);return t&&(this.offset+=4),r},r.readFloat=r.readFloat32,r.writeFloat64=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+0+") <= "+this.buffer.byteLength)}t+=8;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=8,u(this.view,e,t,this.littleEndian,52,8),r&&(this.offset+=8),this},r.writeDouble=r.writeFloat64,r.readFloat64=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+8+") <= "+this.buffer.byteLength)}var r=a(this.view,e,this.littleEndian,52,8);return t&&(this.offset+=8),r},r.readDouble=r.readFloat64,t.MAX_VARINT32_BYTES=5,t.calculateVarint32=function(e){return(e>>>=0)<128?1:e<16384?2:e<1<<21?3:e<1<<28?4:5},t.zigZagEncode32=function(e){return((e|=0)<<1^e>>31)>>>0},t.zigZagDecode32=function(e){return e>>>1^-(1&e)|0},r.writeVarint32=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+"+0+") <= "+this.buffer.byteLength)}var n,s=t.calculateVarint32(e);r+=s;var o=this.buffer.byteLength;for(r>o&&this.resize((o*=2)>r?o:r),r-=s,e>>>=0;e>=128;)n=127&e|128,this.view[r++]=n,e>>>=7;return this.view[r++]=e,i?(this.offset=r,this):s},r.writeVarint32ZigZag=function(e,r){return this.writeVarint32(t.zigZagEncode32(e),r)},r.readVarint32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+1+") <= "+this.buffer.byteLength)}var r,i=0,n=0;do{if(!this.noAssert&&e>this.limit){var s=Error("Truncated");throw s.truncated=!0,s}r=this.view[e++],i<5&&(n|=(127&r)<<7*i),++i}while(0!=(128&r));return n|=0,t?(this.offset=e,n):{value:n,length:i}},r.readVarint32ZigZag=function(e){var r=this.readVarint32(e);return"object"==typeof r?r.value=t.zigZagDecode32(r.value):r=t.zigZagDecode32(r),r},e&&(t.MAX_VARINT64_BYTES=10,t.calculateVarint64=function(t){"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t));var r=t.toInt()>>>0,i=t.shiftRightUnsigned(28).toInt()>>>0,n=t.shiftRightUnsigned(56).toInt()>>>0;return 0==n?0==i?r<16384?r<128?1:2:r<1<<21?3:4:i<16384?i<128?5:6:i<1<<21?7:8:n<128?9:10},t.zigZagEncode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()},t.zigZagDecode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftRightUnsigned(1).xor(t.and(e.ONE).toSigned().negate()).toSigned()},r.writeVarint64=function(r,i){var n=void 0===i;if(n&&(i=this.offset),!this.noAssert){if("number"==typeof r)r=e.fromNumber(r);else if("string"==typeof r)r=e.fromString(r);else if(!(r&&r instanceof e))throw TypeError("Illegal value: "+r+" (not an integer or Long)");if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+"+0+") <= "+this.buffer.byteLength)}"number"==typeof r?r=e.fromNumber(r,!1):"string"==typeof r?r=e.fromString(r,!1):!1!==r.unsigned&&(r=r.toSigned());var s=t.calculateVarint64(r),o=r.toInt()>>>0,a=r.shiftRightUnsigned(28).toInt()>>>0,u=r.shiftRightUnsigned(56).toInt()>>>0;i+=s;var c=this.buffer.byteLength;switch(i>c&&this.resize((c*=2)>i?c:i),i-=s,s){case 10:this.view[i+9]=u>>>7&1;case 9:this.view[i+8]=9!==s?128|u:127&u;case 8:this.view[i+7]=8!==s?a>>>21|128:a>>>21&127;case 7:this.view[i+6]=7!==s?a>>>14|128:a>>>14&127;case 6:this.view[i+5]=6!==s?a>>>7|128:a>>>7&127;case 5:this.view[i+4]=5!==s?128|a:127&a;case 4:this.view[i+3]=4!==s?o>>>21|128:o>>>21&127;case 3:this.view[i+2]=3!==s?o>>>14|128:o>>>14&127;case 2:this.view[i+1]=2!==s?o>>>7|128:o>>>7&127;case 1:this.view[i]=1!==s?128|o:127&o}return n?(this.offset+=s,this):s},r.writeVarint64ZigZag=function(e,r){return this.writeVarint64(t.zigZagEncode64(e),r)},r.readVarint64=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+1+") <= "+this.buffer.byteLength)}var i=t,n=0,s=0,o=0,a=0;if(n=127&(a=this.view[t++]),128&a&&(n|=(127&(a=this.view[t++]))<<7,(128&a||this.noAssert&&void 0===a)&&(n|=(127&(a=this.view[t++]))<<14,(128&a||this.noAssert&&void 0===a)&&(n|=(127&(a=this.view[t++]))<<21,(128&a||this.noAssert&&void 0===a)&&(s=127&(a=this.view[t++]),(128&a||this.noAssert&&void 0===a)&&(s|=(127&(a=this.view[t++]))<<7,(128&a||this.noAssert&&void 0===a)&&(s|=(127&(a=this.view[t++]))<<14,(128&a||this.noAssert&&void 0===a)&&(s|=(127&(a=this.view[t++]))<<21,(128&a||this.noAssert&&void 0===a)&&(o=127&(a=this.view[t++]),(128&a||this.noAssert&&void 0===a)&&(o|=(127&(a=this.view[t++]))<<7,128&a||this.noAssert&&void 0===a))))))))))throw Error("Buffer overrun");var u=e.fromBits(n|s<<28,s>>>4|o<<24,!1);return r?(this.offset=t,u):{value:u,length:t-i}},r.readVarint64ZigZag=function(r){var i=this.readVarint64(r);return i&&i.value instanceof e?i.value=t.zigZagDecode64(i.value):i=t.zigZagDecode64(i),i}),r.writeCString=function(e,t){var r=void 0===t;r&&(t=this.offset);var i,n=e.length;if(!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");for(i=0;i<n;++i)if(0===e.charCodeAt(i))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+0+") <= "+this.buffer.byteLength)}n=h.calculateUTF16asUTF8(s(e))[1],t+=n+1;var o=this.buffer.byteLength;return t>o&&this.resize((o*=2)>t?o:t),t-=n+1,h.encodeUTF16toUTF8(s(e),function(e){this.view[t++]=e}.bind(this)),this.view[t++]=0,r?(this.offset=t,this):n},r.readCString=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+1+") <= "+this.buffer.byteLength)}var r,i=e,n=-1;return h.decodeUTF8toUTF16(function(){if(0===n)return null;if(e>=this.limit)throw RangeError("Illegal range: Truncated data, "+e+" < "+this.limit);return 0===(n=this.view[e++])?null:n}.bind(this),r=o(),!0),t?(this.offset=e,r()):{string:r(),length:e-i}},r.writeIString=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+0+") <= "+this.buffer.byteLength)}var i,n=t;i=h.calculateUTF16asUTF8(s(e),this.noAssert)[1],t+=4+i;var o=this.buffer.byteLength;if(t>o&&this.resize((o*=2)>t?o:t),t-=4+i,this.littleEndian?(this.view[t+3]=i>>>24&255,this.view[t+2]=i>>>16&255,this.view[t+1]=i>>>8&255,this.view[t]=255&i):(this.view[t]=i>>>24&255,this.view[t+1]=i>>>16&255,this.view[t+2]=i>>>8&255,this.view[t+3]=255&i),t+=4,h.encodeUTF16toUTF8(s(e),function(e){this.view[t++]=e}.bind(this)),t!==n+4+i)throw RangeError("Illegal range: Truncated data, "+t+" == "+(t+4+i));return r?(this.offset=t,this):t-n},r.readIString=function(e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+4+") <= "+this.buffer.byteLength)}var i=e,n=this.readUint32(e),s=this.readUTF8String(n,t.METRICS_BYTES,e+=4);return e+=s.length,r?(this.offset=e,s.string):{string:s.string,length:e-i}},t.METRICS_CHARS="c",t.METRICS_BYTES="b",r.writeUTF8String=function(e,t){var r,i=void 0===t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+0+") <= "+this.buffer.byteLength)}var n=t;r=h.calculateUTF16asUTF8(s(e))[1],t+=r;var o=this.buffer.byteLength;return t>o&&this.resize((o*=2)>t?o:t),t-=r,h.encodeUTF16toUTF8(s(e),function(e){this.view[t++]=e}.bind(this)),i?(this.offset=t,this):t-n},r.writeString=r.writeUTF8String,t.calculateUTF8Chars=function(e){return h.calculateUTF16asUTF8(s(e))[0]},t.calculateUTF8Bytes=function(e){return h.calculateUTF16asUTF8(s(e))[1]},t.calculateString=t.calculateUTF8Bytes,r.readUTF8String=function(e,r,i){"number"==typeof r&&(i=r,r=undefined);var n=void 0===i;if(n&&(i=this.offset),void 0===r&&(r=t.METRICS_CHARS),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");if(e|=0,"number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+"+0+") <= "+this.buffer.byteLength)}var s,a=0,u=i;if(r===t.METRICS_CHARS){if(s=o(),h.decodeUTF8(function(){return a<e&&i<this.limit?this.view[i++]:null}.bind(this),(function(e){++a,h.UTF8toUTF16(e,s)})),a!==e)throw RangeError("Illegal range: Truncated data, "+a+" == "+e);return n?(this.offset=i,s()):{string:s(),length:i-u}}if(r===t.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+"+e+") <= "+this.buffer.byteLength)}var c=i+e;if(h.decodeUTF8toUTF16(function(){return i<c?this.view[i++]:null}.bind(this),s=o(),this.noAssert),i!==c)throw RangeError("Illegal range: Truncated data, "+i+" == "+c);return n?(this.offset=i,s()):{string:s(),length:i-u}}throw TypeError("Unsupported metrics: "+r)},r.readString=r.readUTF8String,r.writeVString=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+"+0+") <= "+this.buffer.byteLength)}var n,o,a=r;n=h.calculateUTF16asUTF8(s(e),this.noAssert)[1],o=t.calculateVarint32(n),r+=o+n;var u=this.buffer.byteLength;if(r>u&&this.resize((u*=2)>r?u:r),r-=o+n,r+=this.writeVarint32(n,r),h.encodeUTF16toUTF8(s(e),function(e){this.view[r++]=e}.bind(this)),r!==a+n+o)throw RangeError("Illegal range: Truncated data, "+r+" == "+(r+n+o));return i?(this.offset=r,this):r-a},r.readVString=function(e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+1+") <= "+this.buffer.byteLength)}var i=e,n=this.readVarint32(e),s=this.readUTF8String(n.value,t.METRICS_BYTES,e+=n.length);return e+=s.length,r?(this.offset=e,s.string):{string:s.string,length:e-i}},r.append=function(e,r,i){"number"!=typeof r&&"string"==typeof r||(i=r,r=undefined);var n=void 0===i;if(n&&(i=this.offset),!this.noAssert){if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+"+0+") <= "+this.buffer.byteLength)}e instanceof t||(e=t.wrap(e,r));var s=e.limit-e.offset;if(s<=0)return this;i+=s;var o=this.buffer.byteLength;return i>o&&this.resize((o*=2)>i?o:i),i-=s,this.view.set(e.view.subarray(e.offset,e.limit),i),e.offset+=s,n&&(this.offset+=s),this},r.appendTo=function(e,t){return e.append(this,t),this},r.assert=function(e){return this.noAssert=!e,this},r.capacity=function(){return this.buffer.byteLength},r.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},r.clone=function(e){var r=new t(0,this.littleEndian,this.noAssert);return e?(r.buffer=new ArrayBuffer(this.buffer.byteLength),r.view=new Uint8Array(r.buffer)):(r.buffer=this.buffer,r.view=this.view),r.offset=this.offset,r.markedOffset=this.markedOffset,r.limit=this.limit,r},r.compact=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(0===e&&t===this.buffer.byteLength)return this;var r=t-e;if(0===r)return this.buffer=i,this.view=null,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=0,this;var n=new ArrayBuffer(r),s=new Uint8Array(n);return s.set(this.view.subarray(e,t)),this.buffer=n,this.view=s,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=r,this},r.copy=function(e,r){if(void 0===e&&(e=this.offset),void 0===r&&(r=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,e<0||e>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+r+" <= "+this.buffer.byteLength)}if(e===r)return new t(0,this.littleEndian,this.noAssert);var i=r-e,n=new t(i,this.littleEndian,this.noAssert);return n.offset=0,n.limit=i,n.markedOffset>=0&&(n.markedOffset-=e),this.copyTo(n,0,e,r),n},r.copyTo=function(e,r,i,n){var s,o;if(!this.noAssert&&!t.isByteBuffer(e))throw TypeError("Illegal target: Not a ByteBuffer");if(r=(o=void 0===r)?e.offset:0|r,i=(s=void 0===i)?this.offset:0|i,n=void 0===n?this.limit:0|n,r<0||r>e.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+r+" <= "+e.buffer.byteLength);if(i<0||n>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+i+" <= "+this.buffer.byteLength);var a=n-i;return 0===a?e:(e.ensureCapacity(r+a),e.view.set(this.view.subarray(i,n),r),s&&(this.offset+=a),o&&(e.offset+=a),this)},r.ensureCapacity=function(e){var t=this.buffer.byteLength;return t<e?this.resize((t*=2)>e?t:e):this},r.fill=function(e,t,r){var i=void 0===t;if(i&&(t=this.offset),"string"==typeof e&&e.length>0&&(e=e.charCodeAt(0)),void 0===t&&(t=this.offset),void 0===r&&(r=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,t<0||t>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}if(t>=r)return this;for(;t<r;)this.view[t++]=e;return i&&(this.offset=t),this},r.flip=function(){return this.limit=this.offset,this.offset=0,this},r.mark=function(e){if(e=void 0===e?this.offset:e,!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+0+") <= "+this.buffer.byteLength)}return this.markedOffset=e,this},r.order=function(e){if(!this.noAssert&&"boolean"!=typeof e)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!e,this},r.LE=function(e){return this.littleEndian=void 0===e||!!e,this},r.BE=function(e){return this.littleEndian=void 0!==e&&!e,this},r.prepend=function(e,r,i){"number"!=typeof r&&"string"==typeof r||(i=r,r=undefined);var n=void 0===i;if(n&&(i=this.offset),!this.noAssert){if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+"+0+") <= "+this.buffer.byteLength)}e instanceof t||(e=t.wrap(e,r));var s=e.limit-e.offset;if(s<=0)return this;var o=s-i;if(o>0){var a=new ArrayBuffer(this.buffer.byteLength+o),u=new Uint8Array(a);u.set(this.view.subarray(i,this.buffer.byteLength),s),this.buffer=a,this.view=u,this.offset+=o,this.markedOffset>=0&&(this.markedOffset+=o),this.limit+=o,i+=o}else new Uint8Array(this.buffer);return this.view.set(e.view.subarray(e.offset,e.limit),i-s),e.offset=e.limit,n&&(this.offset-=s),this},r.prependTo=function(e,t){return e.prepend(this,t),this},r.printDebug=function(e){"function"!=typeof e&&(e=console.log.bind(console)),e(this.toString()+"\n"+"-------------------------------------------------------------------\n"+this.toDebug(!0))},r.remaining=function(){return this.limit-this.offset},r.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},r.resize=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal capacity: "+e+" (not an integer)");if((e|=0)<0)throw RangeError("Illegal capacity: 0 <= "+e)}if(this.buffer.byteLength<e){var t=new ArrayBuffer(e),r=new Uint8Array(t);r.set(this.view),this.buffer=t,this.view=r}return this},r.reverse=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}return e===t||Array.prototype.reverse.call(this.view.subarray(e,t)),this},r.skip=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0}var t=this.offset+e;if(!this.noAssert&&(t<0||t>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+e+" <= "+this.buffer.byteLength);return this.offset=t,this},r.slice=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var r=this.clone();return r.offset=e,r.limit=t,r},r.toBuffer=function(e){var t=this.offset,r=this.limit;if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal limit: Not an integer");if(r>>>=0,t<0||t>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}if(!e&&0===t&&r===this.buffer.byteLength)return this.buffer;if(t===r)return i;var n=new ArrayBuffer(r-t);return new Uint8Array(n).set(new Uint8Array(this.buffer).subarray(t,r),0),n},r.toArrayBuffer=r.toBuffer,r.toString=function(e,t,r){if(void 0===e)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof e&&(r=t=e="utf8"),e){case"utf8":return this.toUTF8(t,r);case"base64":return this.toBase64(t,r);case"hex":return this.toHex(t,r);case"binary":return this.toBinary(t,r);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+e)}};var c=function(){for(var e={},t=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],r=[],i=0,n=t.length;i<n;++i)r[t[i]]=i;return e.encode=function(e,r){for(var i,n;null!==(i=e());)r(t[i>>2&63]),n=(3&i)<<4,null!==(i=e())?(r(t[63&((n|=i>>4&15)|i>>4&15)]),n=(15&i)<<2,null!==(i=e())?(r(t[63&(n|i>>6&3)]),r(t[63&i])):(r(t[63&n]),r(61))):(r(t[63&n]),r(61),r(61))},e.decode=function(e,t){var i,n,s;function o(e){throw Error("Illegal character code: "+e)}for(;null!==(i=e());)if(void 0===(n=r[i])&&o(i),null!==(i=e())&&(void 0===(s=r[i])&&o(i),t(n<<2>>>0|(48&s)>>4),null!==(i=e()))){if(void 0===(n=r[i])){if(61===i)break;o(i)}if(t((15&s)<<4>>>0|(60&n)>>2),null!==(i=e())){if(void 0===(s=r[i])){if(61===i)break;o(i)}t((3&n)<<6>>>0|s)}}},e.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)},e}();r.toBase64=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),t|=0,(e|=0)<0||t>this.capacity||e>t)throw RangeError("begin, end");var r;return c.encode(function(){return e<t?this.view[e++]:null}.bind(this),r=o()),r()},t.fromBase64=function(e,r){if("string"!=typeof e)throw TypeError("str");var i=new t(e.length/4*3,r),n=0;return c.decode(s(e),(function(e){i.view[n++]=e})),i.limit=n,i},t.btoa=function(e){return t.fromBinary(e).toBase64()},t.atob=function(e){return t.fromBase64(e).toBinary()},r.toBinary=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),t|=0,(e|=0)<0||t>this.capacity()||e>t)throw RangeError("begin, end");if(e===t)return"";for(var r=[],i=[];e<t;)r.push(this.view[e++]),r.length>=1024&&(i.push(String.fromCharCode.apply(String,r)),r=[]);return i.join("")+String.fromCharCode.apply(String,r)},t.fromBinary=function(e,r){if("string"!=typeof e)throw TypeError("str");for(var i,n=0,s=e.length,o=new t(s,r);n<s;){if((i=e.charCodeAt(n))>255)throw RangeError("illegal char code: "+i);o.view[n++]=i}return o.limit=s,o},r.toDebug=function(e){for(var t,r=-1,i=this.buffer.byteLength,n="",s="",o="";r<i;){if(-1!==r&&(n+=(t=this.view[r])<16?"0"+t.toString(16).toUpperCase():t.toString(16).toUpperCase(),e&&(s+=t>32&&t<127?String.fromCharCode(t):".")),++r,e&&r>0&&r%16==0&&r!==i){for(;n.length<51;)n+=" ";o+=n+s+"\n",n=s=""}r===this.offset&&r===this.limit?n+=r===this.markedOffset?"!":"|":r===this.offset?n+=r===this.markedOffset?"[":"<":r===this.limit?n+=r===this.markedOffset?"]":">":n+=r===this.markedOffset?"'":e||0!==r&&r!==i?" ":""}if(e&&" "!==n){for(;n.length<51;)n+=" ";o+=n+s+"\n"}return e?o:n},t.fromDebug=function(e,r,i){for(var n,s,o=e.length,a=new t((o+1)/3|0,r,i),u=0,c=0,h=!1,l=!1,f=!1,d=!1,p=!1;u<o;){switch(n=e.charAt(u++)){case"!":if(!i){if(l||f||d){p=!0;break}l=f=d=!0}a.offset=a.markedOffset=a.limit=c,h=!1;break;case"|":if(!i){if(l||d){p=!0;break}l=d=!0}a.offset=a.limit=c,h=!1;break;case"[":if(!i){if(l||f){p=!0;break}l=f=!0}a.offset=a.markedOffset=c,h=!1;break;case"<":if(!i){if(l){p=!0;break}l=!0}a.offset=c,h=!1;break;case"]":if(!i){if(d||f){p=!0;break}d=f=!0}a.limit=a.markedOffset=c,h=!1;break;case">":if(!i){if(d){p=!0;break}d=!0}a.limit=c,h=!1;break;case"'":if(!i){if(f){p=!0;break}f=!0}a.markedOffset=c,h=!1;break;case" ":h=!1;break;default:if(!i&&h){p=!0;break}if(s=parseInt(n+e.charAt(u++),16),!i&&(isNaN(s)||s<0||s>255))throw TypeError("Illegal str: Not a debug encoded string");a.view[c++]=s,h=!0}if(p)throw TypeError("Illegal str: Invalid symbol at "+u)}if(!i){if(!l||!d)throw TypeError("Illegal str: Missing offset or limit");if(c<a.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+c+" < "+o)}return a},r.toHex=function(e,t){if(e=void 0===e?this.offset:e,t=void 0===t?this.limit:t,!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}for(var r,i=new Array(t-e);e<t;)(r=this.view[e++])<16?i.push("0",r.toString(16)):i.push(r.toString(16));return i.join("")},t.fromHex=function(e,r,i){if(!i){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var n,s=e.length,o=new t(s/2|0,r),a=0,u=0;a<s;a+=2){if(n=parseInt(e.substring(a,a+2),16),!i&&(!isFinite(n)||n<0||n>255))throw TypeError("Illegal str: Contains non-hex characters");o.view[u++]=n}return o.limit=u,o};var h=function(){var e={MAX_CODEPOINT:1114111,encodeUTF8:function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<128?t(127&r):r<2048?(t(r>>6&31|192),t(63&r|128)):r<65536?(t(r>>12&15|224),t(r>>6&63|128),t(63&r|128)):(t(r>>18&7|240),t(r>>12&63|128),t(r>>6&63|128),t(63&r|128)),r=null},decodeUTF8:function(e,t){for(var r,i,n,s,o=function(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());throw t.name="TruncatedError",t.bytes=e,t};null!==(r=e());)if(0==(128&r))t(r);else if(192==(224&r))null===(i=e())&&o([r,i]),t((31&r)<<6|63&i);else if(224==(240&r))(null===(i=e())||null===(n=e()))&&o([r,i,n]),t((15&r)<<12|(63&i)<<6|63&n);else{if(240!=(248&r))throw RangeError("Illegal starting byte: "+r);(null===(i=e())||null===(n=e())||null===(s=e()))&&o([r,i,n,s]),t((7&r)<<18|(63&i)<<12|(63&n)<<6|63&s)}},UTF16toUTF8:function(e,t){for(var r,i=null;null!==(r=null!==i?i:e());)r>=55296&&r<=57343&&null!==(i=e())&&i>=56320&&i<=57343?(t(1024*(r-55296)+i-56320+65536),i=null):t(r);null!==i&&t(i)},UTF8toUTF16:function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<=65535?t(r):(t(55296+((r-=65536)>>10)),t(r%1024+56320)),r=null},encodeUTF16toUTF8:function(t,r){e.UTF16toUTF8(t,(function(t){e.encodeUTF8(t,r)}))},decodeUTF8toUTF16:function(t,r){e.decodeUTF8(t,(function(t){e.UTF8toUTF16(t,r)}))},calculateCodePoint:function(e){return e<128?1:e<2048?2:e<65536?3:4},calculateUTF8:function(e){for(var t,r=0;null!==(t=e());)r+=t<128?1:t<2048?2:t<65536?3:4;return r},calculateUTF16asUTF8:function(t){var r=0,i=0;return e.UTF16toUTF8(t,(function(e){++r,i+=e<128?1:e<2048?2:e<65536?3:4})),[r,i]}};return e}();return r.toUTF8=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var r;try{h.decodeUTF8toUTF16(function(){return e<t?this.view[e++]:null}.bind(this),r=o())}catch(r){if(e!==t)throw RangeError("Illegal range: Truncated data, "+e+" != "+t)}return r()},t.fromUTF8=function(e,r,i){if(!i&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");var n=new t(h.calculateUTF16asUTF8(s(e),!0)[1],r,i),o=0;return h.encodeUTF16toUTF8(s(e),(function(e){n.view[o++]=e})),n.limit=o,n},t}))}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport>bytebuffer",file:"node_modules/bytebuffer/dist/bytebuffer.js"}],[2441,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){
/**
 * @license long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/long.js for details
 */
!function(r,i){"function"==typeof define&&define.amd?define([],i):"function"==typeof e&&"object"==typeof t&&t&&t.exports?t.exports=i():(r.dcodeIO=r.dcodeIO||{}).Long=i()}(this,(function(){function e(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function t(e){return!0===(e&&e.__isLong__)}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),e.isLong=t;var r={},i={};function n(e,t){var n,s,a;return t?(a=0<=(e>>>=0)&&e<256)&&(s=i[e])?s:(n=o(e,(0|e)<0?-1:0,!0),a&&(i[e]=n),n):(a=-128<=(e|=0)&&e<128)&&(s=r[e])?s:(n=o(e,e<0?-1:0,!1),a&&(r[e]=n),n)}function s(e,t){if(isNaN(e)||!isFinite(e))return t?g:p;if(t){if(e<0)return g;if(e>=l)return v}else{if(e<=-f)return _;if(e+1>=f)return w}return e<0?s(-e,t).neg():o(e%h|0,e/h|0,t)}function o(t,r,i){return new e(t,r,i)}e.fromInt=n,e.fromNumber=s,e.fromBits=o;var a=Math.pow;function u(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return p;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var i;if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return u(e.substring(1),t,r).neg();for(var n=s(a(r,8)),o=p,c=0;c<e.length;c+=8){var h=Math.min(8,e.length-c),l=parseInt(e.substring(c,c+h),r);if(h<8){var f=s(a(r,h));o=o.mul(f).add(s(l))}else o=(o=o.mul(n)).add(s(l))}return o.unsigned=t,o}function c(t){return t instanceof e?t:"number"==typeof t?s(t):"string"==typeof t?u(t):o(t.low,t.high,t.unsigned)}e.fromString=u,e.fromValue=c;var h=4294967296,l=h*h,f=l/2,d=n(1<<24),p=n(0);e.ZERO=p;var g=n(0,!0);e.UZERO=g;var y=n(1);e.ONE=y;var m=n(1,!0);e.UONE=m;var b=n(-1);e.NEG_ONE=b;var w=o(-1,2147483647,!1);e.MAX_VALUE=w;var v=o(-1,-1,!0);e.MAX_UNSIGNED_VALUE=v;var _=o(0,-2147483648,!1);e.MIN_VALUE=_;var T=e.prototype;return T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},T.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(_)){var t=s(e),r=this.div(t),i=r.mul(t).sub(this);return r.toString(e)+i.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var n=s(a(e,6),this.unsigned),o=this,u="";;){var c=o.div(n),h=(o.sub(c.mul(n)).toInt()>>>0).toString(e);if((o=c).isZero())return h+u;for(;h.length<6;)h="0"+h;u=""+h+u}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(_)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},T.isZero=function(){return 0===this.high&&0===this.low},T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return 1==(1&this.low)},T.isEven=function(){return 0==(1&this.low)},T.equals=function(e){return t(e)||(e=c(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},T.eq=T.equals,T.notEquals=function(e){return!this.eq(e)},T.neq=T.notEquals,T.lessThan=function(e){return this.comp(e)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(e){return this.comp(e)<=0},T.lte=T.lessThanOrEqual,T.greaterThan=function(e){return this.comp(e)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(e){return this.comp(e)>=0},T.gte=T.greaterThanOrEqual,T.compare=function(e){if(t(e)||(e=c(e)),this.eq(e))return 0;var r=this.isNegative(),i=e.isNegative();return r&&!i?-1:!r&&i?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(_)?_:this.not().add(y)},T.neg=T.negate,T.add=function(e){t(e)||(e=c(e));var r=this.high>>>16,i=65535&this.high,n=this.low>>>16,s=65535&this.low,a=e.high>>>16,u=65535&e.high,h=e.low>>>16,l=0,f=0,d=0,p=0;return d+=(p+=s+(65535&e.low))>>>16,f+=(d+=n+h)>>>16,l+=(f+=i+u)>>>16,l+=r+a,o((d&=65535)<<16|(p&=65535),(l&=65535)<<16|(f&=65535),this.unsigned)},T.subtract=function(e){return t(e)||(e=c(e)),this.add(e.neg())},T.sub=T.subtract,T.multiply=function(e){if(this.isZero())return p;if(t(e)||(e=c(e)),e.isZero())return p;if(this.eq(_))return e.isOdd()?_:p;if(e.eq(_))return this.isOdd()?_:p;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(d)&&e.lt(d))return s(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,i=65535&this.high,n=this.low>>>16,a=65535&this.low,u=e.high>>>16,h=65535&e.high,l=e.low>>>16,f=65535&e.low,g=0,y=0,m=0,b=0;return m+=(b+=a*f)>>>16,y+=(m+=n*f)>>>16,m&=65535,y+=(m+=a*l)>>>16,g+=(y+=i*f)>>>16,y&=65535,g+=(y+=n*l)>>>16,y&=65535,g+=(y+=a*h)>>>16,g+=r*f+i*l+n*h+a*u,o((m&=65535)<<16|(b&=65535),(g&=65535)<<16|(y&=65535),this.unsigned)},T.mul=T.multiply,T.divide=function(e){if(t(e)||(e=c(e)),e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?g:p;var r,i,n;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return m;n=g}else{if(this.eq(_))return e.eq(y)||e.eq(b)?_:e.eq(_)?y:(r=this.shr(1).div(e).shl(1)).eq(p)?e.isNegative()?y:b:(i=this.sub(e.mul(r)),n=r.add(i.div(e)));if(e.eq(_))return this.unsigned?g:p;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();n=p}for(i=this;i.gte(e);){r=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(r)/Math.LN2),u=o<=48?1:a(2,o-48),h=s(r),l=h.mul(e);l.isNegative()||l.gt(i);)l=(h=s(r-=u,this.unsigned)).mul(e);h.isZero()&&(h=y),n=n.add(h),i=i.sub(l)}return n},T.div=T.divide,T.modulo=function(e){return t(e)||(e=c(e)),this.sub(this.div(e).mul(e))},T.mod=T.modulo,T.not=function(){return o(~this.low,~this.high,this.unsigned)},T.and=function(e){return t(e)||(e=c(e)),o(this.low&e.low,this.high&e.high,this.unsigned)},T.or=function(e){return t(e)||(e=c(e)),o(this.low|e.low,this.high|e.high,this.unsigned)},T.xor=function(e){return t(e)||(e=c(e)),o(this.low^e.low,this.high^e.high,this.unsigned)},T.shiftLeft=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?o(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):o(0,this.low<<e-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?o(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):o(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(e){if(t(e)&&(e=e.toInt()),0===(e&=63))return this;var r=this.high;return e<32?o(this.low>>>e|r<<32-e,r>>>e,this.unsigned):o(32===e?r:r>>>e-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?o(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:o(this.low,this.high,!0)},T.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24&255,255&e,e>>>8&255,e>>>16&255,e>>>24&255]},T.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t]},e}))}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport>bytebuffer>long",file:"node_modules/bytebuffer/node_modules/long/dist/long.js"}],[2445,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){
/*! Case - v1.6.2 - 2020-03-24
* Copyright (c) 2020 Nathan Bubna; Licensed MIT, GPL */
(function(){var e=function(e,t){return t=t||"",e.replace(/(^|-)/g,"$1\\u"+t).replace(/,/g,"\\u"+t)},r=e("20-26,28-2F,3A-40,5B-60,7B-7E,A0-BF,D7,F7","00"),i="a-z"+e("DF-F6,F8-FF","00"),n="A-Z"+e("C0-D6,D8-DE","00"),s=function(e,t,s,o){return e=e||r,t=t||i,s=s||n,o=o||"A|An|And|As|At|But|By|En|For|If|In|Of|On|Or|The|To|Vs?\\.?|Via",{capitalize:new RegExp("(^|["+e+"])(["+t+"])","g"),pascal:new RegExp("(^|["+e+"])+(["+t+s+"])","g"),fill:new RegExp("["+e+"]+(.|$)","g"),sentence:new RegExp('(^\\s*|[\\?\\!\\.]+"?\\s+"?|,\\s+")(['+t+"])","g"),improper:new RegExp("\\b("+o+")\\b","g"),relax:new RegExp("([^"+s+"])(["+s+"]*)(["+s+"])(?=[^"+s+"]|$)","g"),upper:new RegExp("^[^"+t+"]+$"),hole:/[^\s]\s[^\s]/,apostrophe:/'/g,room:new RegExp("["+e+"]")}},o=s(),a={re:o,unicodes:e,regexps:s,types:[],up:String.prototype.toUpperCase,low:String.prototype.toLowerCase,cap:function(e){return a.up.call(e.charAt(0))+e.slice(1)},decap:function(e){return a.low.call(e.charAt(0))+e.slice(1)},deapostrophe:function(e){return e.replace(o.apostrophe,"")},fill:function(e,t,r){return null!=t&&(e=e.replace(o.fill,(function(e,r){return r?t+r:""}))),r&&(e=a.deapostrophe(e)),e},prep:function(e,t,r,i){if(e=null==e?"":e+"",!i&&o.upper.test(e)&&(e=a.low.call(e)),!t&&!o.hole.test(e)){var n=a.fill(e," ");o.hole.test(n)&&(e=n)}return r||o.room.test(e)||(e=e.replace(o.relax,a.relax)),e},relax:function(e,t,r,i){return t+" "+(r?r+" ":"")+i}},u={_:a,of:function(e){for(var t=0,r=a.types.length;t<r;t++)if(u[a.types[t]].apply(u,arguments)===e)return a.types[t]},flip:function(e){return e.replace(/\w/g,(function(e){return(e==a.up.call(e)?a.low:a.up).call(e)}))},random:function(e){return e.replace(/\w/g,(function(e){return(Math.round(Math.random())?a.up:a.low).call(e)}))},type:function(e,t){u[e]=t,a.types.push(e)}},c={lower:function(e,t,r){return a.fill(a.low.call(a.prep(e,t)),t,r)},snake:function(e){return u.lower(e,"_",!0)},constant:function(e){return u.upper(e,"_",!0)},camel:function(e){return a.decap(u.pascal(e))},kebab:function(e){return u.lower(e,"-",!0)},upper:function(e,t,r){return a.fill(a.up.call(a.prep(e,t,!1,!0)),t,r)},capital:function(e,t,r){return a.fill(a.prep(e).replace(o.capitalize,(function(e,t,r){return t+a.up.call(r)})),t,r)},header:function(e){return u.capital(e,"-",!0)},pascal:function(e){return a.fill(a.prep(e,!1,!0).replace(o.pascal,(function(e,t,r){return a.up.call(r)})),"",!0)},title:function(e){return u.capital(e).replace(o.improper,(function(e,t,r,i){return r>0&&r<i.lastIndexOf(" ")?a.low.call(e):e}))},sentence:function(e,t,r){return e=u.lower(e).replace(o.sentence,(function(e,t,r){return t+a.up.call(r)})),t&&t.forEach((function(t){e=e.replace(new RegExp("\\b"+u.lower(t)+"\\b","g"),a.cap)})),r&&r.forEach((function(t){e=e.replace(new RegExp("(\\b"+u.lower(t)+"\\. +)(\\w)"),(function(e,t,r){return t+a.low.call(r)}))})),e}};for(var h in c.squish=c.pascal,u.default=u,c)u.type(h,c[h]);var l="function"==typeof l?l:function(){};l("object"==typeof t&&t.exports?t.exports=u:this.Case=u)}).call(this)}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz>case",file:"node_modules/case/dist/Case.js"}],[245,{"../branchNodeStruct":229,"../util/named":255,"../view/containerNodeStruct":264,"../viewDU/containerNodeStruct":272,"./composite":243,"./container":244},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ContainerNodeStructType=void 0;const i=e("./composite"),n=e("./container"),s=e("../util/named"),o=e("../view/containerNodeStruct"),a=e("../viewDU/containerNodeStruct"),u=e("../branchNodeStruct");class c extends n.ContainerType{constructor(e,t){super(e,{typeName:t?.typeName??n.renderContainerTypeName(e,"ContainerNodeStruct"),...t,getContainerTreeViewClass:o.getContainerTreeViewClass,getContainerTreeViewDUClass:a.getContainerTreeViewDUClass}),this.fields=e;for(const{fieldName:e,fieldType:t}of this.fieldsEntries)if(i.isCompositeType(t)&&t.isViewMutable)throw Error(`ContainerNodeStructType field '${e}' ${t.typeName} view is mutable`)}static named(e,t){return new(s.namedClass(n.ContainerType,t.typeName))(e,t)}tree_serializedSize(e){return this.value_serializedSize(e.value)}tree_serializeToBytes(e,t,r){const{value:i}=r;return this.value_serializeToBytes(e,t,i)}tree_deserializeFromBytes(e,t,r){const i=this.value_deserializeFromBytes(e,t,r);return new u.BranchNodeStruct(this.valueToTree.bind(this),i)}getPropertyGindex(){return null}tree_fromProofNode(e){const t=new Uint8Array(super.tree_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);super.tree_serializeToBytes({uint8Array:t,dataView:r},0,e);const i=this.value_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length);return{node:new u.BranchNodeStruct(this.valueToTree.bind(this),i),done:!0}}tree_toValue(e){return e.value}value_toTree(e){return new u.BranchNodeStruct(this.valueToTree.bind(this),e)}valueToTree(e){const t=new Uint8Array(this.value_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_serializeToBytes({uint8Array:t,dataView:r},0,e),super.tree_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length)}}r.ContainerNodeStructType=c}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/containerNodeStruct.js"}],[246,{"../util/merkleize":254,"../util/named":255,"../view/listBasic":265,"../viewDU/listBasic":273,"./array":232,"./arrayBasic":233},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ListBasicType=void 0;const i=e("./arrayBasic"),n=e("../util/merkleize"),s=e("../util/named"),o=e("../view/listBasic"),a=e("../viewDU/listBasic"),u=e("./array");class c extends u.ArrayType{constructor(e,t,r){if(super(e),this.elementType=e,this.limit=t,this.fixedSize=null,this.isList=!0,this.isViewMutable=!0,this.defaultLen=0,!e.isBasic)throw Error("elementType must be basic");if(0===t)throw Error("List limit must be > 0");this.typeName=r?.typeName??`List[${e.typeName}, ${t}]`,this.itemsPerChunk=32/e.byteLength,this.maxChunkCount=Math.ceil(this.limit*e.byteLength/32),this.chunkDepth=n.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth+1,this.minSize=0,this.maxSize=this.limit*e.maxSize}static named(e,t,r){return new(s.namedClass(c,r.typeName))(e,t,r)}getView(e){return new o.ListBasicTreeView(this,e)}getViewDU(e,t){return new a.ListBasicTreeViewDU(this,e,t)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}value_serializedSize(e){return e.length*this.elementType.byteLength}value_serializeToBytes(e,t,r){return i.value_serializeToBytesArrayBasic(this.elementType,r.length,e,t,r)}value_deserializeFromBytes(e,t,r){return i.value_deserializeFromBytesArrayBasic(this.elementType,e,t,r,this)}tree_serializedSize(e){return this.tree_getLength(e)*this.elementType.byteLength}tree_serializeToBytes(e,t,r){const n=this.tree_getChunksNode(r),s=this.tree_getLength(r);return i.tree_serializeToBytesArrayBasic(this.elementType,s,this.chunkDepth,e,t,n)}tree_deserializeFromBytes(e,t,r){return i.tree_deserializeFromBytesArrayBasic(this.elementType,this.chunkDepth,e,t,r,this)}tree_getLength(e){return e.right.getUint(4,0)}tree_setLength(e,t){e.rootNode=i.addLengthNode(e.rootNode.left,t)}tree_getChunksNode(e){return e.left}tree_setChunksNode(e,t,r){return i.setChunksNode(e,t,r)}hashTreeRoot(e){return n.mixInLength(super.hashTreeRoot(e),e.length)}getRoots(e){const t=new Uint8Array(this.value_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return i.value_serializeToBytesArrayBasic(this.elementType,e.length,{uint8Array:t,dataView:r},0,e),n.splitIntoRootChunks(t)}}r.ListBasicType=c}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/listBasic.js"}],[2460,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const i=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});t.exports={names:i}}}},{package:"@ensdomains/content-hash>cids>multihashes",file:"node_modules/cids/node_modules/multihashes/src/constants.js"}],[2461,{"./constants":2460,multibase:3561,"uint8arrays/concat":3933,"uint8arrays/from-string":3935,"uint8arrays/to-string":3936,varint:3984},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const i=e("multibase"),n=e("varint"),{names:s}=e("./constants"),o=e("uint8arrays/to-string"),a=e("uint8arrays/from-string"),u=e("uint8arrays/concat"),c={};for(const e in s){const t=e;c[s[t]]=t}function h(e){if(!(e instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(e.length<2)throw new Error("multihash too short. must be > 2 bytes.");const t=n.decode(e);if(!d(t))throw new Error(`multihash unknown function code: 0x${t.toString(16)}`);e=e.slice(n.decode.bytes);const r=n.decode(e);if(r<0)throw new Error(`multihash invalid length: ${r}`);if((e=e.slice(n.decode.bytes)).length!==r)throw new Error(`multihash length inconsistent: 0x${o(e,"base16")}`);return{code:t,name:c[t],length:r,digest:e}}function l(e){let t=e;if("string"==typeof e){if(s[e]===undefined)throw new Error(`Unrecognized hash function named: ${e}`);t=s[e]}if("number"!=typeof t)throw new Error(`Hash function code should be a number. Got: ${t}`);if(c[t]===undefined&&!f(t))throw new Error(`Unrecognized function code: ${t}`);return t}function f(e){return e>0&&e<16}function d(e){return!!f(e)||!!c[e]}function p(e){h(e)}Object.freeze(c),t.exports={names:s,codes:c,toHexString:function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return o(e,"base16")},fromHexString:function(e){return a(e,"base16")},toB58String:function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return o(i.encode("base58btc",e)).slice(1)},fromB58String:function(e){const t=e instanceof Uint8Array?o(e):e;return i.decode("z"+t)},decode:h,encode:function(e,t,r){if(!e||t===undefined)throw new Error("multihash encode requires at least two args: digest, code");const i=l(t);if(!(e instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(null==r&&(r=e.length),r&&e.length!==r)throw new Error("digest length should be equal to specified length.");const s=n.encode(i),o=n.encode(r);return u([s,o,e],s.length+o.length+e.length)},coerceCode:l,isAppCode:f,validate:p,prefix:function(e){return p(e),e.subarray(0,2)},isValidCode:d}}}},{package:"@ensdomains/content-hash>cids>multihashes",file:"node_modules/cids/node_modules/multihashes/src/index.js"}],[2462,{multihashes:2461},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const i=e("multihashes"),n={checkCIDComponents:function(e){if(null==e)return"null values are not valid CIDs";if(0!==e.version&&1!==e.version)return"Invalid version, must be a number equal to 1 or 0";if("string"!=typeof e.codec)return"codec must be string";if(0===e.version){if("dag-pb"!==e.codec)return"codec must be 'dag-pb' for CIDv0";if("base58btc"!==e.multibaseName)return"multibaseName must be 'base58btc' for CIDv0"}if(!(e.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{i.validate(e.multihash)}catch(e){let t=e.message;return t||(t="Multihash validation failed"),t}}};t.exports=n}}},{package:"@ensdomains/content-hash>cids",file:"node_modules/cids/src/cid-util.js"}],[2463,{"./cid-util":2462,multibase:3561,multicodec:3569,multihashes:2461,"uint8arrays/concat":3933,"uint8arrays/equals":3934,"uint8arrays/to-string":3936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const i=e("multihashes"),n=e("multibase"),s=e("multicodec"),o=e("./cid-util"),a=e("uint8arrays/concat"),u=e("uint8arrays/to-string"),c=e("uint8arrays/equals"),h=s.nameToCode,l=Object.keys(h).reduce(((e,t)=>(e[h[t]]=t,e)),{}),f=Symbol.for("@ipld/js-cid/CID");class d{constructor(e,t,r,o){if(this.version,this.codec,this.multihash,Object.defineProperty(this,f,{value:!0}),d.isCID(e)){const t=e;return this.version=t.version,this.codec=t.codec,this.multihash=t.multihash,void(this.multibaseName=t.multibaseName||(0===t.version?"base58btc":"base32"))}if("string"==typeof e){const t=n.isEncoded(e);if(t){const r=n.decode(e);this.version=parseInt(r[0].toString(),16),this.codec=s.getCodec(r.slice(1)),this.multihash=s.rmPrefix(r.slice(1)),this.multibaseName=t}else this.version=0,this.codec="dag-pb",this.multihash=i.fromB58String(e),this.multibaseName="base58btc";return d.validateCID(this),void Object.defineProperty(this,"string",{value:e})}if(e instanceof Uint8Array){const t=parseInt(e[0].toString(),16);if(1===t){const r=e;this.version=t,this.codec=s.getCodec(r.slice(1)),this.multihash=s.rmPrefix(r.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=e,this.multibaseName="base58btc";d.validateCID(this)}else this.version=e,"number"==typeof t&&(t=l[t]),this.codec=t,this.multihash=r,this.multibaseName=o||(0===e?"base58btc":"base32"),d.validateCID(this)}get bytes(){let e=this._bytes;if(!e){if(0===this.version)e=this.multihash;else{if(1!==this.version)throw new Error("unsupported version");{const t=s.getCodeVarint(this.codec);e=a([[1],t,this.multihash],1+t.byteLength+this.multihash.byteLength)}}Object.defineProperty(this,"_bytes",{value:e})}return e}get prefix(){const e=s.getCodeVarint(this.codec),t=i.prefix(this.multihash);return a([[this.version],e,t],1+e.byteLength+t.byteLength)}get code(){return h[this.codec]}toV0(){if("dag-pb"!==this.codec)throw new Error("Cannot convert a non dag-pb CID to CIDv0");const{name:e,length:t}=i.decode(this.multihash);if("sha2-256"!==e)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(32!==t)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new d(0,this.codec,this.multihash)}toV1(){return new d(1,this.codec,this.multihash,this.multibaseName)}toBaseEncodedString(e=this.multibaseName){if(this.string&&0!==this.string.length&&e===this.multibaseName)return this.string;let t;if(0===this.version){if("base58btc"!==e)throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");t=i.toB58String(this.multihash)}else{if(1!==this.version)throw new Error("unsupported version");t=u(n.encode(e,this.bytes))}return e===this.multibaseName&&Object.defineProperty(this,"string",{value:t}),t}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(e){return this.toBaseEncodedString(e)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(e){return this.codec===e.codec&&this.version===e.version&&c(this.multihash,e.multihash)}static validateCID(e){const t=o.checkCIDComponents(e);if(t)throw new Error(t)}static isCID(e){return e instanceof d||Boolean(e&&e[f])}}d.codecs=h,t.exports=d}}},{package:"@ensdomains/content-hash>cids",file:"node_modules/cids/src/index.js"}],[2469,{bs58:2470,buffer:2426,"create-hash":2627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){var i=e("bs58"),n=e("create-hash");function s(e,t){var n;(Array.isArray(e)||e instanceof Uint8Array)&&(e=new r(e)),null!=t?("number"==typeof t&&(t=new r([t])),n=r.concat([t,e])):n=e;var s=u(n).slice(0,4),o=r.concat([n,s]);return i.encode(o)}function o(e,t){var n,s=i.decode(e),o=new r(s);if(null==t)n=0;else if("number"==typeof t&&(t=new r([t])),n=t.length,o.slice(0,n).toString("hex")!==t.toString("hex"))throw new Error("Invalid version");var a=o.slice(-4),c=o.length-4,h=o.slice(0,c),l=u(h).slice(0,4);if(a.toString("hex")!==l.toString("hex"))throw new Error("Invalid checksum");return h.slice(n)}function a(e,t){try{o(e,t)}catch(e){return!1}return!0}function u(e){var t=n("sha256").update(e).digest();return n("sha256").update(t).digest()}t.exports={encode:s,decode:o,isValid:a,createEncoder:function(e){return function(t){return s(t,e)}},createDecoder:function(e){return function(t){return o(t,e)}},createValidator:function(e){return function(t){return a(t,e)}}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-trezor-keyring>hdkey>coinstring",file:"node_modules/coinstring/lib/coinstring.js"}],[247,{"../util/merkleize":254,"../util/named":255,"../view/listComposite":266,"../viewDU/listComposite":274,"./array":232,"./arrayBasic":233,"./arrayComposite":234},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ListCompositeType=void 0;const i=e("../util/merkleize"),n=e("../util/named"),s=e("./arrayBasic"),o=e("./arrayComposite"),a=e("../view/listComposite"),u=e("../viewDU/listComposite"),c=e("./array");class h extends c.ArrayType{constructor(e,t,r){if(super(e),this.elementType=e,this.limit=t,this.itemsPerChunk=1,this.fixedSize=null,this.isList=!0,this.isViewMutable=!0,this.defaultLen=0,e.isBasic)throw Error("elementType must not be basic");if(0===t)throw Error("List limit must be > 0");this.typeName=r?.typeName??`List[${e.typeName}, ${t}]`,this.maxChunkCount=this.limit,this.chunkDepth=i.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth+1,this.minSize=0,this.maxSize=o.maxSizeArrayComposite(e,this.limit)}static named(e,t,r){return new(n.namedClass(h,r.typeName))(e,t,r)}getView(e){return new a.ListCompositeTreeView(this,e)}getViewDU(e,t){return new u.ListCompositeTreeViewDU(this,e,t)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}value_serializedSize(e){return o.value_serializedSizeArrayComposite(this.elementType,e.length,e)}value_serializeToBytes(e,t,r){return o.value_serializeToBytesArrayComposite(this.elementType,r.length,e,t,r)}value_deserializeFromBytes(e,t,r){return o.value_deserializeFromBytesArrayComposite(this.elementType,e,t,r,this)}tree_serializedSize(e){const t=this.tree_getChunksNode(e),r=this.tree_getLength(e);return o.tree_serializedSizeArrayComposite(this.elementType,r,this.chunkDepth,t)}tree_serializeToBytes(e,t,r){const i=this.tree_getChunksNode(r),n=this.tree_getLength(r);return o.tree_serializeToBytesArrayComposite(this.elementType,n,this.chunkDepth,i,e,t)}tree_deserializeFromBytes(e,t,r){return o.tree_deserializeFromBytesArrayComposite(this.elementType,this.chunkDepth,e,t,r,this)}tree_getLength(e){return s.getLengthFromRootNode(e)}tree_setLength(e,t){e.rootNode=s.addLengthNode(e.rootNode.left,t)}tree_getChunksNode(e){return e.left}tree_setChunksNode(e,t,r){return s.setChunksNode(e,t,r)}hashTreeRoot(e){return i.mixInLength(super.hashTreeRoot(e),e.length)}getRoots(e){return o.value_getRootsArrayComposite(this.elementType,e.length,e)}}r.ListCompositeType=h}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/listComposite.js"}],[2470,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){for(var i="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",n={},s=0;s<58;s++)n[i.charAt(s)]=s;t.exports={encode:function(e){if(0===e.length)return"";var t,r=[0];for(o=0;o<e.length;o++){for(t=0;t<r.length;t++)r[t]<<=8;r[0]+=e[o];var n=0;for(t=0;t<r.length;++t)r[t]+=n,n=r[t]/58|0,r[t]%=58;for(;n;)r.push(n%58),n=n/58|0}for(o=0;0===e[o]&&o<e.length-1;o++)r.push(0);for(var s="",o=r.length-1;o>=0;o--)s+=i[r[o]];return s},decode:function(e){if(0===e.length)return[];var t,r,i=[0];for(t=0;t<e.length;t++){var s=e[t];if(!(s in n))throw new Error("Non-base58 character");for(r=0;r<i.length;r++)i[r]*=58;i[0]+=n[s];var o=0;for(r=0;r<i.length;++r)i[r]+=o,o=i[r]>>8,i[r]&=255;for(;o;)i.push(255&o),o>>=8}for(t=0;"1"===e[t]&&t<e.length-1;t++)i.push(0);return i.reverse()}}}}},{package:"@metamask/eth-trezor-keyring>hdkey>coinstring>bs58",file:"node_modules/coinstring/node_modules/bs58/lib/bs58.js"}],[248,{"./basic":235,"@chainsafe/persistent-merkle-tree":218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.NoneType=void 0;const i=e("@chainsafe/persistent-merkle-tree"),n=e("./basic");class s extends n.BasicType{constructor(){super(...arguments),this.typeName="none",this.byteLength=0,this.itemsPerChunk=32,this.fixedSize=0,this.minSize=0,this.maxSize=0}defaultValue(){return null}value_serializeToBytes(e,t,r){return t}value_deserializeFromBytes(e,t){return null}tree_serializeToBytes(e,t,r){return t}tree_deserializeFromBytes(e,t,r){return i.zeroNode(0)}tree_getFromNode(e){return null}tree_setToNode(e,t){}tree_getFromPackedNode(e,t){return null}tree_setToPackedNode(e,t,r){}fromJson(e){if(null!==e)throw Error("JSON invalid type none must be null");return null}toJson(e){return null}}r.NoneType=s}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/none.js"}],[249,{"../util/named":255,"./basic":235,"@chainsafe/persistent-merkle-tree":218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.UintBigintType=r.UintNumberType=r.uintBigintByteLens=r.uintNumberByteLens=void 0;const i=e("@chainsafe/persistent-merkle-tree"),n=e("../util/named"),s=e("./basic"),o=BigInt(Number.MAX_SAFE_INTEGER),a=BigInt(2)**BigInt(64),u=BigInt(2)**BigInt(128),c=BigInt(2)**BigInt(192),h=2**32,l=4294967295;r.uintNumberByteLens=[1,2,4,8],r.uintBigintByteLens=[1,2,4,8,16,32];class f extends s.BasicType{constructor(e,t){if(super(),this.byteLength=e,e>8)throw Error("UintNumber byteLength limit is 8");if(Math.log2(e)%1!=0)throw Error("byteLength must be a power of 2");this.typeName=t?.typeName??"uint"+8*e,t?.clipInfinity&&(this.typeName+="Inf"),t?.setBitwiseOR&&(this.typeName+="OR"),this.itemsPerChunk=32/this.byteLength,this.fixedSize=e,this.minSize=e,this.maxSize=e,this.maxDecimalStr=(BigInt(2)**BigInt(8*this.byteLength)-BigInt(1)).toString(10),this.clipInfinity=!0===t?.clipInfinity,this.setBitwiseOR=!0===t?.setBitwiseOR}static named(e,t){return new(n.namedClass(f,t.typeName))(e,t)}defaultValue(){return 0}value_serializeToBytes({dataView:e},t,r){switch(this.byteLength){case 1:e.setInt8(t,r);break;case 2:e.setUint16(t,r,!0);break;case 4:e.setUint32(t,r,!0);break;case 8:r===Infinity?(e.setUint32(t,4294967295),e.setUint32(t+4,4294967295)):(e.setUint32(t,4294967295&r,!0),e.setUint32(t+4,r/h&4294967295,!0))}return t+this.byteLength}value_deserializeFromBytes({dataView:e},t,r){switch(this.assertValidSize(r-t),this.byteLength){case 1:return e.getUint8(t);case 2:return e.getUint16(t,!0);case 4:return e.getUint32(t,!0);case 8:{const r=e.getUint32(t,!0),i=e.getUint32(t+4,!0);return i===l&&r===l&&this.clipInfinity?Infinity:i*h+r}}}tree_serializeToBytes(e,t,r){const i=r.getUint(this.byteLength,0,this.clipInfinity);return this.value_serializeToBytes(e,t,i),t+this.byteLength}tree_deserializeFromBytes(e,t,r){this.assertValidSize(r-t);const n=this.value_deserializeFromBytes(e,t,r),s=i.LeafNode.fromZero();return s.setUint(this.byteLength,0,n,this.clipInfinity),s}tree_getFromNode(e){return e.getUint(this.byteLength,0,this.clipInfinity)}tree_setToNode(e,t){this.tree_setToPackedNode(e,0,t)}tree_getFromPackedNode(e,t){const r=this.byteLength*(t%this.itemsPerChunk);return e.getUint(this.byteLength,r,this.clipInfinity)}tree_setToPackedNode(e,t,r){const i=this.byteLength*(t%this.itemsPerChunk);this.setBitwiseOR?e.bitwiseOrUint(this.byteLength,i,r):e.setUint(this.byteLength,i,r,this.clipInfinity)}fromJson(e){if("number"==typeof e)return e;if("string"==typeof e){if(this.clipInfinity&&e===this.maxDecimalStr)return Infinity;{const t=parseInt(e,10);if(isNaN(t))throw Error("JSON invalid number isNaN");if(t>Number.MAX_SAFE_INTEGER)throw Error("JSON invalid number > MAX_SAFE_INTEGER");return t}}if("bigint"==typeof e){if(e>o)throw Error("JSON invalid number > MAX_SAFE_INTEGER_BN");return Number(e)}throw Error(`JSON invalid type ${typeof e} expected number`)}toJson(e){return e===Infinity?this.maxDecimalStr:e.toString(10)}}r.UintNumberType=f;class d extends s.BasicType{constructor(e,t){if(super(),this.byteLength=e,e>32)throw Error("UintBigint byteLength limit is 32");if(Math.log2(e)%1!=0)throw Error("byteLength must be a power of 2");this.typeName=t?.typeName??"uintBigint"+8*e,this.byteLength=e,this.itemsPerChunk=32/this.byteLength,this.fixedSize=e,this.minSize=e,this.maxSize=e}static named(e,t){return new(n.namedClass(d,t.typeName))(e,t)}defaultValue(){return BigInt(0)}value_serializeToBytes({dataView:e},t,r){switch(this.byteLength){case 1:e.setInt8(t,Number(r));break;case 2:e.setUint16(t,Number(r),!0);break;case 4:e.setUint32(t,Number(r),!0);break;case 8:e.setBigUint64(t,r,!0);break;default:for(let i=0;i<this.byteLength;i+=8){i>0&&(r/=a);const n=BigInt.asUintN(64,r);e.setBigUint64(t+i,n,!0)}}return t+this.byteLength}value_deserializeFromBytes({dataView:e},t,r){const i=r-t;if(i!==this.byteLength)throw Error(`Invalid size ${i} expected ${this.byteLength}`);switch(this.byteLength){case 1:return BigInt(e.getUint8(t));case 2:return BigInt(e.getUint16(t,!0));case 4:return BigInt(e.getUint32(t,!0));case 8:return e.getBigUint64(t,!0);case 16:{const r=e.getBigUint64(t,!0);return e.getBigUint64(t+8,!0)*a+r}case 32:{const r=e.getBigUint64(t,!0),i=e.getBigUint64(t+8,!0),n=e.getBigUint64(t+16,!0);return e.getBigUint64(t+24,!0)*c+n*u+i*a+r}}}tree_serializeToBytes(e,t,r){const i=r.getUintBigint(this.byteLength,0);return this.value_serializeToBytes(e,t,i),t+this.byteLength}tree_deserializeFromBytes(e,t,r){const n=r-t;if(n!==this.byteLength)throw Error(`Invalid size ${n} expected ${this.byteLength}`);const s=this.value_deserializeFromBytes(e,t,r),o=i.LeafNode.fromZero();return o.setUintBigint(this.byteLength,0,s),o}tree_getFromNode(e){return e.getUintBigint(this.byteLength,0)}tree_setToNode(e,t){this.tree_setToPackedNode(e,0,t)}tree_getFromPackedNode(e,t){const r=this.byteLength*(t%this.itemsPerChunk);return e.getUintBigint(this.byteLength,r)}tree_setToPackedNode(e,t,r){const i=this.byteLength*(t%this.itemsPerChunk);e.setUintBigint(this.byteLength,i,r)}fromJson(e){if("bigint"==typeof e)return e;if("string"==typeof e||"number"==typeof e)return BigInt(e);throw Error(`JSON invalid type ${typeof e} expected bigint`)}toJson(e){return e.toString(10)}}r.UintBigintType=d}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/uint.js"}],[2490,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=Object.prototype.toString;t.exports=function(e){switch(i.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===e?"null":e===undefined?"undefined":e!=e?"nan":e&&1===e.nodeType?"element":null!=(t=e)&&(t._isBuffer||t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t))?"buffer":typeof(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e));var t}}}},{package:"@segment/loosely-validate-event>component-type",file:"node_modules/component-type/index.js"}],[25,{"../../../../shared/constants/permissions":4020,"@metamask/permission-controller":1383},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.unrestrictedMethods=r.getPermissionSpecifications=r.getCaveatSpecifications=void 0;var i=e("@metamask/permission-controller"),n=e("../../../../shared/constants/permissions");const s=Object.freeze({...n.RestrictedMethods}),o=Object.freeze({[n.CaveatTypes.restrictReturnedAccounts]:e=>({type:n.CaveatTypes.restrictReturnedAccounts,value:e})});r.getCaveatSpecifications=({getIdentities:e})=>({[n.CaveatTypes.restrictReturnedAccounts]:{type:n.CaveatTypes.restrictReturnedAccounts,decorator:(e,t)=>async r=>(await e(r)).filter((e=>t.value.includes(e))),validator:(t,r,i)=>function(e,t){if(!Array.isArray(e)||0===e.length)throw new Error(`${s.eth_accounts} error: Expected non-empty array of Ethereum addresses.`);const r=t();e.forEach((e=>{if(!e||"string"!=typeof e)throw new Error(`${s.eth_accounts} error: Expected an array of Ethereum addresses. Received: "${e}".`);if(!r[e])throw new Error(`${s.eth_accounts} error: Received unrecognized address: "${e}".`)}))}(t.value,e)}});r.getPermissionSpecifications=({getAllAccounts:e,getIdentities:t,captureKeyringTypesWithMissingIdentities:r})=>({[s.eth_accounts]:{permissionType:i.PermissionType.RestrictedMethod,targetName:s.eth_accounts,allowedCaveats:[n.CaveatTypes.restrictReturnedAccounts],factory:(e,t)=>{if(Array.isArray(e.caveats))throw new Error(`${s.eth_accounts} error: Received unexpected caveats. Any permitted caveats will be added automatically.`);if(!t.approvedAccounts)throw new Error(`${s.eth_accounts} error: No approved accounts specified.`);return(0,i.constructPermission)({...e,caveats:[o[n.CaveatTypes.restrictReturnedAccounts](t.approvedAccounts)]})},methodImplementation:async i=>{const n=await e(),s=t();return n.sort(((e,t)=>{if(!s[e])throw r(s,n),new Error(`Missing identity for address: "${e}".`);if(!s[t])throw r(s,n),new Error(`Missing identity for address: "${t}".`);return s[e].lastSelected===s[t].lastSelected?0:s[e].lastSelected===undefined?1:s[t].lastSelected===undefined?-1:s[t].lastSelected-s[e].lastSelected}))},validator:(e,t,r)=>{const{caveats:i}=e;if(!i||1!==i.length||i[0].type!==n.CaveatTypes.restrictReturnedAccounts)throw new Error(`${s.eth_accounts} error: Invalid caveats. There must be a single caveat of type "${n.CaveatTypes.restrictReturnedAccounts}".`)}}});const a=Object.freeze(["eth_blockNumber","eth_call","eth_chainId","eth_coinbase","eth_decrypt","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getEncryptionPublicKey","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleByBlockHashAndIndex","eth_getUncleByBlockNumberAndIndex","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_getWork","eth_hashrate","eth_mining","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_protocolVersion","eth_sendRawTransaction","eth_sendTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4","eth_submitHashrate","eth_submitWork","eth_syncing","eth_uninstallFilter","metamask_getProviderState","metamask_watchAsset","net_listening","net_peerCount","net_version","personal_ecRecover","personal_sign","wallet_watchAsset","web3_clientVersion","web3_sha3"]);r.unrestrictedMethods=a}}},{package:"$root$",file:"app/scripts/controllers/permissions/specifications.js"}],[250,{"../util/merkleize":254,"../util/named":255,"./arrayBasic":233,"./composite":243,"./none":248,"@chainsafe/persistent-merkle-tree":218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.UnionType=void 0;const i=e("@chainsafe/persistent-merkle-tree"),n=e("../util/merkleize"),s=e("../util/named"),o=e("./composite"),a=e("./arrayBasic"),u=e("./none"),c=BigInt(2),h=BigInt(3);class l extends o.CompositeType{constructor(e,t){if(super(),this.types=e,this.depth=1,this.maxChunkCount=1,this.fixedSize=null,this.isList=!0,this.isViewMutable=!0,e.length>=128)throw Error("Must have less than 128 types");if(0===e.length)throw Error("Must have at least 1 type option");if(e[0]instanceof u.NoneType&&e.length<2)throw Error("Must have at least 2 type options if the first is None");for(let t=1;t<e.length;t++)if(e[t]instanceof u.NoneType)throw Error("None may only be the first option");this.typeName=t?.typeName??`Union[${e.map((e=>e.typeName)).join(",")}]`;const r=[],i=[];for(const t of e)r.push(t.minSize),i.push(t.maxSize);this.minSize=1+Math.min(...r),this.maxSize=1+Math.max(...i),this.maxSelector=this.types.length-1}static named(e,t){return new(s.namedClass(l,t.typeName))(e,t)}defaultValue(){return{selector:0,value:this.types[0].defaultValue()}}getView(e){return this.tree_toValue(e.rootNode)}getViewDU(e){return this.tree_toValue(e)}cacheOfViewDU(){}commitView(e){return this.value_toTree(e)}commitViewDU(e){return this.value_toTree(e)}value_serializedSize(e){return 1+this.types[e.selector].value_serializedSize(e.value)}value_serializeToBytes(e,t,r){return e.uint8Array[t]=r.selector,this.types[r.selector].value_serializeToBytes(e,t+1,r.value)}value_deserializeFromBytes(e,t,r){const i=e.uint8Array[t];if(i>this.maxSelector)throw Error(`Invalid selector ${i}`);return{selector:i,value:this.types[i].value_deserializeFromBytes(e,t+1,r)}}tree_serializedSize(e){const t=a.getLengthFromRootNode(e),r=e.left;return 1+this.types[t].value_serializedSize(r)}tree_serializeToBytes(e,t,r){const i=a.getLengthFromRootNode(r),n=r.left;return e.uint8Array[t]=i,this.types[i].tree_serializeToBytes(e,t+1,n)}tree_deserializeFromBytes(e,t,r){const i=e.uint8Array[t];if(i>this.maxSelector)throw Error(`Invalid selector ${i}`);const n=this.types[i].tree_deserializeFromBytes(e,t+1,r);return a.addLengthNode(n,i)}hashTreeRoot(e){return n.mixInLength(super.hashTreeRoot(e),e.selector)}getRoots(e){return[this.types[e.selector].hashTreeRoot(e.value)]}getPropertyGindex(e){switch(e){case"value":return c;case"selector":return h;default:throw new Error(`Invalid Union type property ${e}`)}}getPropertyType(){throw new Error("Not applicable for Union type")}getIndexProperty(e){if(0===e)return"value";if(1===e)return"selector";throw Error("Union index of out bounds")}tree_getLeafGindices(e,t){if(!t)throw Error("rootNode required");const r=[i.concatGindices([e,h])],n=a.getLengthFromRootNode(t),s=this.types[n],u=i.concatGindices([e,c]);return o.isCompositeType(s)?r.push(...s.tree_getLeafGindices(u,i.getNode(t,c))):r.push(u),r}fromJson(e){if("object"!=typeof e)throw new Error("JSON must be of type object");const t=e;if("number"!=typeof t.selector)throw new Error("Invalid JSON Union selector must be number");const r=this.types[t.selector];if(!r)throw new Error("Invalid JSON Union selector out of range");return{selector:t.selector,value:r.toJson(t.value)}}toJson(e){return{selector:e.selector,value:this.types[e.selector].toJson(e.value)}}clone(e){return{selector:e.selector,value:this.types[e.selector].clone(e.value)}}equals(e,t){return e.selector===t.selector&&this.types[e.selector].equals(e.value,t.value)}}r.UnionType=l}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/union.js"}],[251,{"../util/merkleize":254,"../util/named":255,"../view/arrayBasic":260,"../viewDU/arrayBasic":268,"./array":232,"./arrayBasic":233},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.VectorBasicType=void 0;const i=e("../util/merkleize"),n=e("../util/named"),s=e("./arrayBasic"),o=e("../view/arrayBasic"),a=e("../viewDU/arrayBasic"),u=e("./array");class c extends u.ArrayType{constructor(e,t,r){if(super(e),this.elementType=e,this.length=t,this.isList=!1,this.isViewMutable=!0,!e.isBasic)throw Error("elementType must be basic");if(0===t)throw Error("Vector length must be > 0");this.typeName=r?.typeName??`Vector[${e.typeName}, ${t}]`,this.itemsPerChunk=32/e.byteLength,this.maxChunkCount=Math.ceil(t*e.byteLength/32),this.chunkDepth=i.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth,this.fixedSize=t*e.byteLength,this.minSize=this.fixedSize,this.maxSize=this.fixedSize,this.defaultLen=t}static named(e,t,r){return new(n.namedClass(c,r.typeName))(e,t,r)}getView(e){return new o.ArrayBasicTreeView(this,e)}getViewDU(e,t){return new a.ArrayBasicTreeViewDU(this,e,t)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}value_serializedSize(){return this.fixedSize}value_serializeToBytes(e,t,r){return s.value_serializeToBytesArrayBasic(this.elementType,this.length,e,t,r)}value_deserializeFromBytes(e,t,r){return s.value_deserializeFromBytesArrayBasic(this.elementType,e,t,r,this)}tree_serializedSize(){return this.fixedSize}tree_serializeToBytes(e,t,r){return s.tree_serializeToBytesArrayBasic(this.elementType,this.length,this.depth,e,t,r)}tree_deserializeFromBytes(e,t,r){return s.tree_deserializeFromBytesArrayBasic(this.elementType,this.depth,e,t,r,this)}tree_getLength(){return this.length}tree_setLength(){}tree_getChunksNode(e){return e}tree_setChunksNode(e,t){return t}getRoots(e){const t=new Uint8Array(this.fixedSize),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return s.value_serializeToBytesArrayBasic(this.elementType,this.length,{uint8Array:t,dataView:r},0,e),i.splitIntoRootChunks(t)}}r.VectorBasicType=c}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/vectorBasic.js"}],[252,{"../util/merkleize":254,"../util/named":255,"../view/arrayComposite":261,"../viewDU/arrayComposite":269,"./array":232,"./arrayComposite":234},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.VectorCompositeType=void 0;const i=e("../util/merkleize"),n=e("../util/named"),s=e("./arrayComposite"),o=e("../view/arrayComposite"),a=e("../viewDU/arrayComposite"),u=e("./array");class c extends u.ArrayType{constructor(e,t,r){if(super(e),this.elementType=e,this.length=t,this.itemsPerChunk=1,this.isList=!1,this.isViewMutable=!0,e.isBasic)throw Error("elementType must not be basic");if(0===t)throw Error("Vector length must be > 0");this.typeName=r?.typeName??`Vector[${e.typeName}, ${t}]`,this.maxChunkCount=t,this.chunkDepth=i.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth,this.fixedSize=null===e.fixedSize?null:t*e.fixedSize,this.minSize=s.minSizeArrayComposite(e,t),this.maxSize=s.maxSizeArrayComposite(e,t),this.defaultLen=t}static named(e,t,r){return new(n.namedClass(c,r.typeName))(e,t,r)}getView(e){return new o.ArrayCompositeTreeView(this,e)}getViewDU(e,t){return new a.ArrayCompositeTreeViewDU(this,e,t)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}value_serializedSize(e){return s.value_serializedSizeArrayComposite(this.elementType,this.length,e)}value_serializeToBytes(e,t,r){return s.value_serializeToBytesArrayComposite(this.elementType,this.length,e,t,r)}value_deserializeFromBytes(e,t,r){return s.value_deserializeFromBytesArrayComposite(this.elementType,e,t,r,this)}tree_serializedSize(e){return s.tree_serializedSizeArrayComposite(this.elementType,this.length,this.depth,e)}tree_serializeToBytes(e,t,r){return s.tree_serializeToBytesArrayComposite(this.elementType,this.length,this.depth,r,e,t)}tree_deserializeFromBytes(e,t,r){return s.tree_deserializeFromBytesArrayComposite(this.elementType,this.depth,e,t,r,this)}tree_getLength(){return this.length}tree_setLength(){}tree_getChunksNode(e){return e}tree_setChunksNode(e,t){return t}getRoots(e){return s.value_getRootsArrayComposite(this.elementType,this.length,e)}}r.VectorCompositeType=c}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/vectorComposite.js"}],[253,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.byteArrayEquals=r.fromHexString=r.toHexString=void 0;const i=new Array(256);r.toHexString=function(e){let t="0x";for(const r of e)i[r]||(i[r]=r<16?"0"+r.toString(16):r.toString(16)),t+=i[r];return t},r.fromHexString=function(e){if("string"!=typeof e)throw new Error(`hex argument type ${typeof e} must be of type string`);if(e.startsWith("0x")&&(e=e.slice(2)),e.length%2!=0)throw new Error(`hex string length ${e.length} must be multiple of 2`);const t=e.length/2,r=new Uint8Array(t);for(let i=0;i<t;i++){const t=parseInt(e.slice(2*i,2*(i+1)),16);r[i]=t}return r},r.byteArrayEquals=function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/util/byteArray.js"}],[254,{"./zeros":257,"@chainsafe/as-sha256":2421,buffer:2426},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.nextPowerOf2=r.maxChunksToDepth=r.bitLength=r.mixInLength=r.splitIntoRootChunks=r.merkleize=r.hash64=void 0;const i=e("@chainsafe/as-sha256"),n=e("./zeros");function s(e,t){return i.digest2Bytes32(e,t)}function o(e){return 0===e?0:Math.floor(Math.log2(e))+1}function a(e){return e<=0?1:Math.pow(2,o(e-1))}r.hash64=s,r.merkleize=function(e,t){const r=o(a(t)-1);if(0==e.length)return n.zeroHash(r);let i=e.length;for(let t=0;t<r;t++){const r=i%2,o=i+r;for(let s=0;s<r;s++)e[i+s]=n.zeroHash(t);for(let t=0;t<o;t+=2)e[t/2]=s(e[t],e[t+1]);i=o/2}return e[0]},r.splitIntoRootChunks=function(e){const t=Math.ceil(e.length/32),r=new Array(t);for(let i=0;i<t;i++){const t=new Uint8Array(32);t.set(e.slice(32*i,32*(i+1))),r[i]=t}return r},r.mixInLength=function(e,r){const i=t.alloc(32);return i.writeUIntLE(r,0,6),s(e,i)},r.bitLength=o,r.maxChunksToDepth=function(e){return 0===e?0:Math.ceil(Math.log2(e))},r.nextPowerOf2=a}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/util/merkleize.js"}],[255,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.namedClass=void 0,r.namedClass=function(e,t){return new Function("superClass",`return class ${t} extends superClass {}`)(e)}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/util/named.js"}],[256,{"@chainsafe/persistent-merkle-tree":218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.treePostProcessFromProofNode=void 0;const i=e("@chainsafe/persistent-merkle-tree");function n(e){return!e.isBasic}function s(e){return""===e?0:parseInt(e,2)}r.treePostProcessFromProofNode=function e(t,r,o="",a=0){if(0===a){const e=r.tree_fromProofNode(t);if(e.done)return e.node;t=e.node}const u=r.depth===a;if(t.isLeaf()){if(u){const e=r.getIndexProperty(s(o));if(null===e)return t;const i=r.getPropertyType(e);return 1===i.maxChunkCount&&n(i)?i.tree_fromProofNode(t).node:t}return t}if(u){const i=r.getIndexProperty(s(o));if(null===i)return t;const a=r.getPropertyType(i);if(!n(a))throw Error("BranchNode does not map to CompositeType");const u=a.tree_fromProofNode(t);return u.done?u.node:e(u.node,a)}{const n=e(t.left,r,o+"0",a+1),s=e(t.right,r,o+"1",a+1);return n===t.left&&s===t.right?t:new i.BranchNode(n,s)}}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/util/proof/treePostProcessFromProofNode.js"}],[257,{"@chainsafe/as-sha256":2421},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.zeroHash=void 0;const i=e("@chainsafe/as-sha256"),n=[new Uint8Array(32)];r.zeroHash=function(e){if(e>=n.length)for(let t=n.length;t<=e;t++)n[t]=i.digest2Bytes32(n[t-1],n[t-1]);return n[e]}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/util/zeros.js"}],[258,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getUint8ByteToBitBooleanArray=r.BitArray=void 0;const i=new Array(256);class n{constructor(e,t){if(this.uint8Array=e,this.bitLen=t,e.length!==Math.ceil(t/8))throw Error("BitArray uint8Array length does not match bitLen")}static fromBitLen(e){return new n(new Uint8Array(Math.ceil(e/8)),e)}static fromSingleBit(e,t){const r=n.fromBitLen(e);return r.set(t,!0),r}static fromBoolArray(e){const t=n.fromBitLen(e.length);for(let r=0;r<e.length;r++)!0===e[r]&&t.set(r,!0);return t}clone(){return new n(Uint8Array.prototype.slice.call(this.uint8Array,0),this.bitLen)}get(e){const t=Math.floor(e/8),r=1<<e%8;return(this.uint8Array[t]&r)===r}set(e,t){if(e>=this.bitLen)throw Error(`BitArray set bitIndex ${e} beyond bitLen ${this.bitLen}`);const r=Math.floor(e/8),i=1<<e%8;let n=this.uint8Array[r];t?(n|=i,this.uint8Array[r]=n):(n&i)===i&&(n^=i,this.uint8Array[r]=n)}mergeOrWith(e){if(e.bitLen!==this.bitLen)throw Error("Must merge BitArrays of same bitLen");for(let t=0;t<this.uint8Array.length;t++)this.uint8Array[t]=this.uint8Array[t]|e.uint8Array[t]}intersectValues(e){const t=[];if(e.length!==this.bitLen)throw Error(`Must not intersect values of length ${e.length} != bitLen ${this.bitLen}`);const r=Math.floor(this.bitLen/8),i=this.bitLen%8,n=this.uint8Array;for(let i=0;i<r;i++){const r=s(n[i]);for(let n=0;n<8;n++)r[n]&&t.push(e[8*i+n])}if(i>0){const o=s(n[r]);for(let n=0;n<i;n++)o[n]&&t.push(e[8*r+n])}return t}getTrueBitIndexes(){const e=[],t=this.uint8Array;for(let r=0,i=t.length;r<i;r++){const i=s(t[r]);for(let t=0;t<8;t++)i[t]&&e.push(8*r+t)}return e}getSingleTrueBit(){let e=null;const t=this.uint8Array;for(let r=0,i=t.length;r<i;r++){if(0===t[r])continue;const i=s(t[r]);for(let t=0;t<8;t++)if(!0===i[t]){if(null!==e)return null;e=8*r+t}}return null===e?null:e}toBoolArray(){const e=new Array(this.bitLen);for(let t=0;t<this.bitLen;t++)e[t]=this.get(t);return e}}function s(e){return i[e]||(i[e]=function(e){const t=e.toString(2),r=t.length,i=new Array(8);for(let e=0;e<8;e++)i[e]=e<r&&"1"===t[r-e-1];return i}(e)),i[e]}r.BitArray=n,r.getUint8ByteToBitBooleanArray=s}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/value/bitArray.js"}],[259,{"@chainsafe/persistent-merkle-tree":218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.TreeView=void 0;const i=e("@chainsafe/persistent-merkle-tree");r.TreeView=class{serialize(){const e=new Uint8Array(this.type.tree_serializedSize(this.node)),t=new DataView(e.buffer,e.byteOffset,e.byteLength);return this.type.tree_serializeToBytes({uint8Array:e,dataView:t},0,this.node),e}hashTreeRoot(){return this.node.root}createProof(e){return this.type.tree_createProof(this.node,e)}toValue(){return this.type.tree_toValue(this.node)}clone(){return this.type.getView(new i.Tree(this.node))}}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/view/abstract.js"}],[26,{"../../../shared/constants/hardware-wallets":4015,"../../../shared/constants/network":4019,"../../../shared/constants/preferences":4021,"../../../shared/modules/network.utils":4050,"@metamask/obs-store":1375,"eth-sig-util":2741},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=e("@metamask/obs-store"),n=e("eth-sig-util"),s=e("../../../shared/constants/network"),o=e("../../../shared/constants/hardware-wallets"),a=e("../../../shared/constants/preferences"),u=e("../../../shared/modules/network.utils");r.default=class{constructor(e={}){const t={useBlockie:!1,useNonceField:!1,usePhishDetect:!0,dismissSeedBackUpReminder:!1,disabledRpcMethodPreferences:{eth_sign:!1},useMultiAccountBalanceChecker:!0,useTokenDetection:!1,useNftDetection:!1,use4ByteResolution:!0,useCurrencyRateCheck:!0,openSeaEnabled:!1,advancedGasFee:null,featureFlags:{showIncomingTransactions:!0},knownMethodData:{},currentLocale:e.initLangCode,identities:{},lostIdentities:{},forgottenPassword:!1,preferences:{autoLockTimeLimit:undefined,showFiatInTestnets:!1,showTestNetworks:!1,useNativeCurrencyAsPrimaryCurrency:!0,hideZeroBalanceTokens:!1},ipfsGateway:s.IPFS_DEFAULT_GATEWAY_URL,useAddressBarEnsResolution:!0,infuraBlocked:null,ledgerTransportType:window.navigator.hid?o.LedgerTransportTypes.webhid:o.LedgerTransportTypes.u2f,snapRegistryList:{},transactionSecurityCheckEnabled:!1,theme:a.ThemeType.os,isLineaMainnetReleased:!1,...e.initState};this.network=e.network,this._onInfuraIsBlocked=e.onInfuraIsBlocked,this._onInfuraIsUnblocked=e.onInfuraIsUnblocked,this.store=new i.ObservableStore(t),this.store.setMaxListeners(13),this.tokenListController=e.tokenListController,this._subscribeToInfuraAvailability(),global.setPreference=(e,t)=>this.setFeatureFlag(e,t),this._showShouldLineaMainnetNetwork()}setPasswordForgotten(e){this.store.updateState({forgottenPassword:e})}setUseBlockie(e){this.store.updateState({useBlockie:e})}setUseNonceField(e){this.store.updateState({useNonceField:e})}setUsePhishDetect(e){this.store.updateState({usePhishDetect:e})}setUseMultiAccountBalanceChecker(e){this.store.updateState({useMultiAccountBalanceChecker:e})}setUseTokenDetection(e){this.store.updateState({useTokenDetection:e}),this.tokenListController.updatePreventPollingOnNetworkRestart(!e),e?this.tokenListController.start():(this.tokenListController.clearingTokenListData(),this.tokenListController.stop())}setUseNftDetection(e){this.store.updateState({useNftDetection:e})}setUse4ByteResolution(e){this.store.updateState({use4ByteResolution:e})}setUseCurrencyRateCheck(e){this.store.updateState({useCurrencyRateCheck:e})}setOpenSeaEnabled(e){this.store.updateState({openSeaEnabled:e})}setAdvancedGasFee(e){this.store.updateState({advancedGasFee:e})}setTheme(e){this.store.updateState({theme:e})}setTransactionSecurityCheckEnabled(e){this.store.updateState({transactionSecurityCheckEnabled:e})}addKnownMethodData(e,t){const{knownMethodData:r}=this.store.getState();r[e]=t,this.store.updateState({knownMethodData:r})}setCurrentLocale(e){const t=["ar","dv","fa","he","ku"].includes(e)?"rtl":"auto";return this.store.updateState({currentLocale:e,textDirection:t}),t}setAddresses(e){const t=this.store.getState().identities,r=e.reduce(((e,r,i)=>{const n=t[r]||{};return e[r]={name:`Account ${i+1}`,address:r,...n},e}),{});this.store.updateState({identities:r})}removeAddress(e){const{identities:t}=this.store.getState();if(!t[e])throw new Error(`${e} can't be deleted cause it was not found`);if(delete t[e],this.store.updateState({identities:t}),e===this.getSelectedAddress()){const[e]=Object.keys(t);this.setSelectedAddress(e)}return e}addAddresses(e){const{identities:t}=this.store.getState();e.forEach((e=>{if(t[e])return;const r=Object.keys(t).length;t[e]={name:`Account ${r+1}`,address:e}})),this.store.updateState({identities:t})}syncAddresses(e){if(!Array.isArray(e)||0===e.length)throw new Error("Expected non-empty array of addresses. Error #11201");const{identities:t,lostIdentities:r}=this.store.getState(),i={};Object.keys(t).forEach((r=>{e.includes(r)||(i[r]=t[r],delete t[r])})),Object.keys(i).length>0&&Object.keys(i).forEach((e=>{r[e]=i[e]})),this.store.updateState({identities:t,lostIdentities:r}),this.addAddresses(e);let n=this.getSelectedAddress();return e.includes(n)||([n]=e,this.setSelectedAddress(n)),n}setSelectedAddress(e){const t=(0,n.normalize)(e),{identities:r}=this.store.getState(),i=r[t];if(!i)throw new Error(`Identity for '${t} not found`);i.lastSelected=Date.now(),this.store.updateState({identities:r,selectedAddress:t})}getSelectedAddress(){return this.store.getState().selectedAddress}async setAccountLabel(e,t){if(!e)throw new Error(`setAccountLabel requires a valid address, got ${String(e)}`);const r=(0,n.normalize)(e),{identities:i}=this.store.getState();return i[r]=i[r]||{},i[r].name=t,this.store.updateState({identities:i}),t}async setFeatureFlag(e,t){const r={...this.store.getState().featureFlags,[e]:t};return this.store.updateState({featureFlags:r}),r}async setPreference(e,t){const r={...this.getPreferences(),[e]:t};return this.store.updateState({preferences:r}),r}getPreferences(){return this.store.getState().preferences}getIpfsGateway(){return this.store.getState().ipfsGateway}async setIpfsGateway(e){return this.store.updateState({ipfsGateway:e}),e}async setUseAddressBarEnsResolution(e){this.store.updateState({useAddressBarEnsResolution:e})}setLedgerTransportPreference(e){return this.store.updateState({ledgerTransportType:e}),e}getLedgerTransportPreference(){return this.store.getState().ledgerTransportType}async setDismissSeedBackUpReminder(e){await this.store.updateState({dismissSeedBackUpReminder:e})}async setDisabledRpcMethodPreference(e,t){const r={...this.store.getState().disabledRpcMethodPreferences,[e]:t};this.store.updateState({disabledRpcMethodPreferences:r})}getRpcMethodPreferences(){return this.store.getState().disabledRpcMethodPreferences}_subscribeToInfuraAvailability(){this._onInfuraIsBlocked((()=>{this._setInfuraBlocked(!0)})),this._onInfuraIsUnblocked((()=>{this._setInfuraBlocked(!1)}))}_setInfuraBlocked(e){const{infuraBlocked:t}=this.store.getState();t!==e&&this.store.updateState({infuraBlocked:e})}_showShouldLineaMainnetNetwork(){const e=(0,u.shouldShowLineaMainnet)();this.store.updateState({isLineaMainnetReleased:e})}}}}},{package:"$root$",file:"app/scripts/controllers/preferences.js"}],[260,{"./abstract":259,"@chainsafe/persistent-merkle-tree":218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ArrayBasicTreeView=void 0;const i=e("@chainsafe/persistent-merkle-tree"),n=e("./abstract");class s extends n.TreeView{constructor(e,t){super(),this.type=e,this.tree=t}get length(){return this.type.tree_getLength(this.tree.rootNode)}get node(){return this.tree.rootNode}get(e){const t=Math.floor(e/this.type.itemsPerChunk),r=this.tree.getNodeAtDepth(this.type.depth,t);return this.type.elementType.tree_getFromPackedNode(r,e)}set(e,t){const r=this.length;if(e>=r)throw Error(`Error setting index over length ${e} > ${r}`);const i=Math.floor(e/this.type.itemsPerChunk),n=this.tree.getNodeAtDepth(this.type.depth,i).clone();this.type.elementType.tree_setToPackedNode(n,e,t),this.tree.setNodeAtDepth(this.type.depth,i,n)}getAll(){const e=this.length,t=this.type.tree_getChunksNode(this.node),r=Math.ceil(e/this.type.itemsPerChunk),n=i.getNodesAtDepth(t,this.type.chunkDepth,0,r),s=new Array(e),o=this.type.itemsPerChunk,a=Math.floor(e/o),u=e%o;for(let e=0;e<a;e++){const t=n[e];for(let r=0;r<o;r++)s[e*o+r]=this.type.elementType.tree_getFromPackedNode(t,r)}if(u>0){const e=n[a];for(let t=0;t<u;t++)s[a*o+t]=this.type.elementType.tree_getFromPackedNode(e,t)}return s}}r.ArrayBasicTreeView=s}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/view/arrayBasic.js"}],[261,{"./abstract":259,"@chainsafe/persistent-merkle-tree":218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ArrayCompositeTreeView=void 0;const i=e("@chainsafe/persistent-merkle-tree"),n=e("./abstract");class s extends n.TreeView{constructor(e,t){super(),this.type=e,this.tree=t}get length(){return this.type.tree_getLength(this.tree.rootNode)}get node(){return this.tree.rootNode}get(e){const t=i.toGindexBitstring(this.type.depth,e),r=this.tree.getSubtree(t);return this.type.elementType.getView(r)}getReadonly(e){const t=i.toGindexBitstring(this.type.depth,e),r=new i.Tree(this.tree.getNode(t));return this.type.elementType.getView(r)}set(e,t){const r=this.length;if(e>=r)throw Error(`Error setting index over length ${e} > ${r}`);const i=this.type.elementType.commitView(t);this.tree.setNodeAtDepth(this.type.depth,e,i)}getAllReadonly(){const e=this.length,t=this.type.tree_getChunksNode(this.node),r=i.getNodesAtDepth(t,this.type.chunkDepth,0,e),n=new Array(e);for(let t=0;t<e;t++)n[t]=this.type.elementType.getView(new i.Tree(r[t]));return n}getAllReadonlyValues(){const e=this.length,t=this.type.tree_getChunksNode(this.node),r=i.getNodesAtDepth(t,this.type.chunkDepth,0,e),n=new Array(e);for(let t=0;t<e;t++)n[t]=this.type.elementType.tree_toValue(r[t]);return n}}r.ArrayCompositeTreeView=s}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/view/arrayComposite.js"}],[262,{"./abstract":259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BitArrayTreeView=void 0;const i=e("./abstract");class n extends i.TreeView{constructor(e,t){super(),this.type=e,this.tree=t,this.bitArray=e.tree_toValue(t.rootNode)}get node(){return this.tree.rootNode}get uint8Array(){return this.bitArray.uint8Array}get bitLen(){return this.bitArray.bitLen}get(e){return this.bitArray.get(e)}set(e,t){this.bitArray.set(e,t),this.tree.rootNode=this.type.value_toTree(this.bitArray)}mergeOrWith(e){this.bitArray.mergeOrWith(e)}intersectValues(e){return this.bitArray.intersectValues(e)}getTrueBitIndexes(){return this.bitArray.getTrueBitIndexes()}getSingleTrueBit(){return this.bitArray.getSingleTrueBit()}toBoolArray(){return this.bitArray.toBoolArray()}}r.BitArrayTreeView=n}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/view/bitArray.js"}],[263,{"../type/basic":235,"../type/composite":243,"./abstract":259,"@chainsafe/persistent-merkle-tree":218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getContainerTreeViewClass=void 0;const i=e("@chainsafe/persistent-merkle-tree"),n=e("../type/basic"),s=e("../type/composite"),o=e("./abstract");class a extends o.TreeView{constructor(e,t){super(),this.type=e,this.tree=t}get node(){return this.tree.rootNode}}r.getContainerTreeViewClass=function(e){class t extends a{}for(let r=0;r<e.fieldsEntries.length;r++){const{fieldName:o,fieldType:a}=e.fieldsEntries[r];if(n.isBasicType(a))Object.defineProperty(t.prototype,o,{configurable:!1,enumerable:!0,get:function(){const e=i.getNodeAtDepth(this.node,this.type.depth,r);return a.tree_getFromNode(e)},set:function(e){const t=i.getNodeAtDepth(this.node,this.type.depth,r).clone();a.tree_setToNode(t,e),this.tree.setNodeAtDepth(this.type.depth,r,t)}});else{if(!s.isCompositeType(a))throw Error(`Unknown fieldType ${a.typeName} for fieldName ${o}`);Object.defineProperty(t.prototype,o,{configurable:!1,enumerable:!0,get:function(){const e=i.toGindexBitstring(this.type.depth,r);return a.getView(this.tree.getSubtree(e))},set:function(e){const t=a.commitView(e);this.tree.setNodeAtDepth(this.type.depth,r,t)}})}}return Object.defineProperty(t,"name",{value:e.typeName,writable:!1}),t}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/view/container.js"}],[2631,{luxon:3551},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=e("luxon");function n(e,t){var r={zone:t};if(e?e instanceof n?this._date=e._date:e instanceof Date?this._date=i.DateTime.fromJSDate(e,r):"number"==typeof e?this._date=i.DateTime.fromMillis(e,r):"string"==typeof e&&(this._date=i.DateTime.fromISO(e,r),this._date.isValid||(this._date=i.DateTime.fromRFC2822(e,r)),this._date.isValid||(this._date=i.DateTime.fromSQL(e,r)),this._date.isValid||(this._date=i.DateTime.fromFormat(e,"EEE, d MMM yyyy HH:mm:ss",r))):this._date=i.DateTime.local(),!this._date||!this._date.isValid)throw new Error("CronDate: unhandled timestamp: "+JSON.stringify(e));t&&t!==this._date.zoneName&&(this._date=this._date.setZone(t))}n.prototype.addYear=function(){this._date=this._date.plus({years:1})},n.prototype.addMonth=function(){this._date=this._date.plus({months:1}).startOf("month")},n.prototype.addDay=function(){this._date=this._date.plus({days:1}).startOf("day")},n.prototype.addHour=function(){var e=this._date;this._date=this._date.plus({hours:1}).startOf("hour"),this._date<=e&&(this._date=this._date.plus({hours:1}))},n.prototype.addMinute=function(){var e=this._date;this._date=this._date.plus({minutes:1}).startOf("minute"),this._date<e&&(this._date=this._date.plus({hours:1}))},n.prototype.addSecond=function(){var e=this._date;this._date=this._date.plus({seconds:1}).startOf("second"),this._date<e&&(this._date=this._date.plus({hours:1}))},n.prototype.subtractYear=function(){this._date=this._date.minus({years:1})},n.prototype.subtractMonth=function(){this._date=this._date.minus({months:1}).endOf("month").startOf("second")},n.prototype.subtractDay=function(){this._date=this._date.minus({days:1}).endOf("day").startOf("second")},n.prototype.subtractHour=function(){var e=this._date;this._date=this._date.minus({hours:1}).endOf("hour").startOf("second"),this._date>=e&&(this._date=this._date.minus({hours:1}))},n.prototype.subtractMinute=function(){var e=this._date;this._date=this._date.minus({minutes:1}).endOf("minute").startOf("second"),this._date>e&&(this._date=this._date.minus({hours:1}))},n.prototype.subtractSecond=function(){var e=this._date;this._date=this._date.minus({seconds:1}).startOf("second"),this._date>e&&(this._date=this._date.minus({hours:1}))},n.prototype.getDate=function(){return this._date.day},n.prototype.getFullYear=function(){return this._date.year},n.prototype.getDay=function(){var e=this._date.weekday;return 7==e?0:e},n.prototype.getMonth=function(){return this._date.month-1},n.prototype.getHours=function(){return this._date.hour},n.prototype.getMinutes=function(){return this._date.minute},n.prototype.getSeconds=function(){return this._date.second},n.prototype.getMilliseconds=function(){return this._date.millisecond},n.prototype.getTime=function(){return this._date.valueOf()},n.prototype.getUTCDate=function(){return this._getUTC().day},n.prototype.getUTCFullYear=function(){return this._getUTC().year},n.prototype.getUTCDay=function(){var e=this._getUTC().weekday;return 7==e?0:e},n.prototype.getUTCMonth=function(){return this._getUTC().month-1},n.prototype.getUTCHours=function(){return this._getUTC().hour},n.prototype.getUTCMinutes=function(){return this._getUTC().minute},n.prototype.getUTCSeconds=function(){return this._getUTC().second},n.prototype.toISOString=function(){return this._date.toUTC().toISO()},n.prototype.toJSON=function(){return this._date.toJSON()},n.prototype.setDate=function(e){this._date=this._date.set({day:e})},n.prototype.setFullYear=function(e){this._date=this._date.set({year:e})},n.prototype.setDay=function(e){this._date=this._date.set({weekday:e})},n.prototype.setMonth=function(e){this._date=this._date.set({month:e+1})},n.prototype.setHours=function(e){this._date=this._date.set({hour:e})},n.prototype.setMinutes=function(e){this._date=this._date.set({minute:e})},n.prototype.setSeconds=function(e){this._date=this._date.set({second:e})},n.prototype.setMilliseconds=function(e){this._date=this._date.set({millisecond:e})},n.prototype._getUTC=function(){return this._date.toUTC()},n.prototype.toString=function(){return this.toDate().toString()},n.prototype.toDate=function(){return this._date.toJSDate()},n.prototype.isLastDayOfMonth=function(){var e=this._date.plus({days:1}).startOf("day");return this._date.month!==e.month},n.prototype.isLastWeekdayOfMonth=function(){var e=this._date.plus({days:7}).startOf("day");return this._date.month!==e.month},t.exports=n}}},{package:"@metamask/snaps-utils>cron-parser",file:"node_modules/cron-parser/lib/date.js"}],[2632,{"./date":2631,"./field_stringify":2634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=e("./date"),n=e("./field_stringify");function s(e,t){this._options=t,this._utc=t.utc||!1,this._tz=this._utc?"UTC":t.tz,this._currentDate=new i(t.currentDate,this._tz),this._startDate=t.startDate?new i(t.startDate,this._tz):null,this._endDate=t.endDate?new i(t.endDate,this._tz):null,this._isIterator=t.iterator||!1,this._hasIterated=!1,this._nthDayOfWeek=t.nthDayOfWeek||0,this.fields=s._freezeFields(e)}s.map=["second","minute","hour","dayOfMonth","month","dayOfWeek"],s.predefined={"@yearly":"0 0 1 1 *","@monthly":"0 0 1 * *","@weekly":"0 0 * * 0","@daily":"0 0 * * *","@hourly":"0 * * * *"},s.constraints=[{min:0,max:59,chars:[]},{min:0,max:59,chars:[]},{min:0,max:23,chars:[]},{min:1,max:31,chars:["L"]},{min:1,max:12,chars:[]},{min:0,max:7,chars:["L"]}],s.daysInMonth=[31,29,31,30,31,30,31,31,30,31,30,31],s.aliases={month:{jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},dayOfWeek:{sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6}},s.parseDefaults=["0","*","*","*","*","*"],s.standardValidCharacters=/^[,*\d/-]+$/,s.dayOfWeekValidCharacters=/^[?,*\dL#/-]+$/,s.dayOfMonthValidCharacters=/^[?,*\dL/-]+$/,s.validCharacters={second:s.standardValidCharacters,minute:s.standardValidCharacters,hour:s.standardValidCharacters,dayOfMonth:s.dayOfMonthValidCharacters,month:s.standardValidCharacters,dayOfWeek:s.dayOfWeekValidCharacters},s._isValidConstraintChar=function(e,t){return"string"==typeof t&&e.chars.some((function(e){return t.indexOf(e)>-1}))},s._parseField=function(e,t,r){switch(e){case"month":case"dayOfWeek":var i=s.aliases[e];t=t.replace(/[a-z]{3}/gi,(function(e){if(e=e.toLowerCase(),void 0!==i[e])return i[e];throw new Error('Validation error, cannot resolve alias "'+e+'"')}))}if(!s.validCharacters[e].test(t))throw new Error("Invalid characters, got value: "+t);function n(e){var t=e.split("/");return t.length>1?(t[0]==+t[0]&&(t=[t[0]+"-"+r.max,t[1]]),o(t[0],t[t.length-1])):o(e,1)}function o(e,t){var i=[],n=e.split("-");if(n.length>1){if(n.length<2)return+e;if(!n[0].length){if(!n[1].length)throw new Error("Invalid range: "+e);return+e}var s=+n[0],o=+n[1];if(Number.isNaN(s)||Number.isNaN(o)||s<r.min||o>r.max)throw new Error("Constraint error, got range "+s+"-"+o+" expected range "+r.min+"-"+r.max);if(s>=o)throw new Error("Invalid range: "+e);var a=+t;if(Number.isNaN(a)||a<=0)throw new Error("Constraint error, cannot repeat at every "+a+" time.");for(var u=s,c=o;u<=c;u++)a>0&&a%t==0?(a=1,i.push(u)):a++;return i}return Number.isNaN(+e)?e:+e}return-1!==t.indexOf("*")?t=t.replace(/\*/g,r.min+"-"+r.max):-1!==t.indexOf("?")&&(t=t.replace(/\?/g,r.min+"-"+r.max)),function(t){var i=[];function o(t){if(t instanceof Array)for(var n=0,o=t.length;n<o;n++){var a=t[n];if(s._isValidConstraintChar(r,a))i.push(a);else{if("number"!=typeof a||Number.isNaN(a)||a<r.min||a>r.max)throw new Error("Constraint error, got value "+a+" expected range "+r.min+"-"+r.max);i.push(a)}}else{if(s._isValidConstraintChar(r,t))return void i.push(t);var u=+t;if(Number.isNaN(u)||u<r.min||u>r.max)throw new Error("Constraint error, got value "+t+" expected range "+r.min+"-"+r.max);"dayOfWeek"===e&&(u%=7),i.push(u)}}var a=t.split(",");if(!a.every((function(e){return e.length>0})))throw new Error("Invalid list value format");if(a.length>1)for(var u=0,c=a.length;u<c;u++)o(n(a[u]));else o(n(t));return i.sort(s._sortCompareFn),i}(t)},s._sortCompareFn=function(e,t){var r="number"==typeof e,i="number"==typeof t;return r&&i?e-t:!r&&i?1:r&&!i?-1:e.localeCompare(t)},s._handleMaxDaysInMonth=function(e){if(1===e.month.length){var t=s.daysInMonth[e.month[0]-1];if(e.dayOfMonth[0]>t)throw new Error("Invalid explicit day of month definition");return e.dayOfMonth.filter((function(e){return"L"===e||e<=t})).sort(s._sortCompareFn)}},s._freezeFields=function(e){for(var t=0,r=s.map.length;t<r;++t){var i=s.map[t],n=e[i];e[i]=Object.freeze(n)}return Object.freeze(e)},s.prototype._applyTimezoneShift=function(e,t,r){if("Month"===r||"Day"===r){var i=e.getTime();e[t+r](),i===e.getTime()&&(0===e.getMinutes()&&0===e.getSeconds()?e.addHour():59===e.getMinutes()&&59===e.getSeconds()&&e.subtractHour())}else{var n=e.getHours();e[t+r]();var s=e.getHours(),o=s-n;2===o?24!==this.fields.hour.length&&(this._dstStart=s):0===o&&0===e.getMinutes()&&0===e.getSeconds()&&24!==this.fields.hour.length&&(this._dstEnd=s)}},s.prototype._findSchedule=function(e){function t(e,t){for(var r=0,i=t.length;r<i;r++)if(t[r]>=e)return t[r]===e;return t[0]===e}function r(e,t){if(t<6){if(e.getDate()<8&&1===t)return!0;var r=e.getDate()%7?1:0,i=e.getDate()-e.getDate()%7;return Math.floor(i/7)+r===t}return!1}function n(e){return e.length>0&&e.some((function(e){return"string"==typeof e&&e.indexOf("L")>=0}))}var o=(e=e||!1)?"subtract":"add",a=new i(this._currentDate,this._tz),u=this._startDate,c=this._endDate,h=a.getTime(),l=0;for(;l<1e4;){if(l++,e){if(u&&a.getTime()-u.getTime()<0)throw new Error("Out of the timespan range")}else if(c&&c.getTime()-a.getTime()<0)throw new Error("Out of the timespan range");var f=t(a.getDate(),this.fields.dayOfMonth);n(this.fields.dayOfMonth)&&(f=f||a.isLastDayOfMonth());var d=t(a.getDay(),this.fields.dayOfWeek);n(this.fields.dayOfWeek)&&(d=d||this.fields.dayOfWeek.some((function(e){if(!n([e]))return!1;var t=Number.parseInt(e[0])%7;if(Number.isNaN(t))throw new Error("Invalid last weekday of the month expression: "+e);return a.getDay()===t&&a.isLastWeekdayOfMonth()})));var p=this.fields.dayOfMonth.length>=s.daysInMonth[a.getMonth()],g=this.fields.dayOfWeek.length===s.constraints[5].max-s.constraints[5].min+1,y=a.getHours();if(f||d&&!g)if(p||!g||f)if(!p||g||d)if(this._nthDayOfWeek>0&&!r(a,this._nthDayOfWeek))this._applyTimezoneShift(a,o,"Day");else if(t(a.getMonth()+1,this.fields.month)){if(t(y,this.fields.hour)){if(this._dstEnd===y&&!e){this._dstEnd=null,this._applyTimezoneShift(a,"add","Hour");continue}}else{if(this._dstStart!==y){this._dstStart=null,this._applyTimezoneShift(a,o,"Hour");continue}if(!t(y-1,this.fields.hour)){a[o+"Hour"]();continue}}if(t(a.getMinutes(),this.fields.minute))if(t(a.getSeconds(),this.fields.second)){if(h!==a.getTime())break;"add"===o||0===a.getMilliseconds()?this._applyTimezoneShift(a,o,"Second"):a.setMilliseconds(0)}else this._applyTimezoneShift(a,o,"Second");else this._applyTimezoneShift(a,o,"Minute")}else this._applyTimezoneShift(a,o,"Month");else this._applyTimezoneShift(a,o,"Day");else this._applyTimezoneShift(a,o,"Day");else this._applyTimezoneShift(a,o,"Day")}if(l>=1e4)throw new Error("Invalid expression, loop limit exceeded");return this._currentDate=new i(a,this._tz),this._hasIterated=!0,a},s.prototype.next=function(){var e=this._findSchedule();return this._isIterator?{value:e,done:!this.hasNext()}:e},s.prototype.prev=function(){var e=this._findSchedule(!0);return this._isIterator?{value:e,done:!this.hasPrev()}:e},s.prototype.hasNext=function(){var e=this._currentDate,t=this._hasIterated;try{return this._findSchedule(),!0}catch(e){return!1}finally{this._currentDate=e,this._hasIterated=t}},s.prototype.hasPrev=function(){var e=this._currentDate,t=this._hasIterated;try{return this._findSchedule(!0),!0}catch(e){return!1}finally{this._currentDate=e,this._hasIterated=t}},s.prototype.iterate=function(e,t){var r=[];if(e>=0)for(var i=0,n=e;i<n;i++)try{var s=this.next();r.push(s),t&&t(s,i)}catch(e){break}else for(i=0,n=e;i>n;i--)try{s=this.prev();r.push(s),t&&t(s,i)}catch(e){break}return r},s.prototype.reset=function(e){this._currentDate=new i(e||this._options.currentDate)},s.prototype.stringify=function(e){for(var t=[],r=e?0:1,i=s.map.length;r<i;++r){var o=s.map[r],a=this.fields[o],u="dayOfMonth"===o&&1===this.fields.month.length?{min:1,max:s.daysInMonth[this.fields.month[0]-1]}:s.constraints[r];t.push(n(a,u.min,u.max))}return t.join(" ")},s.parse=function(e,t){var r=this;function n(e,t){t||(t={}),void 0===t.currentDate&&(t.currentDate=new i(undefined,r._tz)),s.predefined[e]&&(e=s.predefined[e]);var n=[],o=(e+"").trim().split(/\s+/);if(o.length>6)throw new Error("Invalid cron expression");for(var a=s.map.length-o.length,u=0,c=s.map.length;u<c;++u){var h=s.map[u],l=o[o.length>c?u:u-a];if(u<a||!l)n.push(s._parseField(h,s.parseDefaults[u],s.constraints[u]));else{var f="dayOfWeek"===h?g(l):l;n.push(s._parseField(h,f,s.constraints[u]))}}var d={};for(u=0,c=s.map.length;u<c;u++){d[s.map[u]]=n[u]}var p=s._handleMaxDaysInMonth(d);return d.dayOfMonth=p||d.dayOfMonth,new s(d,t);function g(e){var r=e.split("#");if(r.length>1){var i=+r[r.length-1];if(/,/.test(e))throw new Error("Constraint error, invalid dayOfWeek `#` and `,` "+"special characters are incompatible");if(/\//.test(e))throw new Error("Constraint error, invalid dayOfWeek `#` and `/` "+"special characters are incompatible");if(/-/.test(e))throw new Error("Constraint error, invalid dayOfWeek `#` and `-` "+"special characters are incompatible");if(r.length>2||Number.isNaN(i)||i<1||i>5)throw new Error("Constraint error, invalid dayOfWeek occurrence number (#)");return t.nthDayOfWeek=i,r[0]}return e}}return"function"==typeof t&&(t={}),n(e,t)},s.fieldsToExpression=function(e,t){function r(e,t,r){if(!t)throw new Error("Validation error, Field "+e+" is missing");if(0===t.length)throw new Error("Validation error, Field "+e+" contains no values");for(var i=0,n=t.length;i<n;i++){var o=t[i];if(!s._isValidConstraintChar(r,o)&&("number"!=typeof o||Number.isNaN(o)||o<r.min||o>r.max))throw new Error("Constraint error, got value "+o+" expected range "+r.min+"-"+r.max)}}for(var i={},n=0,o=s.map.length;n<o;++n){var a=s.map[n],u=e[a];r(a,u,s.constraints[n]);for(var c=[],h=-1;++h<u.length;)c[h]=u[h];if((u=c.sort(s._sortCompareFn).filter((function(e,t,r){return!t||e!==r[t-1]}))).length!==c.length)throw new Error("Validation error, Field "+a+" contains duplicate values");i[a]=u}var l=s._handleMaxDaysInMonth(i);return i.dayOfMonth=l||i.dayOfMonth,new s(i,t||{})},t.exports=s}}},{package:"@metamask/snaps-utils>cron-parser",file:"node_modules/cron-parser/lib/expression.js"}],[2633,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function i(e){return{start:e,count:1}}function n(e,t){e.end=t,e.step=t-e.start,e.count=2}function s(e,t,r){t&&(2===t.count?(e.push(i(t.start)),e.push(i(t.end))):e.push(t)),r&&e.push(r)}t.exports=function(e){for(var t=[],r=undefined,o=0;o<e.length;o++){var a=e[o];"number"!=typeof a?(s(t,r,i(a)),r=undefined):r?1===r.count?n(r,a):r.step===a-r.end?(r.count++,r.end=a):2===r.count?(t.push(i(r.start)),n(r=i(r.end),a)):(s(t,r),r=i(a)):r=i(a)}return s(t,r),t}}}},{package:"@metamask/snaps-utils>cron-parser",file:"node_modules/cron-parser/lib/field_compactor.js"}],[2634,{"./field_compactor":2633},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=e("./field_compactor");t.exports=function(e,t,r){var n=i(e);if(1===n.length){var s=n[0];if(1===(c=s.step)&&s.start===t&&s.end===r)return"*";if(1!==c&&s.start===t&&s.end===r-c+1)return"*/"+c}for(var o=[],a=0,u=n.length;a<u;++a){var c,h=n[a];if(1===h.count)o.push(h.start);else 1===(c=h.step)?o.push(h.start+"-"+h.end):h.end===r-c+1?o.push(h.start+"/"+c):o.push(h.start+"-"+h.end+"/"+c)}return o.join(",")}}}},{package:"@metamask/snaps-utils>cron-parser",file:"node_modules/cron-parser/lib/field_stringify.js"}],[2635,{"./expression":2632,fs:2390},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=e("./expression");function n(){}n._parseEntry=function(e){var t=e.split(" ");if(6===t.length)return{interval:i.parse(e)};if(t.length>6)return{interval:i.parse(t.slice(0,6).join(" ")),command:t.slice(6,t.length)};throw new Error("Invalid entry: "+e)},n.parseExpression=function(e,t){return i.parse(e,t)},n.fieldsToExpression=function(e,t){return i.fieldsToExpression(e,t)},n.parseString=function(e){for(var t=e.split("\n"),r={variables:{},expressions:[],errors:{}},i=0,s=t.length;i<s;i++){var o=null,a=t[i].trim();if(a.length>0){if(a.match(/^#/))continue;if(o=a.match(/^(.*)=(.*)$/))r.variables[o[1]]=o[2];else{var u=null;try{u=n._parseEntry("0 "+a),r.expressions.push(u.interval)}catch(e){r.errors[a]=e}}}}return r},n.parseFile=function(t,r){e("fs").readFile(t,(function(e,t){if(!e)return r(null,n.parseString(t.toString()));r(e)}))},t.exports=n}}},{package:"@metamask/snaps-utils>cron-parser",file:"node_modules/cron-parser/lib/parser.js"}],[264,{"../branchNodeStruct":229,"../type/composite":243,"./abstract":259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getContainerTreeViewClass=void 0;const i=e("../type/composite"),n=e("../branchNodeStruct"),s=e("./abstract");class o extends s.TreeView{constructor(e,t){super(),this.type=e,this.tree=t}get node(){return this.tree.rootNode}}r.getContainerTreeViewClass=function(e){class t extends o{}for(let r=0;r<e.fieldsEntries.length;r++){const{fieldName:s,fieldType:o}=e.fieldsEntries[r];if(o.isBasic)Object.defineProperty(t.prototype,s,{configurable:!1,enumerable:!0,get:function(){return this.tree.rootNode.value[s]},set:function(e){const t=this.tree.rootNode,r=this.type.clone(t.value);r[s]=e,this.tree.rootNode=new n.BranchNodeStruct(t.valueToNode,r)}});else{if(!i.isCompositeType(o))throw Error(`Unknown fieldType ${o.typeName} for fieldName ${s}`);Object.defineProperty(t.prototype,s,{configurable:!1,enumerable:!0,get:function(){const{value:e}=this.tree.rootNode;return o.toView(e[s])},set:function(e){const t=this.tree.rootNode,r=this.type.clone(t.value);r[s]=o.toValueFromView(e),this.tree.rootNode=new n.BranchNodeStruct(t.valueToNode,r)}})}}return Object.defineProperty(t,"name",{value:e.typeName,writable:!1}),t}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/view/containerNodeStruct.js"}],[2642,{debounce:2643,duplexer:2665,through:3922},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=e("through"),n=e("duplexer"),s=e("debounce");t.exports=function(e,t){var r=i(s((function(e){o.queue(e)}),e||100,t)),o=i();return n(r,o)}}}},{package:"debounce-stream",file:"node_modules/debounce-stream/index.js"}],[2643,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e,t,r){var i,n,s,o,a;function u(){var c=Date.now()-o;c<t&&c>=0?i=setTimeout(u,t-c):(i=null,r||(a=e.apply(s,n),s=n=null))}null==t&&(t=100);var c=function(){s=this,n=arguments,o=Date.now();var c=r&&!i;return i||(i=setTimeout(u,t)),c&&(a=e.apply(s,n),s=n=null),a};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(a=e.apply(s,n),s=n=null,clearTimeout(i),i=null)},c}}}},{package:"debounce-stream>debounce",file:"node_modules/debounce/index.js"}],[265,{"./arrayBasic":260,"@chainsafe/persistent-merkle-tree":218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ListBasicTreeView=void 0;const i=e("@chainsafe/persistent-merkle-tree"),n=e("./arrayBasic");class s extends n.ArrayBasicTreeView{constructor(e,t){super(e,t),this.type=e,this.tree=t}push(e){const t=this.length;if(t>=this.type.limit)throw Error("Error pushing over limit");if(this.type.tree_setLength(this.tree,t+1),t%this.type.itemsPerChunk==0){const r=i.LeafNode.fromZero();this.type.elementType.tree_setToPackedNode(r,t,e);const n=Math.floor(t/this.type.itemsPerChunk);this.tree.setNodeAtDepth(this.type.depth,n,r)}else this.set(t,e)}}r.ListBasicTreeView=s}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/view/listBasic.js"}],[266,{"./arrayComposite":261},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ListCompositeTreeView=void 0;const i=e("./arrayComposite");class n extends i.ArrayCompositeTreeView{constructor(e,t){super(e,t),this.type=e,this.tree=t}push(e){const t=this.length;if(t>=this.type.limit)throw Error("Error pushing over limit");this.type.tree_setLength(this.tree,t+1),this.set(t,e)}}r.ListCompositeTreeView=n}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/view/listComposite.js"}],[2665,{stream:2430},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=e("stream"),n=["write","end","destroy"],s=["resume","pause"],o=["data","close"],a=Array.prototype.slice;function u(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r)}t.exports=function(e,t){var r=new i,c=!1;return u(n,(function(t){function i(){return e[t].apply(e,arguments)}r[t]=i})),u(s,(function(e){function i(){r.emit(e);var i=t[e];if(i)return i.apply(t,arguments);t.emit(e)}r[e]=i})),u(o,(function(e){function i(){var t=a.call(arguments);t.unshift(e),r.emit.apply(r,t)}t.on(e,i)})),t.on("end",(function(){if(c)return;c=!0;var e=a.call(arguments);e.unshift("end"),r.emit.apply(r,e)})),e.on("drain",(function(){r.emit("drain")})),e.on("error",h),t.on("error",h),r.writable=e.writable,r.readable=t.readable,r;function h(e){r.emit("error",e)}}}}},{package:"debounce-stream>duplexer",file:"node_modules/duplexer/index.js"}],[267,{"../view/abstract":259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.TreeViewDU=void 0;const i=e("../view/abstract");class n extends i.TreeView{hashTreeRoot(){return this.commit(),super.hashTreeRoot()}serialize(){return this.commit(),super.serialize()}clone(e){if(e)return this.type.getViewDU(this.node);{const e=this.cache;return this.clearCache(),this.type.getViewDU(this.node,e)}}}r.TreeViewDU=n}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/viewDU/abstract.js"}],[268,{"./abstract":267,"@chainsafe/persistent-merkle-tree":218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ArrayBasicTreeViewDU=void 0;const i=e("@chainsafe/persistent-merkle-tree"),n=e("./abstract");class s extends n.TreeViewDU{constructor(e,t,r){super(),this.type=e,this._rootNode=t,this.nodesChanged=new Set,this.dirtyLength=!1,r?(this.nodes=r.nodes,this._length=r.length,this.nodesPopulated=r.nodesPopulated):(this.nodes=[],this._length=this.type.tree_getLength(t),this.nodesPopulated=!1)}get length(){return this._length}get node(){return this._rootNode}get cache(){return{nodes:this.nodes,length:this._length,nodesPopulated:this.nodesPopulated}}get(e){const t=Math.floor(e/this.type.itemsPerChunk);let r=this.nodes[t];return r===undefined&&(r=i.getNodeAtDepth(this._rootNode,this.type.depth,t),this.nodes[t]=r),this.type.elementType.tree_getFromPackedNode(r,e)}set(e,t){if(e>=this._length)throw Error(`Error setting index over length ${e} > ${this._length}`);const r=Math.floor(e/this.type.itemsPerChunk);let n;if(this.nodesChanged.has(r))n=this.nodes[r];else{n=(this.nodes[r]??i.getNodeAtDepth(this._rootNode,this.type.depth,r)).clone(),this.nodes[r]=n,this.nodesChanged.add(r)}this.type.elementType.tree_setToPackedNode(n,e,t)}getAll(){if(!this.nodesPopulated){const e=this.nodes,t=this.type.tree_getChunksNode(this.node),r=Math.ceil(this._length/this.type.itemsPerChunk);this.nodes=i.getNodesAtDepth(t,this.type.chunkDepth,0,r);for(const t of this.nodesChanged)this.nodes[t]=e[t];this.nodesPopulated=!0}const e=new Array(this._length),t=this.type.itemsPerChunk,r=Math.floor(this._length/t),n=this._length%t;for(let i=0;i<r;i++){const r=this.nodes[i];for(let n=0;n<t;n++)e[i*t+n]=this.type.elementType.tree_getFromPackedNode(r,n)}if(n>0){const i=this.nodes[r];for(let s=0;s<n;s++)e[r*t+s]=this.type.elementType.tree_getFromPackedNode(i,s)}return e}commit(){if(0===this.nodesChanged.size)return;const e=Array.from(this.nodesChanged.keys()).sort(((e,t)=>e-t)),t=new Array(e.length);for(let r=0;r<e.length;r++)t[r]=this.nodes[e[r]];const r=this.type.tree_getChunksNode(this._rootNode),n=i.setNodesAtDepth(r,this.type.chunkDepth,e,t);this._rootNode=this.type.tree_setChunksNode(this._rootNode,n,this.dirtyLength?this._length:undefined),this.nodesChanged.clear(),this.dirtyLength=!1}clearCache(){this.nodes=[],this.nodesPopulated=!1,this.nodesChanged.clear(),this.dirtyLength&&(this._length=this.type.tree_getLength(this._rootNode),this.dirtyLength=!1)}}r.ArrayBasicTreeViewDU=s}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/viewDU/arrayBasic.js"}],[2683,{"@metamask/safe-event-emitter":2688},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.BaseBlockTracker=void 0;const n=i(e("@metamask/safe-event-emitter")),s=(e,t)=>e+t,o=["sync","latest"];class a extends n.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||2e4,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){if(this._currentBlock)return this._currentBlock;return await new Promise((e=>this.once("latest",e)))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){o.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return o.map((e=>this.listenerCount(e))).reduce(s)}_newPotentialLatest(e){const t=this._currentBlock;t&&u(e)<=u(t)||this._setCurrentBlock(e)}_setCurrentBlock(e){const t=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:t,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}function u(e){return Number.parseInt(e,16)}r.BaseBlockTracker=a}}},{package:"@metamask/network-controller>eth-block-tracker",file:"node_modules/eth-block-tracker/dist/BaseBlockTracker.js"}],[2684,{"./BaseBlockTracker":2683,"./logging-utils":2687,"json-rpc-random-id":3336,pify:2689},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.PollingBlockTracker=void 0;const n=i(e("json-rpc-random-id")),s=i(e("pify")),o=e("./BaseBlockTracker"),a=e("./logging-utils"),u=(0,a.createModuleLogger)(a.projectLogger,"polling-block-tracker"),c=(0,n.default)();class h extends o.BaseBlockTracker{constructor(e={}){var t;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super({blockResetDuration:null!==(t=e.blockResetDuration)&&void 0!==t?t:e.pollingInterval}),this._provider=e.provider,this._pollingInterval=e.pollingInterval||2e4,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===undefined||e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const e=l(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await e}catch(t){const r=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:\n${null!==(e=t.stack)&&void 0!==e?e:t}`);try{this.emit("error",r)}catch(e){console.error(r)}const i=l(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:c(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),u("Making request",e);const t=await(0,s.default)((t=>this._provider.sendAsync(e,t)))();if(u("Got response",t),t.error)throw new Error(`PollingBlockTracker - encountered error fetching block:\n${t.error.message}`);return t.result}}function l(e,t){return new Promise((r=>{const i=setTimeout(r,e);i.unref&&t&&i.unref()}))}r.PollingBlockTracker=h}}},{package:"@metamask/network-controller>eth-block-tracker",file:"node_modules/eth-block-tracker/dist/PollingBlockTracker.js"}],[2685,{"./BaseBlockTracker":2683,"json-rpc-random-id":3336},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.SubscribeBlockTracker=void 0;const n=i(e("json-rpc-random-id")),s=e("./BaseBlockTracker"),o=(0,n.default)();class a extends s.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===undefined||null===this._subscriptionId)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(null!==this._subscriptionId&&this._subscriptionId!==undefined)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...t){return new Promise(((r,i)=>{this._provider.sendAsync({id:o(),method:e,params:t,jsonrpc:"2.0"},((e,t)=>{e?i(e):r(t.result)}))}))}_handleSubData(e,t){var r;"eth_subscription"===t.method&&(null===(r=t.params)||void 0===r?void 0:r.subscription)===this._subscriptionId&&this._newPotentialLatest(t.params.result.number)}}r.SubscribeBlockTracker=a}}},{package:"@metamask/network-controller>eth-block-tracker",file:"node_modules/eth-block-tracker/dist/SubscribeBlockTracker.js"}],[2686,{"./PollingBlockTracker":2684,"./SubscribeBlockTracker":2685},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){i===undefined&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===undefined&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e("./PollingBlockTracker"),r),n(e("./SubscribeBlockTracker"),r)}}},{package:"@metamask/network-controller>eth-block-tracker",file:"node_modules/eth-block-tracker/dist/index.js"}],[2687,{"@metamask/utils":1575},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createModuleLogger=r.projectLogger=void 0;const i=e("@metamask/utils");Object.defineProperty(r,"createModuleLogger",{enumerable:!0,get:function(){return i.createModuleLogger}}),r.projectLogger=(0,i.createProjectLogger)("eth-block-tracker")}}},{package:"@metamask/network-controller>eth-block-tracker",file:"node_modules/eth-block-tracker/dist/logging-utils.js"}],[2688,{events:2427},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const i=e("events");function n(e,t,r){try{Reflect.apply(e,t,r)}catch(e){setTimeout((()=>{throw e}))}}class s extends i.EventEmitter{emit(e,...t){let r="error"===e;const i=this._events;if(i!==undefined)r=r&&i.error===undefined;else if(!r)return!1;if(r){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const r=new Error("Unhandled error."+(e?` (${e.message})`:""));throw r.context=e,r}const s=i[e];if(s===undefined)return!1;if("function"==typeof s)n(s,this,t);else{const e=s.length,r=function(e){const t=e.length,r=new Array(t);for(let i=0;i<t;i+=1)r[i]=e[i];return r}(s);for(let i=0;i<e;i+=1)n(r[i],this,t)}return!0}}r.default=s}}},{package:"@metamask/network-controller>eth-block-tracker>@metamask/safe-event-emitter",file:"node_modules/eth-block-tracker/node_modules/@metamask/safe-event-emitter/index.js"}],[2689,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const i=(e,t)=>function(){const r=t.promiseModule,i=new Array(arguments.length);for(let e=0;e<arguments.length;e++)i[e]=arguments[e];return new r(((r,n)=>{t.errorFirst?i.push((function(e,i){if(t.multiArgs){const t=new Array(arguments.length-1);for(let e=1;e<arguments.length;e++)t[e-1]=arguments[e];e?(t.unshift(e),n(t)):r(t)}else e?n(e):r(i)})):i.push((function(e){if(t.multiArgs){const e=new Array(arguments.length-1);for(let t=0;t<arguments.length;t++)e[t]=arguments[t];r(e)}else r(e)})),e.apply(this,i)}))};t.exports=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);const r=e=>{const r=t=>"string"==typeof t?e===t:t.test(e);return t.include?t.include.some(r):!t.exclude.some(r)};let n;n="function"==typeof e?function(){return t.excludeMain?e.apply(this,arguments):i(e,t).apply(this,arguments)}:Object.create(Object.getPrototypeOf(e));for(const s in e){const o=e[s];n[s]="function"==typeof o&&r(s)?i(o,t):o}return n}}}},{package:"@metamask/network-controller>eth-block-tracker>pify",file:"node_modules/eth-block-tracker/node_modules/pify/index.js"}],[269,{"./abstract":267,"@chainsafe/persistent-merkle-tree":218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ArrayCompositeTreeViewDU=void 0;const i=e("@chainsafe/persistent-merkle-tree"),n=e("./abstract");class s extends n.TreeViewDU{constructor(e,t,r){super(),this.type=e,this._rootNode=t,this.viewsChanged=new Map,this.dirtyLength=!1,r?(this.nodes=r.nodes,this.caches=r.caches,this._length=r.length,this.nodesPopulated=r.nodesPopulated):(this.nodes=[],this.caches=[],this._length=this.type.tree_getLength(t),this.nodesPopulated=0===this._length)}get length(){return this._length}get node(){return this._rootNode}get cache(){return{nodes:this.nodes,caches:this.caches,length:this._length,nodesPopulated:this.nodesPopulated}}get(e){const t=this.viewsChanged.get(e);if(t)return t;let r=this.nodes[e];r===undefined&&(r=i.getNodeAtDepth(this._rootNode,this.type.depth,e),this.nodes[e]=r);const n=this.type.elementType.getViewDU(r,this.caches[e]);return this.type.elementType.isViewMutable&&this.viewsChanged.set(e,n),n}getReadonly(e){const t=this.viewsChanged.get(e);if(t)return t;let r=this.nodes[e];return r===undefined&&(r=i.getNodeAtDepth(this._rootNode,this.type.depth,e),this.nodes[e]=r),this.type.elementType.getViewDU(r,this.caches[e])}set(e,t){if(e>=this._length)throw Error(`Error setting index over length ${e} > ${this._length}`);this.viewsChanged.set(e,t)}getAllReadonly(){this.populateAllNodes();const e=new Array(this._length);for(let t=0;t<this._length;t++)e[t]=this.type.elementType.getViewDU(this.nodes[t],this.caches[t]);return e}getAllReadonlyValues(){this.populateAllNodes();const e=new Array(this._length);for(let t=0;t<this._length;t++)e[t]=this.type.elementType.tree_toValue(this.nodes[t]);return e}commit(){if(0===this.viewsChanged.size)return;const e=[];for(const[t,r]of this.viewsChanged){const i=this.type.elementType.commitViewDU(r);this.nodes[t]=i,e.push({index:t,node:i});const n=this.type.elementType.cacheOfViewDU(r);n&&(this.caches[t]=n)}const t=e.sort(((e,t)=>e.index-t.index)),r=t.map((e=>e.index)),n=t.map((e=>e.node)),s=this.type.tree_getChunksNode(this._rootNode),o=i.setNodesAtDepth(s,this.type.chunkDepth,r,n);this._rootNode=this.type.tree_setChunksNode(this._rootNode,o,this.dirtyLength?this._length:undefined),this.viewsChanged.clear(),this.dirtyLength=!1}clearCache(){this.nodes=[],this.caches=[],this.nodesPopulated=!1,this.viewsChanged.clear(),this.dirtyLength&&(this._length=this.type.tree_getLength(this._rootNode),this.dirtyLength=!1)}populateAllNodes(){if(this.viewsChanged.size>0)throw Error("Must commit changes before reading all nodes");this.nodesPopulated||(this.nodes=i.getNodesAtDepth(this._rootNode,this.type.depth,0,this.length),this.nodesPopulated=!0)}}r.ArrayCompositeTreeViewDU=s}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/viewDU/arrayComposite.js"}],[2690,{"./util":2694,"bn.js":2377,"buffer/":2692},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const i=e("./util"),n=e("bn.js"),s=e("buffer/").Buffer;function o(e){return e.startsWith("int[")?"int256"+e.slice(3):"int"===e?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):"uint"===e?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):"fixed"===e?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):"ufixed"===e?"ufixed128x128":e}function a(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function u(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function c(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?""===t[2]?"dynamic":parseInt(t[2],10):null}function h(e){var t=typeof e;if("string"===t)return i.isHexString(e)?new n(i.stripHexPrefix(e),16):new n(e,10);if("number"===t)return new n(e);if(e.toArray)return e;throw new Error("Argument is not a number")}function l(e,t){var r,o,f,d;if("address"===e)return l("uint160",h(t));if("bool"===e)return l("uint8",t?1:0);if("string"===e)return l("bytes",new s(t,"utf8"));if(function(e){return e.lastIndexOf("]")===e.length-1}(e)){if(void 0===t.length)throw new Error("Not an array?");if("dynamic"!==(r=c(e))&&0!==r&&t.length>r)throw new Error("Elements exceed array size: "+r);for(d in f=[],e=e.slice(0,e.lastIndexOf("[")),"string"==typeof t&&(t=JSON.parse(t)),t)f.push(l(e,t[d]));if("dynamic"===r){var p=l("uint256",t.length);f.unshift(p)}return s.concat(f)}if("bytes"===e)return t=new s(t),f=s.concat([l("uint256",t.length),t]),t.length%32!=0&&(f=s.concat([f,i.zeros(32-t.length%32)])),f;if(e.startsWith("bytes")){if((r=a(e))<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return i.setLengthRight(t,32)}if(e.startsWith("uint")){if((r=a(e))%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if((o=h(t)).bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+o.bitLength());if(o<0)throw new Error("Supplied uint is negative");return o.toArrayLike(s,"be",32)}if(e.startsWith("int")){if((r=a(e))%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if((o=h(t)).bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+o.bitLength());return o.toTwos(256).toArrayLike(s,"be",32)}if(e.startsWith("ufixed")){if(r=u(e),(o=h(t))<0)throw new Error("Supplied ufixed is negative");return l("uint256",o.mul(new n(2).pow(new n(r[1]))))}if(e.startsWith("fixed"))return r=u(e),l("int256",h(t).mul(new n(2).pow(new n(r[1]))));throw new Error("Unsupported or invalid type: "+e)}function f(e){return"string"===e||"bytes"===e||"dynamic"===c(e)}function d(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var r,n,u=[],c=0;c<e.length;c++){var l=o(e[c]),f=t[c];if("bytes"===l)u.push(f);else if("string"===l)u.push(new s(f,"utf8"));else if("bool"===l)u.push(new s(f?"01":"00","hex"));else if("address"===l)u.push(i.setLength(f,20));else if(l.startsWith("bytes")){if((r=a(l))<1||r>32)throw new Error("Invalid bytes<N> width: "+r);u.push(i.setLengthRight(f,r))}else if(l.startsWith("uint")){if((r=a(l))%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if((n=h(f)).bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());u.push(n.toArrayLike(s,"be",r/8))}else{if(!l.startsWith("int"))throw new Error("Unsupported or invalid type: "+l);if((r=a(l))%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if((n=h(f)).bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());u.push(n.toTwos(r).toArrayLike(s,"be",r/8))}}return s.concat(u)}t.exports={rawEncode:function(e,t){var r=[],i=[],n=32*e.length;for(var a in e){var u=o(e[a]),c=l(u,t[a]);f(u)?(r.push(l("uint256",n)),i.push(c),n+=c.length):r.push(c)}return s.concat(r.concat(i))},solidityPack:d,soliditySHA3:function(e,t){return i.keccak(d(e,t))}}}}},{package:"eth-lattice-keyring>gridplus-sdk>eth-eip712-util-browser",file:"node_modules/eth-eip712-util-browser/abi.js"}],[2691,{"./abi":2690,"./util":2694,"buffer/":2692},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const i=e("./util"),n=e("./abi"),s=e("buffer/").Buffer,o={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},a={encodeData(e,t,r,o=!0){const a=["bytes32"],u=[this.hashType(e,r)];if(o){const c=(e,t,a)=>{if(r[t]!==undefined)return["bytes32",null==a?"0x0000000000000000000000000000000000000000000000000000000000000000":i.keccak(this.encodeData(t,a,r,o))];if(a===undefined)throw new Error(`missing value for field ${e} of type ${t}`);if("bytes"===t)return["bytes32",i.keccak(a)];if("string"===t)return"string"==typeof a&&(a=s.from(a,"utf8")),["bytes32",i.keccak(a)];if(t.lastIndexOf("]")===t.length-1){const r=t.slice(0,t.lastIndexOf("[")),s=a.map((t=>c(e,r,t)));return["bytes32",i.keccak(n.rawEncode(s.map((([e])=>e)),s.map((([,e])=>e))))]}return[t,a]};for(const i of r[e]){const[e,r]=c(i.name,i.type,t[i.name]);a.push(e),u.push(r)}}else for(const n of r[e]){let e=t[n.name];if(e!==undefined)if("bytes"===n.type)a.push("bytes32"),e=i.keccak(e),u.push(e);else if("string"===n.type)a.push("bytes32"),"string"==typeof e&&(e=s.from(e,"utf8")),e=i.keccak(e),u.push(e);else if(r[n.type]!==undefined)a.push("bytes32"),e=i.keccak(this.encodeData(n.type,e,r,o)),u.push(e);else{if(n.type.lastIndexOf("]")===n.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");a.push(n.type),u.push(e)}}return n.rawEncode(a,u)},encodeType(e,t){let r="",i=this.findTypeDependencies(e,t).filter((t=>t!==e));i=[e].concat(i.sort());for(const e of i){if(!t[e])throw new Error("No type definition specified: "+e);r+=e+"("+t[e].map((({name:e,type:t})=>t+" "+e)).join(",")+")"}return r},findTypeDependencies(e,t,r=[]){if(e=e.match(/^\w*/)[0],r.includes(e)||t[e]===undefined)return r;r.push(e);for(const i of t[e])for(const e of this.findTypeDependencies(i.type,t,r))!r.includes(e)&&r.push(e);return r},hashStruct(e,t,r,n=!0){return i.keccak(this.encodeData(e,t,r,n))},hashType(e,t){return i.keccak(this.encodeType(e,t))},sanitizeData(e){const t={};for(const r in o.properties)e[r]&&(t[r]=e[r]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash(e,t=!0){const r=this.sanitizeData(e),n=[s.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,t)),"EIP712Domain"!==r.primaryType&&n.push(this.hashStruct(r.primaryType,r.message,r.types,t)),i.keccak(s.concat(n))}};t.exports={TYPED_MESSAGE_SCHEMA:o,TypedDataUtils:a,hashForSignTypedDataLegacy:function(e){return function(e){const t=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!e.length)throw t;const r=e.map((function(e){return"bytes"===e.type?i.toBuffer(e.value):e.value})),s=e.map((function(e){return e.type})),o=e.map((function(e){if(!e.name)throw t;return e.type+" "+e.name}));return n.soliditySHA3(["bytes32","bytes32"],[n.soliditySHA3(new Array(e.length).fill("string"),o),n.soliditySHA3(s,r)])}(e.data)},hashForSignTypedData_v3:function(e){return a.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return a.hash(e.data)}}}}},{package:"eth-lattice-keyring>gridplus-sdk>eth-eip712-util-browser",file:"node_modules/eth-eip712-util-browser/index.js"}],[2692,{"base64-js":2327,ieee754:3302},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const i=e("base64-js"),n=e("ieee754"),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=u,r.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},r.INSPECT_MAX_BYTES=50;const o=2147483647;function a(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return c(e,t,r)}function c(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|g(e,t);let i=a(r);const n=i.write(e,t);n!==r&&(i=i.slice(0,n));return i}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return d(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return u.from(i,t,r);const n=function(e){if(u.isBuffer(e)){const t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(e.length!==undefined)return"number"!=typeof e.length||J(e.length)?a(0):f(e);if("Buffer"===e.type&&Array.isArray(e.data))return f(e.data)}(e);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+typeof e)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return h(e),a(e<0?0:0|p(e))}function f(e){const t=e.length<0?0:0|p(e.length),r=a(t);for(let i=0;i<t;i+=1)r[i]=255&e[i];return r}function d(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let i;return i=t===undefined&&r===undefined?new Uint8Array(e):r===undefined?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(i,u.prototype),i}function p(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+o.toString(16)+" bytes");return 0|e}function g(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. '+"Received type "+typeof e);const r=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;let n=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(n)return i?-1:$(e).length;t=(""+t).toLowerCase(),n=!0}}function y(e,t,r){let i=!1;if((t===undefined||t<0)&&(t=0),t>this.length)return"";if((r===undefined||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,r);case"utf8":case"utf-8":return S(this,t,r);case"ascii":return B(this,t,r);case"latin1":case"binary":return x(this,t,r);case"base64":return A(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,r);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function m(e,t,r){const i=e[t];e[t]=e[r],e[r]=i}function b(e,t,r,i,n){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=n?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(n)return-1;r=e.length-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof t&&(t=u.from(t,i)),u.isBuffer(t))return 0===t.length?-1:w(e,t,r,i,n);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,i,n);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,i,n){let s,o=1,a=e.length,u=t.length;if(i!==undefined&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;o=2,a/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(n){let i=-1;for(s=r;s<a;s++)if(c(e,s)===c(t,-1===i?0:s-i)){if(-1===i&&(i=s),s-i+1===u)return i*o}else-1!==i&&(s-=s-i),i=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){let r=!0;for(let i=0;i<u;i++)if(c(e,s+i)!==c(t,i)){r=!1;break}if(r)return s}return-1}function v(e,t,r,i){r=Number(r)||0;const n=e.length-r;i?(i=Number(i))>n&&(i=n):i=n;const s=t.length;let o;for(i>s/2&&(i=s/2),o=0;o<i;++o){const i=parseInt(t.substr(2*o,2),16);if(J(i))return o;e[r+o]=i}return o}function _(e,t,r,i){return W($(t,e.length-r),e,r,i)}function T(e,t,r,i){return W(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,i)}function k(e,t,r,i){return W(q(t),e,r,i)}function E(e,t,r,i){return W(function(e,t){let r,i,n;const s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),i=r>>8,n=r%256,s.push(n),s.push(i);return s}(t,e.length-r),e,r,i)}function A(e,t,r){return 0===t&&r===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,r))}function S(e,t,r){r=Math.min(e.length,r);const i=[];let n=t;for(;n<r;){const t=e[n];let s=null,o=t>239?4:t>223?3:t>191?2:1;if(n+o<=r){let r,i,a,u;switch(o){case 1:t<128&&(s=t);break;case 2:r=e[n+1],128==(192&r)&&(u=(31&t)<<6|63&r,u>127&&(s=u));break;case 3:r=e[n+1],i=e[n+2],128==(192&r)&&128==(192&i)&&(u=(15&t)<<12|(63&r)<<6|63&i,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:r=e[n+1],i=e[n+2],a=e[n+3],128==(192&r)&&128==(192&i)&&128==(192&a)&&(u=(15&t)<<18|(63&r)<<12|(63&i)<<6|63&a,u>65535&&u<1114112&&(s=u))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|1023&s),i.push(s),n+=o}return function(e){const t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);let r="",i=0;for(;i<t;)r+=String.fromCharCode.apply(String,e.slice(i,i+=I));return r}(i)}r.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by "+"`buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){return u.isBuffer(this)?this.buffer:undefined}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){return u.isBuffer(this)?this.byteOffset:undefined}}),u.poolSize=8192,u.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return function(e,t,r){return h(e),e<=0?a(e):t!==undefined?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},u.allocUnsafe=function(e){return l(e)},u.allocUnsafeSlow=function(e){return l(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,i=t.length;for(let n=0,s=Math.min(r,i);n<s;++n)if(e[n]!==t[n]){r=e[n],i=t[n];break}return r<i?-1:i<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let r;if(t===undefined)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const i=u.allocUnsafe(t);let n=0;for(r=0;r<e.length;++r){let t=e[r];if(Y(t,Uint8Array))n+t.length>i.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(i,n)):Uint8Array.prototype.set.call(i,t,n);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(i,n)}n+=t.length}return i},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):y.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(e,t,r,i,n){if(Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. '+"Received type "+typeof e);if(t===undefined&&(t=0),r===undefined&&(r=e?e.length:0),i===undefined&&(i=0),n===undefined&&(n=this.length),t<0||r>e.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&t>=r)return 0;if(i>=n)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(n>>>=0)-(i>>>=0),o=(r>>>=0)-(t>>>=0);const a=Math.min(s,o),c=this.slice(i,n),h=e.slice(t,r);for(let e=0;e<a;++e)if(c[e]!==h[e]){s=c[e],o=h[e];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},u.prototype.write=function(e,t,r,i){if(t===undefined)i="utf8",r=this.length,t=0;else if(r===undefined&&"string"==typeof t)i=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,i===undefined&&(i="utf8")):(i=r,r=undefined)}const n=this.length-t;if((r===undefined||r>n)&&(r=n),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":case"latin1":case"binary":return T(this,e,t,r);case"base64":return k(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function B(e,t,r){let i="";r=Math.min(e.length,r);for(let n=t;n<r;++n)i+=String.fromCharCode(127&e[n]);return i}function x(e,t,r){let i="";r=Math.min(e.length,r);for(let n=t;n<r;++n)i+=String.fromCharCode(e[n]);return i}function P(e,t,r){const i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);let n="";for(let i=t;i<r;++i)n+=Z[e[i]];return n}function N(e,t,r){const i=e.slice(t,r);let n="";for(let e=0;e<i.length-1;e+=2)n+=String.fromCharCode(i[e]+256*i[e+1]);return n}function L(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,r,i,n,s){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<s)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function C(e,t,r,i,n){V(t,i,n,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function j(e,t,r,i,n){V(t,i,n,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function z(e,t,r,i,n,s){if(r+i>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function R(e,t,r,i,s){return t=+t,r>>>=0,s||z(e,0,r,4),n.write(e,t,r,i,23,4),r+4}function U(e,t,r,i,s){return t=+t,r>>>=0,s||z(e,0,r,8),n.write(e,t,r,i,52,8),r+8}u.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=t===undefined?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const i=this.subarray(e,t);return Object.setPrototypeOf(i,u.prototype),i},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let i=this[e],n=1,s=0;for(;++s<t&&(n*=256);)i+=this[e+s]*n;return i},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let i=this[e+--t],n=1;for(;t>0&&(n*=256);)i+=this[e+--t]*n;return i},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=X((function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];t!==undefined&&r!==undefined||G(e,this.length-8);const i=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,n=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(i)+(BigInt(n)<<BigInt(32))})),u.prototype.readBigUInt64BE=X((function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];t!==undefined&&r!==undefined||G(e,this.length-8);const i=t*2**24+65536*this[++e]+256*this[++e]+this[++e],n=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(i)<<BigInt(32))+BigInt(n)})),u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let i=this[e],n=1,s=0;for(;++s<t&&(n*=256);)i+=this[e+s]*n;return n*=128,i>=n&&(i-=Math.pow(2,8*t)),i},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let i=t,n=1,s=this[e+--i];for(;i>0&&(n*=256);)s+=this[e+--i]*n;return n*=128,s>=n&&(s-=Math.pow(2,8*t)),s},u.prototype.readInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||L(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||L(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=X((function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];t!==undefined&&r!==undefined||G(e,this.length-8);const i=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(i)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=X((function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];t!==undefined&&r!==undefined||G(e,this.length-8);const i=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||L(e,4,this.length),n.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||L(e,4,this.length),n.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||L(e,8,this.length),n.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||L(e,8,this.length),n.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,i){if(e=+e,t>>>=0,r>>>=0,!i){O(this,e,t,r,Math.pow(2,8*r)-1,0)}let n=1,s=0;for(this[t]=255&e;++s<r&&(n*=256);)this[t+s]=e/n&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,i){if(e=+e,t>>>=0,r>>>=0,!i){O(this,e,t,r,Math.pow(2,8*r)-1,0)}let n=r-1,s=1;for(this[t+n]=255&e;--n>=0&&(s*=256);)this[t+n]=e/s&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=X((function(e,t=0){return C(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=X((function(e,t=0){return j(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,r,i){if(e=+e,t>>>=0,!i){const i=Math.pow(2,8*r-1);O(this,e,t,r,i-1,-i)}let n=0,s=1,o=0;for(this[t]=255&e;++n<r&&(s*=256);)e<0&&0===o&&0!==this[t+n-1]&&(o=1),this[t+n]=(e/s>>0)-o&255;return t+r},u.prototype.writeIntBE=function(e,t,r,i){if(e=+e,t>>>=0,!i){const i=Math.pow(2,8*r-1);O(this,e,t,r,i-1,-i)}let n=r-1,s=1,o=0;for(this[t+n]=255&e;--n>=0&&(s*=256);)e<0&&0===o&&0!==this[t+n+1]&&(o=1),this[t+n]=(e/s>>0)-o&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=X((function(e,t=0){return C(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=X((function(e,t=0){return j(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,r){return R(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return R(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,i){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);const n=i-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,i):Uint8Array.prototype.set.call(e,this.subarray(r,i),t),n},u.prototype.fill=function(e,t,r,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),i!==undefined&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!u.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){const t=e.charCodeAt(0);("utf8"===i&&t<128||"latin1"===i)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let n;if(t>>>=0,r=r===undefined?this.length:r>>>0,e||(e=0),"number"==typeof e)for(n=t;n<r;++n)this[n]=e;else{const s=u.isBuffer(e)?e:u.from(e,i),o=s.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(n=0;n<r-t;++n)this[n+t]=s[n%o]}return this};const M={};function F(e,t,r){M[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function D(e){let t="",r=e.length;const i="-"===e[0]?1:0;for(;r>=i+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function V(e,t,r,i,n,s){if(e>r||e<t){const i="bigint"==typeof t?"n":"";let n;throw n=s>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${8*(s+1)}${i}`:`>= -(2${i} ** ${8*(s+1)-1}${i}) and < 2 ** ${8*(s+1)-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new M.ERR_OUT_OF_RANGE("value",n,e)}!function(e,t,r){H(t,"offset"),e[t]!==undefined&&e[t+r]!==undefined||G(t,e.length-(r+1))}(i,n,s)}function H(e,t){if("number"!=typeof e)throw new M.ERR_INVALID_ARG_TYPE(t,"number",e)}function G(e,t,r){if(Math.floor(e)!==e)throw H(e,r),new M.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new M.ERR_BUFFER_OUT_OF_BOUNDS;throw new M.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(e,t,r){let i=`The value of "${e}" is out of range.`,n=r;return Number.isInteger(r)&&Math.abs(r)>2**32?n=D(String(r)):"bigint"==typeof r&&(n=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(n=D(n)),n+="n"),i+=` It must be ${t}. Received ${n}`,i}),RangeError);const K=/[^+/0-9A-Za-z-_]/g;function $(e,t){let r;t=t||Infinity;const i=e.length;let n=null;const s=[];for(let o=0;o<i;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!n){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===i){(t-=3)>-1&&s.push(239,191,189);continue}n=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(t-=3)>-1&&s.push(239,191,189);if(n=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function q(e){return i.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,r,i){let n;for(n=0;n<i&&!(n+r>=t.length||n>=e.length);++n)t[n+r]=e[n];return n}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!=e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const i=16*r;for(let n=0;n<16;++n)t[i+n]=e[r]+e[n]}return t}();function X(e){return"undefined"==typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}}}},{package:"eth-lattice-keyring>gridplus-sdk>eth-eip712-util-browser>buffer",file:"node_modules/eth-eip712-util-browser/node_modules/buffer/index.js"}],[2693,{_process:3641},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */
!function(){var r="input is invalid type",i="object"==typeof window,n=i?window:{};n.JS_SHA3_NO_WINDOW&&(i=!1);var s=!i&&"object"==typeof self;!n.JS_SHA3_NO_NODE_JS&&"object"==typeof e&&e.versions&&e.versions.node?n=global:s&&(n=self);var o=!n.JS_SHA3_NO_COMMON_JS&&"object"==typeof t&&t.exports,a="function"==typeof define&&define.amd,u=!n.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,c="0123456789abcdef".split(""),h=[4,1024,262144,67108864],l=[0,8,16,24],f=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],d=[224,256,384,512],p=[128,256],g=["hex","buffer","arrayBuffer","array","digest"],y={128:168,256:136};!n.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!u||!n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var m=function(e,t,r){return function(i){return new L(e,t,e).update(i)[r]()}},b=function(e,t,r){return function(i,n){return new L(e,t,n).update(i)[r]()}},w=function(e,t,r){return function(t,i,n,s){return E["cshake"+e].update(t,i,n,s)[r]()}},v=function(e,t,r){return function(t,i,n,s){return E["kmac"+e].update(t,i,n,s)[r]()}},_=function(e,t,r,i){for(var n=0;n<g.length;++n){var s=g[n];e[s]=t(r,i,s)}return e},T=function(e,t){var r=m(e,t,"hex");return r.create=function(){return new L(e,t,e)},r.update=function(e){return r.create().update(e)},_(r,m,e,t)},k=[{name:"keccak",padding:[1,256,65536,16777216],bits:d,createMethod:T},{name:"sha3",padding:[6,1536,393216,100663296],bits:d,createMethod:T},{name:"shake",padding:[31,7936,2031616,520093696],bits:p,createMethod:function(e,t){var r=b(e,t,"hex");return r.create=function(r){return new L(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},_(r,b,e,t)}},{name:"cshake",padding:h,bits:p,createMethod:function(e,t){var r=y[e],i=w(e,0,"hex");return i.create=function(i,n,s){return n||s?new L(e,t,i).bytepad([n,s],r):E["shake"+e].create(i)},i.update=function(e,t,r,n){return i.create(t,r,n).update(e)},_(i,w,e,t)}},{name:"kmac",padding:h,bits:p,createMethod:function(e,t){var r=y[e],i=v(e,0,"hex");return i.create=function(i,n,s){return new O(e,t,n).bytepad(["KMAC",s],r).bytepad([i],r)},i.update=function(e,t,r,n){return i.create(e,r,n).update(t)},_(i,v,e,t)}}],E={},A=[],S=0;S<k.length;++S)for(var I=k[S],B=I.bits,x=0;x<B.length;++x){var P=I.name+"_"+B[x];if(A.push(P),E[P]=I.createMethod(B[x],I.padding),"sha3"!==I.name){var N=I.name+B[x];A.push(N),E[N]=E[P]}}function L(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var i=0;i<50;++i)this.s[i]=0}function O(e,t,r){L.call(this,e,t,r)}L.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,i=typeof e;if("string"!==i){if("object"!==i)throw new Error(r);if(null===e)throw new Error(r);if(u&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||u&&ArrayBuffer.isView(e)))throw new Error(r);t=!0}for(var n,s,o=this.blocks,a=this.byteCount,c=e.length,h=this.blockCount,f=0,d=this.s;f<c;){if(this.reset)for(this.reset=!1,o[0]=this.block,n=1;n<h+1;++n)o[n]=0;if(t)for(n=this.start;f<c&&n<a;++f)o[n>>2]|=e[f]<<l[3&n++];else for(n=this.start;f<c&&n<a;++f)(s=e.charCodeAt(f))<128?o[n>>2]|=s<<l[3&n++]:s<2048?(o[n>>2]|=(192|s>>6)<<l[3&n++],o[n>>2]|=(128|63&s)<<l[3&n++]):s<55296||s>=57344?(o[n>>2]|=(224|s>>12)<<l[3&n++],o[n>>2]|=(128|s>>6&63)<<l[3&n++],o[n>>2]|=(128|63&s)<<l[3&n++]):(s=65536+((1023&s)<<10|1023&e.charCodeAt(++f)),o[n>>2]|=(240|s>>18)<<l[3&n++],o[n>>2]|=(128|s>>12&63)<<l[3&n++],o[n>>2]|=(128|s>>6&63)<<l[3&n++],o[n>>2]|=(128|63&s)<<l[3&n++]);if(this.lastByteIndex=n,n>=a){for(this.start=n-a,this.block=o[h],n=0;n<h;++n)d[n]^=o[n];C(d),this.reset=!0}else this.start=n}return this},L.prototype.encode=function(e,t){var r=255&e,i=1,n=[r];for(r=255&(e>>=8);r>0;)n.unshift(r),r=255&(e>>=8),++i;return t?n.push(i):n.unshift(i),this.update(n),n.length},L.prototype.encodeString=function(e){var t,i=typeof e;if("string"!==i){if("object"!==i)throw new Error(r);if(null===e)throw new Error(r);if(u&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||u&&ArrayBuffer.isView(e)))throw new Error(r);t=!0}var n=0,s=e.length;if(t)n=s;else for(var o=0;o<e.length;++o){var a=e.charCodeAt(o);a<128?n+=1:a<2048?n+=2:a<55296||a>=57344?n+=3:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++o)),n+=4)}return n+=this.encode(8*n),this.update(e),n},L.prototype.bytepad=function(e,t){for(var r=this.encode(t),i=0;i<e.length;++i)r+=this.encodeString(e[i]);var n=t-r%t,s=[];return s.length=n,this.update(s),this},L.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,i=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)i[t]^=e[t];C(i)}},L.prototype.toString=L.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,i=this.outputBlocks,n=this.extraBytes,s=0,o=0,a="";o<i;){for(s=0;s<t&&o<i;++s,++o)e=r[s],a+=c[e>>4&15]+c[15&e]+c[e>>12&15]+c[e>>8&15]+c[e>>20&15]+c[e>>16&15]+c[e>>28&15]+c[e>>24&15];o%t==0&&(C(r),s=0)}return n&&(e=r[s],a+=c[e>>4&15]+c[15&e],n>1&&(a+=c[e>>12&15]+c[e>>8&15]),n>2&&(a+=c[e>>20&15]+c[e>>16&15])),a},L.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,i=this.outputBlocks,n=this.extraBytes,s=0,o=0,a=this.outputBits>>3;e=n?new ArrayBuffer(i+1<<2):new ArrayBuffer(a);for(var u=new Uint32Array(e);o<i;){for(s=0;s<t&&o<i;++s,++o)u[o]=r[s];o%t==0&&C(r)}return n&&(u[s]=r[s],e=e.slice(0,a)),e},L.prototype.buffer=L.prototype.arrayBuffer,L.prototype.digest=L.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,i=this.s,n=this.outputBlocks,s=this.extraBytes,o=0,a=0,u=[];a<n;){for(o=0;o<r&&a<n;++o,++a)e=a<<2,t=i[o],u[e]=255&t,u[e+1]=t>>8&255,u[e+2]=t>>16&255,u[e+3]=t>>24&255;a%r==0&&C(i)}return s&&(e=a<<2,t=i[o],u[e]=255&t,s>1&&(u[e+1]=t>>8&255),s>2&&(u[e+2]=t>>16&255)),u},O.prototype=new L,O.prototype.finalize=function(){return this.encode(this.outputBits,!0),L.prototype.finalize.call(this)};var C=function(e){var t,r,i,n,s,o,a,u,c,h,l,d,p,g,y,m,b,w,v,_,T,k,E,A,S,I,B,x,P,N,L,O,C,j,z,R,U,M,F,D,V,H,G,K,$,q,W,Y,J,Z,X,Q,ee,te,re,ie,ne,se,oe,ae,ue,ce,he;for(i=0;i<48;i+=2)n=e[0]^e[10]^e[20]^e[30]^e[40],s=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],h=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],t=(d=e[8]^e[18]^e[28]^e[38]^e[48])^(o<<1|a>>>31),r=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(a<<1|o>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=n^(u<<1|c>>>31),r=s^(c<<1|u>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=o^(h<<1|l>>>31),r=a^(l<<1|h>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=u^(d<<1|p>>>31),r=c^(p<<1|d>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=h^(n<<1|s>>>31),r=l^(s<<1|n>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,g=e[0],y=e[1],q=e[11]<<4|e[10]>>>28,W=e[10]<<4|e[11]>>>28,x=e[20]<<3|e[21]>>>29,P=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,ue=e[30]<<9|e[31]>>>23,H=e[40]<<18|e[41]>>>14,G=e[41]<<18|e[40]>>>14,j=e[2]<<1|e[3]>>>31,z=e[3]<<1|e[2]>>>31,m=e[13]<<12|e[12]>>>20,b=e[12]<<12|e[13]>>>20,Y=e[22]<<10|e[23]>>>22,J=e[23]<<10|e[22]>>>22,N=e[33]<<13|e[32]>>>19,L=e[32]<<13|e[33]>>>19,ce=e[42]<<2|e[43]>>>30,he=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,R=e[14]<<6|e[15]>>>26,U=e[15]<<6|e[14]>>>26,w=e[25]<<11|e[24]>>>21,v=e[24]<<11|e[25]>>>21,Z=e[34]<<15|e[35]>>>17,X=e[35]<<15|e[34]>>>17,O=e[45]<<29|e[44]>>>3,C=e[44]<<29|e[45]>>>3,A=e[6]<<28|e[7]>>>4,S=e[7]<<28|e[6]>>>4,ie=e[17]<<23|e[16]>>>9,ne=e[16]<<23|e[17]>>>9,M=e[26]<<25|e[27]>>>7,F=e[27]<<25|e[26]>>>7,_=e[36]<<21|e[37]>>>11,T=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,K=e[8]<<27|e[9]>>>5,$=e[9]<<27|e[8]>>>5,I=e[18]<<20|e[19]>>>12,B=e[19]<<20|e[18]>>>12,se=e[29]<<7|e[28]>>>25,oe=e[28]<<7|e[29]>>>25,D=e[38]<<8|e[39]>>>24,V=e[39]<<8|e[38]>>>24,k=e[48]<<14|e[49]>>>18,E=e[49]<<14|e[48]>>>18,e[0]=g^~m&w,e[1]=y^~b&v,e[10]=A^~I&x,e[11]=S^~B&P,e[20]=j^~R&M,e[21]=z^~U&F,e[30]=K^~q&Y,e[31]=$^~W&J,e[40]=te^~ie&se,e[41]=re^~ne&oe,e[2]=m^~w&_,e[3]=b^~v&T,e[12]=I^~x&N,e[13]=B^~P&L,e[22]=R^~M&D,e[23]=U^~F&V,e[32]=q^~Y&Z,e[33]=W^~J&X,e[42]=ie^~se&ae,e[43]=ne^~oe&ue,e[4]=w^~_&k,e[5]=v^~T&E,e[14]=x^~N&O,e[15]=P^~L&C,e[24]=M^~D&H,e[25]=F^~V&G,e[34]=Y^~Z&Q,e[35]=J^~X&ee,e[44]=se^~ae&ce,e[45]=oe^~ue&he,e[6]=_^~k&g,e[7]=T^~E&y,e[16]=N^~O&A,e[17]=L^~C&S,e[26]=D^~H&j,e[27]=V^~G&z,e[36]=Z^~Q&K,e[37]=X^~ee&$,e[46]=ae^~ce&te,e[47]=ue^~he&re,e[8]=k^~g&m,e[9]=E^~y&b,e[18]=O^~A&I,e[19]=C^~S&B,e[28]=H^~j&R,e[29]=G^~z&U,e[38]=Q^~K&q,e[39]=ee^~$&W,e[48]=ce^~te&ie,e[49]=he^~re&ne,e[0]^=f[i],e[1]^=f[i+1]};if(o)t.exports=E;else{for(S=0;S<A.length;++S)n[A[S]]=E[A[S]];a&&define((function(){return E}))}}()}).call(this)}).call(this,e("_process"))}}},{package:"eth-lattice-keyring>gridplus-sdk>eth-eip712-util-browser>js-sha3",file:"node_modules/eth-eip712-util-browser/node_modules/js-sha3/src/sha3.js"}],[2694,{"bn.js":2377,"buffer/":2692,"js-sha3":2693},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const i=e("bn.js"),n=e("buffer/").Buffer,s=e("js-sha3").keccak256;function o(e){return n.allocUnsafe(e).fill(0)}function a(e,t,r){const i=o(t);return e=u(e),r?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)}function u(e){if(!n.isBuffer(e))if(Array.isArray(e))e=n.from(e);else if("string"==typeof e)e=c(e)?n.from((t=h(e)).length%2?"0"+t:t,"hex"):n.from(e);else if("number"==typeof e)e=intToBuffer(e);else if(null===e||e===undefined)e=n.allocUnsafe(0);else if(i.isBN(e))e=e.toArrayLike(n);else{if(!e.toArray)throw new Error("invalid type");e=n.from(e.toArray())}var t;return e}function c(e){return"string"==typeof e&&e.match(/^0x[0-9A-Fa-f]*$/)}function h(e){return"string"==typeof e&&e.startsWith("0x")?e.slice(2):e}t.exports={zeros:o,setLength:a,setLengthRight:function(e,t){return a(e,t,!0)},isHexString:c,stripHexPrefix:h,toBuffer:u,bufferToHex:function(e){return"0x"+(e=u(e)).toString("hex")},keccak:function(e){return e=u(e),n.from(s(e),"hex")}}}}},{package:"eth-lattice-keyring>gridplus-sdk>eth-eip712-util-browser",file:"node_modules/eth-eip712-util-browser/util.js"}],[2697,{"./base-filter":2698},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const i=e("./base-filter");t.exports=class extends i{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}}}},{package:"eth-json-rpc-filters",file:"node_modules/eth-json-rpc-filters/base-filter-history.js"}],[2698,{"@metamask/safe-event-emitter":1456},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const i=e("@metamask/safe-event-emitter").default;t.exports=class extends i{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach((e=>this.emit("update",e)))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}}}}},{package:"eth-json-rpc-filters",file:"node_modules/eth-json-rpc-filters/base-filter.js"}],[2699,{"./base-filter":2698,"./getBlocksForRange":2700,"./hexUtils":2701},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const i=e("./base-filter"),n=e("./getBlocksForRange"),{incrementHexInt:s}=e("./hexUtils");t.exports=class extends i{constructor({provider:e,params:t}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:t}){const r=t,i=s(e),o=(await n({provider:this.provider,fromBlock:i,toBlock:r})).map((e=>e.hash));this.addResults(o)}}}}},{package:"eth-json-rpc-filters",file:"node_modules/eth-json-rpc-filters/block-filter.js"}],[27,{"../../../shared/constants/common":4013,"../../../shared/constants/gas":4014,"../../../shared/constants/network":4019,"../../../shared/constants/smartTransactions":4023,"../../../shared/constants/swaps":4024,"../../../shared/constants/time":4027,"../../../shared/lib/fetch-with-cache":4031,"../../../shared/lib/swaps-utils":4034,"../../../shared/lib/transactions-controller-utils":4037,"../../../shared/modules/Numeric":4039,"../../../shared/modules/conversion.utils":4043,"../../../shared/modules/string-utils":4056,"../../../shared/modules/swaps.utils":4057,"../../../ui/helpers/utils/optimism/fetchEstimatedL1Fee":4738,"@ethersproject/contracts":446,"@ethersproject/providers":485,"@metamask/obs-store":1375,"bignumber.js":2330,"human-standard-token-abi":3298,lodash:3534,loglevel:3546},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.utils=r.default=void 0;var i=e("@ethersproject/providers"),n=e("@ethersproject/contracts"),s=E(e("loglevel")),o=E(e("bignumber.js")),a=e("@metamask/obs-store"),u=e("lodash"),c=E(e("human-standard-token-abi")),h=e("../../../shared/modules/conversion.utils"),l=e("../../../shared/constants/swaps"),f=e("../../../shared/constants/gas"),d=e("../../../shared/constants/network"),p=e("../../../shared/constants/smartTransactions"),g=e("../../../shared/modules/swaps.utils"),y=e("../../../shared/lib/swaps-utils"),m=E(e("../../../shared/lib/fetch-with-cache")),b=e("../../../shared/constants/time"),w=e("../../../shared/modules/string-utils"),v=e("../../../shared/lib/transactions-controller-utils"),_=E(e("../../../ui/helpers/utils/optimism/fetchEstimatedL1Fee")),T=e("../../../shared/modules/Numeric"),k=e("../../../shared/constants/common");function E(e){return e&&e.__esModule?e:{default:e}}const A=25e5,S=b.MINUTE;function I(e=25e5,t=0,r=0){const i=new o.default(e,10).minus(t,10);return!i.lt(0)&&i.lt(r,16)?`0x${i.toString(16)}`:r}const B={quotes:{},quotesPollingLimitEnabled:!1,fetchParams:null,tokens:null,tradeTxId:null,approveTxId:null,quotesLastFetched:null,customMaxGas:"",customGasPrice:null,customMaxFeePerGas:null,customMaxPriorityFeePerGas:null,swapsUserFeeLevel:"",selectedAggId:null,customApproveTxData:"",errorKey:"",topAggId:null,routeState:"",swapsFeatureIsLive:!0,saveFetchedQuotes:!1,swapsQuoteRefreshTime:S,swapsQuotePrefetchingRefreshTime:S,swapsStxBatchStatusRefreshTime:p.FALLBACK_SMART_TRANSACTIONS_REFRESH_TIME,swapsStxGetTransactionsRefreshTime:p.FALLBACK_SMART_TRANSACTIONS_REFRESH_TIME,swapsStxMaxFeeMultiplier:p.FALLBACK_SMART_TRANSACTIONS_MAX_FEE_MULTIPLIER,swapsFeatureFlags:{}};function x(e){if(!Array.isArray(e)||0===e.length)throw new Error("Expected non-empty array param.");const t=[...e];if(t.sort(((e,t)=>{const r=new o.default(e.overallValueOfQuote,10),i=new o.default(t.overallValueOfQuote,10);return r.equals(i)?0:r.lessThan(i)?-1:1})),t.length%2==1){const e=t[(t.length-1)/2].overallValueOfQuote;return P(t.filter((t=>e===t.overallValueOfQuote)))}const r=t.length/2,i=r-1,n=t[r].overallValueOfQuote,s=t[i].overallValueOfQuote,a=t.filter((e=>n===e.overallValueOfQuote)),u=t.filter((e=>s===e.overallValueOfQuote)),c=P(a),h=P(u);return{ethFee:new o.default(c.ethFee,10).plus(h.ethFee,10).dividedBy(2).toString(10),metaMaskFeeInEth:new o.default(c.metaMaskFeeInEth,10).plus(h.metaMaskFeeInEth,10).dividedBy(2).toString(10),ethValueOfTokens:new o.default(c.ethValueOfTokens,10).plus(h.ethValueOfTokens,10).dividedBy(2).toString(10)}}function P(e){const t=e.reduce(((e,t)=>({ethFee:e.ethFee.plus(t.ethFee,10),metaMaskFeeInEth:e.metaMaskFeeInEth.plus(t.metaMaskFeeInEth,10),ethValueOfTokens:e.ethValueOfTokens.plus(t.ethValueOfTokens,10)})),{ethFee:new o.default(0,10),metaMaskFeeInEth:new o.default(0,10),ethValueOfTokens:new o.default(0,10)});return{ethFee:t.ethFee.div(e.length,10).toString(10),metaMaskFeeInEth:t.metaMaskFeeInEth.div(e.length,10).toString(10),ethValueOfTokens:t.ethValueOfTokens.div(e.length,10).toString(10)}}r.default=class{constructor({getBufferedGasLimit:e,networkController:t,provider:r,getProviderConfig:n,getTokenRatesState:s,fetchTradesInfo:o=y.fetchTradesInfo,getCurrentChainId:u,getEIP1559GasFeeEstimates:c,onNetworkStateChange:h},l){var f;this.store=new a.ObservableStore({swapsState:{...B,swapsFeatureFlags:(null==l||null===(f=l.swapsState)||void 0===f?void 0:f.swapsFeatureFlags)||{}}}),this.resetState=()=>{var e;this.store.updateState({swapsState:{...B,swapsFeatureFlags:null==l||null===(e=l.swapsState)||void 0===e?void 0:e.swapsFeatureFlags}})},this._fetchTradesInfo=o,this._getCurrentChainId=u,this._getEIP1559GasFeeEstimates=c,this.getBufferedGasLimit=e,this.getTokenRatesState=s,this.pollCount=0,this.getProviderConfig=n,this.indexOfNewestCallInFlight=0,this.ethersProvider=new i.Web3Provider(r),this._currentNetworkId=t.state.networkId,h((()=>{var e;const{networkId:n,networksMetadata:s,selectedNetworkClientId:o}=t.state;(null===(e=s[o])||void 0===e?void 0:e.status)===d.NetworkStatus.Available&&n!==this._currentNetworkId&&(this._currentNetworkId=n,this.ethersProvider=new i.Web3Provider(r))}))}async fetchSwapsNetworkConfig(e){const t=await(0,m.default)((0,y.getBaseApi)("network",e),{method:"GET"},{cacheRefreshTime:6e5}),{refreshRates:r,parameters:i={}}=t||{};if(!r||"number"!=typeof r.quotes||"number"!=typeof r.quotesPrefetching)throw new Error(`MetaMask - invalid response for refreshRates: ${t}`);return{quotes:1e3*r.quotes,quotesPrefetching:1e3*r.quotesPrefetching,stxGetTransactions:1e3*r.stxGetTransactions,stxBatchStatus:1e3*r.stxBatchStatus,stxStatusDeadline:r.stxStatusDeadline,stxMaxFeeMultiplier:i.stxMaxFeeMultiplier}}async _setSwapsNetworkConfig(){var e,t,r,i,n,s;const o=this._getCurrentChainId();let a;try{a=await this.fetchSwapsNetworkConfig(o)}catch(e){console.error("Request for Swaps network config failed: ",e)}const{swapsState:u}=this.store.getState();this.store.updateState({swapsState:{...u,swapsQuoteRefreshTime:(null===(e=a)||void 0===e?void 0:e.quotes)||S,swapsQuotePrefetchingRefreshTime:(null===(t=a)||void 0===t?void 0:t.quotesPrefetching)||S,swapsStxGetTransactionsRefreshTime:(null===(r=a)||void 0===r?void 0:r.stxGetTransactions)||p.FALLBACK_SMART_TRANSACTIONS_REFRESH_TIME,swapsStxBatchStatusRefreshTime:(null===(i=a)||void 0===i?void 0:i.stxBatchStatus)||p.FALLBACK_SMART_TRANSACTIONS_REFRESH_TIME,swapsStxStatusDeadline:(null===(n=a)||void 0===n?void 0:n.stxStatusDeadline)||p.FALLBACK_SMART_TRANSACTIONS_DEADLINE,swapsStxMaxFeeMultiplier:(null===(s=a)||void 0===s?void 0:s.stxMaxFeeMultiplier)||p.FALLBACK_SMART_TRANSACTIONS_MAX_FEE_MULTIPLIER}})}pollForNewQuotes(){const{swapsState:{swapsQuoteRefreshTime:e,swapsQuotePrefetchingRefreshTime:t,quotesPollingLimitEnabled:r}}=this.store.getState(),i=r?e:t;this.pollingTimeout=setTimeout((()=>{var e;const{swapsState:t}=this.store.getState();this.fetchAndSetQuotes(t.fetchParams,null===(e=t.fetchParams)||void 0===e?void 0:e.metaData,!0)}),i)}stopPollingForQuotes(){this.pollingTimeout&&clearTimeout(this.pollingTimeout)}async fetchAndSetQuotes(e,t={},r){const{chainId:i}=t,{swapsState:{quotesPollingLimitEnabled:n,saveFetchedQuotes:s}}=this.store.getState();if(!e)return null;r||(this.pollCount=0),clearTimeout(this.pollingTimeout),r||this.setSwapsErrorKey("");const o=this.indexOfNewestCallInFlight+1;this.indexOfNewestCallInFlight=o,s||this.setSaveFetchedQuotes(!0);let[a]=await Promise.all([this._fetchTradesInfo(e,{...t}),this._setSwapsNetworkConfig()]);const{swapsState:{saveFetchedQuotes:c}}=this.store.getState();if(!c)return[{},null];a=(0,u.mapValues)(a,(e=>({...e,sourceTokenInfo:t.sourceTokenInfo,destinationTokenInfo:t.destinationTokenInfo}))),i===d.CHAIN_IDS.OPTIMISM&&Object.values(a).length>0&&await Promise.all(Object.values(a).map((async e=>{if(e.trade){const t=await(0,_.default)(i,{txParams:e.trade,chainId:i},this.ethersProvider);e.multiLayerL1TradeFeeTotal=t}return e})));const h=Date.now();let f=!1;if(!(0,g.isSwapsDefaultTokenAddress)(e.sourceToken,i)&&Object.values(a).length){const t=await this._getERC20Allowance(e.sourceToken,e.fromAddress,i),[n]=Object.values(a);if(f=n.approvalNeeded&&t.eq(0)&&"wrappedNative"!==n.aggregator,f){if(!r){const{gasLimit:e}=await this.timedoutGasReturn(n.approvalNeeded);a=(0,u.mapValues)(a,(t=>({...t,approvalNeeded:{...t.approvalNeeded,gas:e||l.DEFAULT_ERC20_APPROVE_GAS}})))}}else a=(0,u.mapValues)(a,(e=>({...e,approvalNeeded:null})))}let p=null;if(f||null!=e&&e.balanceError||(a=await this.getAllQuotesWithGasEstimates(a)),0===Object.values(a).length)this.setSwapsErrorKey(l.QUOTES_NOT_AVAILABLE_ERROR);else{const[e,t]=await this._findTopQuoteAndCalculateSavings(a);p=e,a=t}if(this.indexOfNewestCallInFlight!==o)throw new Error(l.SWAPS_FETCH_ORDER_CONFLICT);const{swapsState:y}=this.store.getState();let{selectedAggId:m}=y;return a[m]||(m=null),this.store.updateState({swapsState:{...y,quotes:a,fetchParams:{...e,metaData:t},quotesLastFetched:h,selectedAggId:m,topAggId:p}}),n&&(this.pollCount+=1),!n||this.pollCount<4?(this.pollForNewQuotes(),[a,p]):(this.resetPostFetchState(),this.setSwapsErrorKey(l.QUOTES_EXPIRED_ERROR),null)}safeRefetchQuotes(){const{swapsState:e}=this.store.getState();!this.pollingTimeout&&e.fetchParams&&this.fetchAndSetQuotes(e.fetchParams)}setSelectedQuoteAggId(e){const{swapsState:t}=this.store.getState();this.store.updateState({swapsState:{...t,selectedAggId:e}})}setSwapsTokens(e){const{swapsState:t}=this.store.getState();this.store.updateState({swapsState:{...t,tokens:e}})}clearSwapsQuotes(){const{swapsState:e}=this.store.getState();this.store.updateState({swapsState:{...e,quotes:{}}})}setSwapsErrorKey(e){const{swapsState:t}=this.store.getState();this.store.updateState({swapsState:{...t,errorKey:e}})}async getAllQuotesWithGasEstimates(e){const t=await Promise.all(Object.values(e).map((async e=>{const{gasLimit:t,simulationFails:r}=await this.timedoutGasReturn(e.trade);return[t,r,e.aggregator]}))),r={};return t.forEach((([t,i,n])=>{if(t&&!i){const i=I(e[n].maxGas,e[n].estimatedRefund,t);r[n]={...e[n],gasEstimate:t,gasEstimateWithRefund:i}}else e[n].approvalNeeded&&(r[n]=e[n])})),r}timedoutGasReturn(e){return new Promise((t=>{let r=!1;const i=setTimeout((()=>{r=!0,t({gasLimit:null,simulationFails:!0})}),5*b.SECOND),n={data:e.data,from:e.from,to:e.to,value:e.value};this.getBufferedGasLimit({txParams:n},1).then((({gasLimit:e,simulationFails:n})=>{r||(clearTimeout(i),t({gasLimit:e,simulationFails:n}))})).catch((e=>{s.default.error(e),r||(clearTimeout(i),t({gasLimit:null,simulationFails:!0}))}))}))}async setInitialGasEstimate(e){const{swapsState:t}=this.store.getState(),r={...t.quotes[e]},{gasLimit:i,simulationFails:n}=await this.timedoutGasReturn(r.trade);if(i&&!n){const e=I(r.maxGas,r.estimatedRefund,i);r.gasEstimate=i,r.gasEstimateWithRefund=e}this.store.updateState({swapsState:{...t,quotes:{...t.quotes,[e]:r}}})}setApproveTxId(e){const{swapsState:t}=this.store.getState();this.store.updateState({swapsState:{...t,approveTxId:e}})}setTradeTxId(e){const{swapsState:t}=this.store.getState();this.store.updateState({swapsState:{...t,tradeTxId:e}})}setQuotesLastFetched(e){const{swapsState:t}=this.store.getState();this.store.updateState({swapsState:{...t,quotesLastFetched:e}})}setSwapsTxGasPrice(e){const{swapsState:t}=this.store.getState();this.store.updateState({swapsState:{...t,customGasPrice:e}})}setSwapsTxMaxFeePerGas(e){const{swapsState:t}=this.store.getState();this.store.updateState({swapsState:{...t,customMaxFeePerGas:e}})}setSwapsUserFeeLevel(e){const{swapsState:t}=this.store.getState();this.store.updateState({swapsState:{...t,swapsUserFeeLevel:e}})}setSwapsQuotesPollingLimitEnabled(e){const{swapsState:t}=this.store.getState();this.store.updateState({swapsState:{...t,quotesPollingLimitEnabled:e}})}setSwapsTxMaxFeePriorityPerGas(e){const{swapsState:t}=this.store.getState();this.store.updateState({swapsState:{...t,customMaxPriorityFeePerGas:e}})}setSwapsTxGasLimit(e){const{swapsState:t}=this.store.getState();this.store.updateState({swapsState:{...t,customMaxGas:e}})}setCustomApproveTxData(e){const{swapsState:t}=this.store.getState();this.store.updateState({swapsState:{...t,customApproveTxData:e}})}setBackgroundSwapRouteState(e){const{swapsState:t}=this.store.getState();this.store.updateState({swapsState:{...t,routeState:e}})}setSaveFetchedQuotes(e){const{swapsState:t}=this.store.getState();this.store.updateState({swapsState:{...t,saveFetchedQuotes:e}})}setSwapsLiveness(e){const{swapsState:t}=this.store.getState(),{swapsFeatureIsLive:r}=e;this.store.updateState({swapsState:{...t,swapsFeatureIsLive:r}})}setSwapsFeatureFlags(e){const{swapsState:t}=this.store.getState();this.store.updateState({swapsState:{...t,swapsFeatureFlags:e}})}resetPostFetchState(){const{swapsState:e}=this.store.getState();this.store.updateState({swapsState:{...B,tokens:e.tokens,fetchParams:e.fetchParams,swapsFeatureIsLive:e.swapsFeatureIsLive,swapsQuoteRefreshTime:e.swapsQuoteRefreshTime,swapsQuotePrefetchingRefreshTime:e.swapsQuotePrefetchingRefreshTime,swapsFeatureFlags:e.swapsFeatureFlags}}),clearTimeout(this.pollingTimeout)}resetSwapsState(){const{swapsState:e}=this.store.getState();this.store.updateState({swapsState:{...B,swapsQuoteRefreshTime:e.swapsQuoteRefreshTime,swapsQuotePrefetchingRefreshTime:e.swapsQuotePrefetchingRefreshTime,swapsFeatureFlags:e.swapsFeatureFlags}}),clearTimeout(this.pollingTimeout)}async _findTopQuoteAndCalculateSavings(e={}){const{contractExchangeRates:t}=this.getTokenRatesState(),{swapsState:{customGasPrice:r,customMaxPriorityFeePerGas:i}}=this.store.getState(),n=this._getCurrentChainId();if(!Object.keys(e).length)return{};const s=(0,u.cloneDeep)(e),{gasFeeEstimates:a,gasEstimateType:c}=await this._getEIP1559GasFeeEstimates();let l="0x0";if(c===f.GasEstimateTypes.feeMarket){const{high:{suggestedMaxPriorityFeePerGas:e},estimatedBaseFee:t}=a,r=(0,h.decGWEIToHexWEI)(e),n=new T.Numeric(t,10,k.EtherDenomination.GWEI).toDenomination(k.EtherDenomination.WEI);l=new T.Numeric(i||r,16).add(n).round(6).toString()}else c===f.GasEstimateTypes.legacy?l=r||(0,h.decGWEIToHexWEI)(a.high):c===f.GasEstimateTypes.ethGasPrice&&(l=r||(0,h.decGWEIToHexWEI)(a.gasPrice));let d=null,p=null;Object.values(s).forEach((e=>{const{aggregator:r,approvalNeeded:i,averageGas:s,destinationAmount:a=0,destinationToken:u,destinationTokenInfo:c,gasEstimateWithRefund:f,sourceAmount:y,sourceToken:m,trade:b,fee:_,multiLayerL1TradeFeeTotal:E}=e,S=(f?new o.default(f,16):new o.default(s||A,10)).plus((null==i?void 0:i.gas)||"0x0",16).toString(16);let I=(0,v.calcGasTotal)(S,l);null!==E&&(I=(0,h.sumHexes)(I||"0x0",E||"0x0"));const B=new T.Numeric(I,16,k.EtherDenomination.WEI).add(new T.Numeric(b.value,16,k.EtherDenomination.WEI)),x=B.toDenomination(k.EtherDenomination.ETH).round(6).value,P=(0,g.isSwapsDefaultTokenAddress)(m,n)?B.minus(new T.Numeric(y,10)).toDenomination(k.EtherDenomination.ETH).round(6).value:x,N=(0,v.calcTokenAmount)(a,c.decimals),L=new o.default(100,10).minus(_,10).div(100),O=N.div(L).minus(N),C=t[Object.keys(t).find((e=>(0,w.isEqualCaseInsensitive)(e,u)))],j=C||1,z=N.times(j.toString(10),10),R=(0,g.isSwapsDefaultTokenAddress)(u,n)?1:C,U=R===undefined?z:z.minus(P,10);e.ethFee=P.toString(10),R!==undefined&&(e.ethValueOfTokens=z.toString(10),e.overallValueOfQuote=U.toString(10),e.metaMaskFeeInEth=O.times(R.toString(10)).toString(10)),(null===p||U.gt(p))&&(d=r,p=U)}));let y=null;if((0,g.isSwapsDefaultTokenAddress)(s[d].destinationToken,n)||Boolean(t[Object.keys(t).find((e=>{var t;return(0,w.isEqualCaseInsensitive)(e,null===(t=s[d])||void 0===t?void 0:t.destinationToken)}))])){const e=s[d];y={};const{ethFee:t,metaMaskFeeInEth:r,ethValueOfTokens:i}=x(Object.values(s));y.performance=new o.default(e.ethValueOfTokens,10).minus(i,10),y.fee=new o.default(t).minus(e.ethFee,10),y.metaMaskFee=e.metaMaskFeeInEth,y.total=y.performance.plus(y.fee).minus(y.metaMaskFee).toString(10),y.performance=y.performance.toString(10),y.fee=y.fee.toString(10),y.medianMetaMaskFee=r,s[d].isBestQuote=!0,s[d].savings=y}return[d,s]}async _getERC20Allowance(e,t,r){const i=new n.Contract(e,c.default,this.ethersProvider);return await i.allowance(t,l.SWAPS_CHAINID_CONTRACT_ADDRESS_MAP[r])}};const N={getMedianEthValueQuote:x,meansOfQuotesFeesAndValue:P};r.utils=N}}},{package:"$root$",file:"app/scripts/controllers/swaps.js"}],[270,{"./abstract":267},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BitArrayTreeViewDU=void 0;const i=e("./abstract");class n extends i.TreeViewDU{constructor(e,t){super(),this.type=e,this._rootNode=t,this._bitArray=null}get node(){return this._rootNode}get cache(){}commit(){null!==this._bitArray&&(this._rootNode=this.type.value_toTree(this._bitArray))}get uint8Array(){return this.bitArray.uint8Array}get bitLen(){return this.bitArray.bitLen}get(e){return this.bitArray.get(e)}set(e,t){this.bitArray.set(e,t)}mergeOrWith(e){this.bitArray.mergeOrWith(e)}intersectValues(e){return this.bitArray.intersectValues(e)}getTrueBitIndexes(){return this.bitArray.getTrueBitIndexes()}getSingleTrueBit(){return this.bitArray.getSingleTrueBit()}toBoolArray(){return this.bitArray.toBoolArray()}get bitArray(){return null===this._bitArray&&(this._bitArray=this.type.tree_toValue(this._rootNode)),this._bitArray}clearCache(){this._bitArray=null}}r.BitArrayTreeViewDU=n}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/viewDU/bitArray.js"}],[2700,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function i(e){return e===undefined||null===e?e:Number.parseInt(e,16)}function n(e){if(e===undefined||null===e)return e;return"0x"+e.toString(16)}function s(e,t){return new Promise(((r,i)=>{e.sendAsync(t,((e,t)=>{e?i(e):t.error?i(t.error):t.result?r(t.result):i(new Error("Result was empty"))}))}))}t.exports=async function({provider:e,fromBlock:t,toBlock:r}){t||(t=r);const o=i(t),a=i(r),u=Array(a-o+1).fill().map(((e,t)=>o+t)).map(n);let c=await Promise.all(u.map((t=>async function(e,t,r){for(let i=0;i<3;i++)try{return await s(e,{id:1,jsonrpc:"2.0",method:t,params:r})}catch(e){console.error(`provider.sendAsync failed: ${e.stack||e.message||e}`)}return null}(e,"eth_getBlockByNumber",[t,!1]))));return c=c.filter((e=>null!==e)),c}}}},{package:"eth-json-rpc-filters",file:"node_modules/eth-json-rpc-filters/getBlocksForRange.js"}],[2701,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function i(e){return e.sort(((e,t)=>"latest"===e||"earliest"===t?1:"latest"===t||"earliest"===e?-1:n(e)-n(t)))}function n(e){return e===undefined||null===e?e:Number.parseInt(e,16)}function s(e){if(e===undefined||null===e)return e;let t=e.toString(16);return t.length%2&&(t="0"+t),"0x"+t}function o(){return Math.floor(16*Math.random()).toString(16)}t.exports={minBlockRef:function(...e){return i(e)[0]},maxBlockRef:function(...e){const t=i(e);return t[t.length-1]},sortBlockRefs:i,bnToHex:function(e){return"0x"+e.toString(16)},blockRefIsNumber:function(e){return e&&!["earliest","latest","pending"].includes(e)},hexToInt:n,incrementHexInt:function(e){if(e===undefined||null===e)return e;return s(n(e)+1)},intToHex:s,unsafeRandomBytes:function(e){let t="0x";for(let r=0;r<e;r++)t+=o(),t+=o();return t}}}}},{package:"eth-json-rpc-filters",file:"node_modules/eth-json-rpc-filters/hexUtils.js"}],[2702,{"./block-filter.js":2699,"./hexUtils":2701,"./log-filter.js":2703,"./tx-filter.js":2705,"async-mutex":2315,"json-rpc-engine":3331},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const i=e("async-mutex").Mutex,{createAsyncMiddleware:n,createScaffoldMiddleware:s}=e("json-rpc-engine"),o=e("./log-filter.js"),a=e("./block-filter.js"),u=e("./tx-filter.js"),{intToHex:c,hexToInt:h}=e("./hexUtils");function l(e){return f((async(...t)=>{const r=await e(...t);return c(r.id)}))}function f(e){return n((async(t,r)=>{const i=await e.apply(null,t.params);r.result=i}))}function d(e,t){const r=[];for(let t in e)r.push(e[t]);return r}t.exports=function({blockTracker:e,provider:t}){let r=0,n={};const p=new i,g=function({mutex:e}){return t=>async(r,i,n,s)=>{(await e.acquire())(),t(r,i,n,s)}}({mutex:p}),y=s({eth_newFilter:g(l(b)),eth_newBlockFilter:g(l(w)),eth_newPendingTransactionFilter:g(l(v)),eth_uninstallFilter:g(f(k)),eth_getFilterChanges:g(f(_)),eth_getFilterLogs:g(f(T))}),m=async({oldBlock:e,newBlock:t})=>{if(0===n.length)return;const r=await p.acquire();try{await Promise.all(d(n).map((async r=>{try{await r.update({oldBlock:e,newBlock:t})}catch(e){console.error(e)}})))}catch(e){console.error(e)}r()};return y.newLogFilter=b,y.newBlockFilter=w,y.newPendingTransactionFilter=v,y.uninstallFilter=k,y.getFilterChanges=_,y.getFilterLogs=T,y.destroy=()=>{!async function(){const e=d(n).length;n={},A({prevFilterCount:e,newFilterCount:0})}()},y;async function b(e){const r=new o({provider:t,params:e});await E(r);return r}async function w(){const e=new a({provider:t});await E(e);return e}async function v(){const e=new u({provider:t});await E(e);return e}async function _(e){const t=h(e),r=n[t];if(!r)throw new Error(`No filter for index "${t}"`);return r.getChangesAndClear()}async function T(e){const t=h(e),r=n[t];if(!r)throw new Error(`No filter for index "${t}"`);let i=[];return"log"===r.type&&(i=r.getAllResults()),i}async function k(e){const t=h(e),r=n[t],i=Boolean(r);return i&&await async function(e){const t=d(n).length;delete n[e];const r=d(n).length;A({prevFilterCount:t,newFilterCount:r})}(t),i}async function E(t){const i=d(n).length,s=await e.getLatestBlock();await t.initialize({currentBlock:s}),r++,n[r]=t,t.id=r,t.idHex=c(r);return A({prevFilterCount:i,newFilterCount:d(n).length}),r}function A({prevFilterCount:t,newFilterCount:r}){0===t&&r>0?e.on("sync",m):t>0&&0===r&&e.removeListener("sync",m)}}}}},{package:"eth-json-rpc-filters",file:"node_modules/eth-json-rpc-filters/index.js"}],[2703,{"./base-filter-history":2697,"./hexUtils":2701,"eth-query":2735,pify:3638},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const i=e("eth-query"),n=e("pify"),s=e("./base-filter-history"),{bnToHex:o,hexToInt:a,incrementHexInt:u,minBlockRef:c,blockRefIsNumber:h}=e("./hexUtils");t.exports=class extends s{constructor({provider:e,params:t}){super(),this.type="log",this.ethQuery=new i(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:undefined,topics:[]},t),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map((e=>e.toLowerCase())))}async initialize({currentBlock:e}){let t=this.params.fromBlock;["latest","pending"].includes(t)&&(t=e),"earliest"===t&&(t="0x0"),this.params.fromBlock=t;const r=c(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:r}),n=await this._fetchLogs(i);this.addInitialResults(n)}async update({oldBlock:e,newBlock:t}){const r=t;let i;i=e?u(e):t;const n=Object.assign({},this.params,{fromBlock:i,toBlock:r}),s=(await this._fetchLogs(n)).filter((e=>this.matchLog(e)));this.addResults(s)}async _fetchLogs(e){return await n((t=>this.ethQuery.getLogs(e,t)))()}matchLog(e){if(a(this.params.fromBlock)>=a(e.blockNumber))return!1;if(h(this.params.toBlock)&&a(this.params.toBlock)<=a(e.blockNumber))return!1;const t=e.address&&e.address.toLowerCase();if(this.params.address&&t&&!this.params.address.includes(t))return!1;return this.params.topics.every(((t,r)=>{let i=e.topics[r];if(!i)return!1;i=i.toLowerCase();let n=Array.isArray(t)?t:[t];if(n.includes(null))return!0;n=n.map((e=>e.toLowerCase()));return n.includes(i)}))}}}}},{package:"eth-json-rpc-filters",file:"node_modules/eth-json-rpc-filters/log-filter.js"}],[2704,{"./getBlocksForRange.js":2700,"./hexUtils.js":2701,"./index.js":2702,"@metamask/safe-event-emitter":1456,"json-rpc-engine":3331},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const i=e("@metamask/safe-event-emitter").default,{createAsyncMiddleware:n,createScaffoldMiddleware:s}=e("json-rpc-engine"),o=e("./index.js"),{unsafeRandomBytes:a,incrementHexInt:u}=e("./hexUtils.js"),c=e("./getBlocksForRange.js");function h(e){return null===e||e===undefined?null:{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}t.exports=function({blockTracker:e,provider:t}){const r={},l=o({blockTracker:e,provider:t});let f=!1;const d=new i,p=s({eth_subscribe:n((async function(i,n){if(f)throw new Error("SubscriptionManager - attempting to use after destroying");const s=i.params[0],o=a(16);let d;switch(s){case"newHeads":d=p({subId:o});break;case"logs":const e=i.params[1];d=y({subId:o,filter:await l.newLogFilter(e)});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${s}"`)}return r[o]=d,void(n.result=o);function p({subId:r}){const i={type:s,destroy:async()=>{e.removeListener("sync",i.update)},update:async({oldBlock:e,newBlock:i})=>{const n=i,s=u(e);(await c({provider:t,fromBlock:s,toBlock:n})).map(h).filter((e=>null!==e)).forEach((e=>{g(r,e)}))}};return e.on("sync",i.update),i}function y({subId:e,filter:t}){t.on("update",(t=>g(e,t)));return{type:s,destroy:async()=>await l.uninstallFilter(t.idHex)}}})),eth_unsubscribe:n((async function(e,t){if(f)throw new Error("SubscriptionManager - attempting to use after destroying");const i=e.params[0],n=r[i];if(!n)return void(t.result=!1);delete r[i],await n.destroy(),t.result=!0}))});return p.destroy=function(){d.removeAllListeners();for(const e in r)r[e].destroy(),delete r[e];f=!0},{events:d,middleware:p};function g(e,t){d.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:e,result:t}})}}}}},{package:"eth-json-rpc-filters",file:"node_modules/eth-json-rpc-filters/subscriptionManager.js"}],[2705,{"./base-filter":2698,"./getBlocksForRange":2700,"./hexUtils":2701},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const i=e("./base-filter"),n=e("./getBlocksForRange"),{incrementHexInt:s}=e("./hexUtils");t.exports=class extends i{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const t=e,r=s(e),i=await n({provider:this.provider,fromBlock:r,toBlock:t}),o=[];for(const e of i)o.push(...e.transactions);this.addResults(o)}}}}},{package:"eth-json-rpc-filters",file:"node_modules/eth-json-rpc-filters/tx-filter.js"}],[2706,{"@ethereumjs/tx":2713,"@ethereumjs/util":393,"bn.js":2377,buffer:2426,crypto:2636,events:2427,"gridplus-sdk":3092,rlp:2730},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){const i=e("crypto"),n=e("events").EventEmitter,s=e("bn.js"),o=e("gridplus-sdk"),a=e("@ethereumjs/tx"),{addHexPrefix:u}=e("@ethereumjs/util"),c=e("rlp"),h="Lattice Hardware",l=12e4;class f extends n{constructor(e={}){super(),this.type=h,this._resetDefaults(),this.deserialize(e)}async deserialize(e={}){e.hdPath&&(this.hdPath=e.hdPath),e.creds&&(this.creds=e.creds),e.accounts&&(this.accounts=e.accounts),e.accountIndices&&(this.accountIndices=e.accountIndices),e.accountOpts&&(this.accountOpts=e.accountOpts),e.walletUID&&(this.walletUID=e.walletUID),e.name&&(this.appName=e.name),e.appName&&(this.appName=e.appName),e.network&&(this.network=e.network),e.page&&(this.page=e.page)}setHdPath(e){this.hdPath=e}async serialize(){return{creds:this.creds,accounts:this.accounts,accountIndices:this.accountIndices,accountOpts:this.accountOpts,walletUID:this.walletUID,appName:this.appName,name:this.name,network:this.network,page:this.page,hdPath:this.hdPath}}isUnlocked(){return!!this._getCurrentWalletUID()&&!!this.sdkSession}async unlock(e=!1){if(this.isUnlocked())return"Unlocked";const t=await this._getCreds();t&&(this.creds.deviceID=t.deviceID,this.creds.password=t.password,this.creds.endpoint=t.endpoint||null);return await this._initSession()&&e||await this._connect(),"Unlocked"}async addAccounts(e=1){if(e<=0)throw new Error("Number of accounts to add must be a positive number.");await this.unlock();const t=await this._fetchAddresses(e,this.unlockedAccount),r=this._getCurrentWalletUID();if(!r)throw await this._connect(),new Error("No active wallet found in Lattice. Please retry.");return t.forEach(((e,t)=>{let i=!1;for(let t=0;t<this.accounts.length;t++)this.accounts[t]===e&&this.accountOpts[t].walletUID===r&&this.accountOpts[t].hdPath===this.hdPath&&(i=!0);i||(this.accounts.push(e),this.accountIndices.push(this.unlockedAccount+t),this.accountOpts.push({walletUID:r,hdPath:this.hdPath}))})),this.accounts}async getAccounts(){return this.accounts?[...this.accounts]:[]}async signTransaction(e,t){let r,i;const n=t.toJSON();n.type=t._type||null;const h=await this._findSignerIdx(e),l=function(e){if(e&&e.common&&"function"==typeof e.common.chainIdBN)return e.common.chainIdBN();if(e&&e.chainId)return new s(e.chainId);return new s(1)}(t).toNumber(),f=this.sdkSession.getFwVersion(),d=this.accountIndices[h],{hdPath:p}=this.accountOpts[h],g=this._getHDPathIndices(p,d);if(0===f.major&&f.minor<=11)throw new Error("Please update Lattice firmware.");if(f.major>0||f.minor>=15){const e={payload:t._type?t.getMessageToSign(!1):c.encode(t.getMessageToSign(!1)),curveType:o.Constants.SIGNING.CURVES.SECP256K1,hashType:o.Constants.SIGNING.HASHES.KECCAK256,encodingType:o.Constants.SIGNING.ENCODINGS.EVM,signerPath:g},i=f.major>0||f.minor>=16,{def:n}=await o.Utils.fetchCalldataDecoder(t.data,t.to,l,i);n&&(e.decoder=n),r=await this.sdkSession.sign({data:e})}else{const e=function(e){let t;try{switch(t={nonce:`0x${e.nonce.toString("hex")}`||0,gasLimit:`0x${e.gasLimit.toString("hex")}`,to:e.to?e.to.toString("hex"):null,value:`0x${e.value.toString("hex")}`,data:0===e.data.length?null:`0x${e.data.toString("hex")}`},e._type){case 2:if(null===e.maxPriorityFeePerGas||null===e.maxFeePerGas||e.maxPriorityFeePerGas===undefined||e.maxFeePerGas===undefined)throw new Error("`maxPriorityFeePerGas` and `maxFeePerGas` must be included for EIP1559 transactions.");t.maxPriorityFeePerGas=`0x${e.maxPriorityFeePerGas.toString("hex")}`,t.maxFeePerGas=`0x${e.maxFeePerGas.toString("hex")}`,t.accessList=e.accessList||[],t.type=2;break;case 1:t.accessList=e.accessList||[],t.gasPrice=`0x${e.gasPrice.toString("hex")}`,t.type=1;break;default:t.gasPrice=`0x${e.gasPrice.toString("hex")}`,t.type=null}}catch(e){throw new Error("Failed to build transaction.")}return t}(t);e.chainId=l,e.signerPath=g,r=await this.sdkSession.sign({currency:"ETH",data:e})}if(!r.sig||!r.sig.r||!r.sig.s)throw new Error("No signature returned.");i=r.sig.v===undefined?o.Utils.getV(t,r):0===r.sig.v.length?"0":r.sig.v.toString("hex"),n.r=u(r.sig.r.toString("hex")),n.s=u(r.sig.s.toString("hex")),n.v=u(i);if(null===await this._accountIdxInCurrentWallet(e))throw new Error("Wrong account. Please change your Lattice wallet or "+"switch to an account on your current active wallet.");return a.TransactionFactory.fromTxData(n,{common:t.common,freeze:Object.isFrozen(t)})}async signPersonalMessage(e,t){return this.signMessage(e,{payload:t,protocol:"signPersonal"})}async signTypedData(e,t,r){if(r.version&&"V4"!==r.version&&"V3"!==r.version)throw new Error(`Only signTypedData V3 and V4 messages (EIP712) are supported. Got version ${r.version}`);return this.signMessage(e,{payload:t,protocol:"eip712"})}async signMessage(e,t){const r=await this._findSignerIdx(e);let{payload:i,protocol:n}=t;i&&n||(i=t,n="signPersonal");const s=this.accountIndices[r],o=this.accountOpts[r].hdPath,a={currency:"ETH_MSG",data:{protocol:n,payload:i,signerPath:this._getHDPathIndices(o,s)}},u=await this.sdkSession.sign(a);if(!u.sig)throw new Error("No signature returned");let c;try{c=u.sig.v.toString("hex"),c.length<2&&(c=`0${c}`)}catch(e){throw new Error("Invalid signature format returned.")}if(null===await this._accountIdxInCurrentWallet(e))throw new Error("Wrong account. Please change your Lattice wallet or "+"switch to an account on your current active wallet.");return`0x${u.sig.r}${u.sig.s}${c}`}async exportAccount(e){throw new Error("exportAccount not supported by this device")}removeAccount(e){this.accounts.forEach(((t,r)=>{if(t.toLowerCase()===e.toLowerCase())return this.accounts.splice(r,1),this.accountIndices.splice(r,1),void this.accountOpts.splice(r,1)}))}async getFirstPage(){return this.page=0,this._getPage(0)}async getNextPage(){return this._getPage(1)}async getPreviousPage(){return this._getPage(-1)}setAccountToUnlock(e){this.unlockedAccount=parseInt(e,10)}forgetDevice(){this._resetDefaults()}async _findSignerIdx(e){const t=this.isUnlocked();await this.unlock(!0);let r=await this._accountIdxInCurrentWallet(e);if(null!==r)return r;if(t&&(await this._connect(),r=await this._accountIdxInCurrentWallet(e),null!==r))return r;throw new Error("Account not found in active Lattice wallet. Please switch.")}async _accountIdxInCurrentWallet(e){const t=await this._findAccountByAddress(e),{walletUID:r}=this.accountOpts[t],i=this.sdkSession.getActiveWallet();if(!i)throw this._connect(),new Error("No active wallet in Lattice.");const n=i.uid.toString("hex");return r.toString("hex")===n?t:null}async _findAccountByAddress(e){const t=await this.getAccounts();let r=-1;if(t.forEach(((t,i)=>{e.toLowerCase()===t.toLowerCase()&&(r=i)})),r<0)throw new Error("Signer not present");return r}_getHDPathIndices(e,t=0){const r=e.split("/").slice(1),i=[];let n=!1;if(r.forEach((e=>{const r="'"===e[e.length-1];let s=r?2147483648:0;e.indexOf("x")>-1?(s+=t,n=!0):s+=Number(r?e.slice(0,e.length-1):e),i.push(s)})),!1===n&&i.push(t),i.length>5)throw new Error("Only HD paths with up to 5 indices are allowed.");return i}_resetDefaults(){this.accounts=[],this.accountIndices=[],this.accountOpts=[],this.isLocked=!0,this.creds={deviceID:null,password:null,endpoint:null},this.walletUID=null,this.sdkSession=null,this.page=0,this.unlockedAccount=0,this.network=null,this.hdPath="m/44'/60'/0'/0/x"}async _openConnectorTab(e){try{const t=window.open(e);if(t)return{chromium:t};if(browser&&browser.tabs&&browser.tabs.create){return{firefox:await browser.tabs.create({url:e})}}throw new Error("Unknown browser context. Cannot open Lattice connector.")}catch(e){throw new Error("Failed to open Lattice connector.")}}async _findTabById(e){return(await browser.tabs.query({})).find((t=>t.id===e))}_getCreds(){return new Promise(((e,t)=>{if(this._hasCreds())return e();const i=this.appName?this.appName:"Unknown",n="https://lattice.gridplus.io",s=`${n}?keyring=${i}&forceLogin=true`;let o;function a(r){if(r.origin===n)try{clearInterval(o);const i=JSON.parse(r.data);return i.deviceID&&i.password?e(i):t(new Error("Invalid credentials returned from Lattice."))}catch(e){return t(e)}}this._openConnectorTab(s).then((i=>{if(i.chromium)window.addEventListener("message",a,!1),o=setInterval((()=>{if(i.chromium.closed)return clearInterval(o),t(new Error("Lattice connector closed."))}),500);else if(i.firefox){const n="&loginCache=";o=setInterval((()=>{this._findTabById(i.firefox.id).then((i=>{if(!i||!i.url)return t(new Error("Lattice connector closed."));const s=i.url.indexOf(n);if(s<0)return;const a=s+n.length;clearInterval(o);try{const n=r.from(i.url.slice(a),"base64").toString();browser.tabs.remove(i.id).then((()=>{const r=JSON.parse(n);return r.deviceID&&r.password?e(r):t(new Error("Invalid credentials returned from Lattice."))}))}catch(e){return t("Failed to get login data from Lattice. Please try again.")}}))}),500)}}))}))}async _connect(){try{return this.sdkSession.timeout=2e4,this.sdkSession.connect(this.creds.deviceID)}finally{this.sdkSession.timeout=l}}async _initSession(){if(this.isUnlocked())return;let e="https://signing.gridpl.us";this.creds.endpoint&&(e=this.creds.endpoint);let t={name:this.appName,baseUrl:e,timeout:l,privKey:this._genSessionKey(),network:this.network,skipRetryOnWrongWallet:!0};return this.sdkSession=new o.Client(t),!!t.stateData}async _fetchAddresses(e=1,t=0,r=[]){if(!this.isUnlocked())throw new Error("No connection to Lattice. Cannot fetch addresses.");return this.__fetchAddresses(e,t)}async __fetchAddresses(e=1,t=0,r=[]){if(0===e)return r;const i=this._hdPathHasInternalVarIdx(),n={currency:"ETH",startPath:this._getHDPathIndices(this.hdPath,t),n:i?1:e},s=await this.sdkSession.getAddresses(n);if(s.length<1)throw new Error("No addresses returned");return i?await this.__fetchAddresses(e-1,t+1,r.concat(s)):s}async _getPage(e=0){try{this.page+=e,this.page<0&&(this.page=0);const t=5*this.page;await this.unlock();const r=await this._fetchAddresses(5,t);return r.map(((e,r)=>({address:e,balance:null,index:t+r})))}catch(e){try{if(!await this._connect())throw new Error("NOT_PAIRED");return await this._getPage(0)}catch(e){throw 0===this.accounts.length&&this.forgetDevice(),new Error("Failed to get accounts. Please forget the device and try again. "+"Make sure you do not have a locked SafeCard inserted.")}}}_hasCreds(){return null!==this.creds.deviceID&&null!==this.creds.password&&this.appName}_genSessionKey(){if(this.name&&!this.appName&&(this.appName=this.name),!this._hasCreds())throw new Error("No credentials -- cannot create session key!");const e=r.concat([r.from(this.creds.password),r.from(this.creds.deviceID),r.from(this.appName)]);return i.createHash("sha256").update(e).digest()}_hdPathHasInternalVarIdx(){const e=this.hdPath.split("/").slice(1);for(let t=0;t<e.length-1;t++)if(e[t].indexOf("x")>-1)return!0;return!1}_getCurrentWalletUID(){if(!this.sdkSession)return null;const e=this.sdkSession.getActiveWallet();return e&&e.uid?e.uid.toString("hex"):null}}f.type=h,t.exports=f}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring",file:"node_modules/eth-lattice-keyring/index.js"}],[2707,{"./types":2717,"@ethereumjs/common":366,"@ethereumjs/util":393},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BaseTransaction=void 0;const i=e("@ethereumjs/common"),n=e("@ethereumjs/util"),s=e("./types");r.BaseTransaction=class{constructor(e,t){this.cache={hash:undefined,dataFee:undefined},this.activeCapabilities=[],this.DEFAULT_CHAIN=i.Chain.Mainnet,this.DEFAULT_HARDFORK=i.Hardfork.Merge;const{nonce:r,gasLimit:s,to:o,value:a,data:u,v:c,r:h,s:l,type:f}=e;this._type=Number((0,n.bufferToBigInt)((0,n.toBuffer)(f))),this.txOptions=t;const d=(0,n.toBuffer)(""===o?"0x":o),p=(0,n.toBuffer)(""===c?"0x":c),g=(0,n.toBuffer)(""===h?"0x":h),y=(0,n.toBuffer)(""===l?"0x":l);this.nonce=(0,n.bufferToBigInt)((0,n.toBuffer)(""===r?"0x":r)),this.gasLimit=(0,n.bufferToBigInt)((0,n.toBuffer)(""===s?"0x":s)),this.to=d.length>0?new n.Address(d):undefined,this.value=(0,n.bufferToBigInt)((0,n.toBuffer)(""===a?"0x":a)),this.data=(0,n.toBuffer)(""===u?"0x":u),this.v=p.length>0?(0,n.bufferToBigInt)(p):undefined,this.r=g.length>0?(0,n.bufferToBigInt)(g):undefined,this.s=y.length>0?(0,n.bufferToBigInt)(y):undefined,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0)}get type(){return this._type}supports(e){return this.activeCapabilities.includes(e)}validate(e=!1){const t=[];return this.getBaseFee()>this.gasLimit&&t.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`),this.isSigned()&&!this.verifySignature()&&t.push("Invalid Signature"),e?t:0===t.length}_validateYParity(){const{v:e}=this;if(e!==undefined&&e!==BigInt(0)&&e!==BigInt(1)){const e=this._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(e)}}_validateHighS(){const{s:e}=this;if(this.common.gteHardfork("homestead")&&e!==undefined&&e>n.SECP256K1_ORDER_DIV_2){const e=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(e)}}getBaseFee(){const e=this.common.param("gasPrices","tx");let t=this.getDataFee();if(e&&(t+=e),this.common.gteHardfork("homestead")&&this.toCreationAddress()){const e=this.common.param("gasPrices","txCreation");e&&(t+=e)}return t}getDataFee(){const e=this.common.param("gasPrices","txDataZero"),t=this.common.param("gasPrices","txDataNonZero");let r=BigInt(0);for(let i=0;i<this.data.length;i++)0===this.data[i]?r+=e:r+=t;if((this.to===undefined||null===this.to)&&this.common.isActivatedEIP(3860)){const e=BigInt(Math.ceil(this.data.length/32));r+=this.common.param("gasPrices","initCodeWordCost")*e}return r}toCreationAddress(){return this.to===undefined||0===this.to.buf.length}isSigned(){const{v:e,r:t,s:r}=this;return e!==undefined&&t!==undefined&&r!==undefined}verifySignature(){try{const e=this.getSenderPublicKey();return 0!==(0,n.unpadBuffer)(e).length}catch(e){return!1}}getSenderAddress(){return new n.Address((0,n.publicToAddress)(this.getSenderPublicKey()))}sign(e){if(32!==e.length){const e=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(e)}let t=!1;0===this.type&&this.common.gteHardfork("spuriousDragon")&&!this.supports(s.Capability.EIP155ReplayProtection)&&(this.activeCapabilities.push(s.Capability.EIP155ReplayProtection),t=!0);const r=this.getMessageToSign(!0),{v:i,r:o,s:a}=(0,n.ecsign)(r,e),u=this._processSignature(i,o,a);if(t){const e=this.activeCapabilities.indexOf(s.Capability.EIP155ReplayProtection);e>-1&&this.activeCapabilities.splice(e,1)}return u}_getCommon(e,t){if(t!==undefined){const r=(0,n.bufferToBigInt)((0,n.toBuffer)(t));if(e){if(e.chainId()!==r){const e=this._errorMsg("The chain ID does not match the chain ID of Common");throw new Error(e)}return e.copy()}return i.Common.isSupportedChainId(r)?new i.Common({chain:r,hardfork:this.DEFAULT_HARDFORK}):i.Common.custom({name:"custom-chain",networkId:r,chainId:r},{baseChain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}return e?.copy()??new i.Common({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}_validateCannotExceedMaxInteger(e,t=256,r=!1){for(const[i,s]of Object.entries(e))switch(t){case 64:if(r){if(s!==undefined&&s>=n.MAX_UINT64){const e=this._errorMsg(`${i} cannot equal or exceed MAX_UINT64 (2^64-1), given ${s}`);throw new Error(e)}}else if(s!==undefined&&s>n.MAX_UINT64){const e=this._errorMsg(`${i} cannot exceed MAX_UINT64 (2^64-1), given ${s}`);throw new Error(e)}break;case 256:if(r){if(s!==undefined&&s>=n.MAX_INTEGER){const e=this._errorMsg(`${i} cannot equal or exceed MAX_INTEGER (2^256-1), given ${s}`);throw new Error(e)}}else if(s!==undefined&&s>n.MAX_INTEGER){const e=this._errorMsg(`${i} cannot exceed MAX_INTEGER (2^256-1), given ${s}`);throw new Error(e)}break;default:{const e=this._errorMsg("unimplemented bits value");throw new Error(e)}}}static _validateNotArray(e){const t=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(const[r,i]of Object.entries(e))if(t.includes(r)&&Array.isArray(i))throw new Error(`${r} cannot be an array`)}_getSharedErrorPostfix(){let e="";try{e=this.isSigned()?(0,n.bufferToHex)(this.hash()):"not available (unsigned)"}catch(t){e="error"}let t="";try{t=this.isSigned().toString()}catch(t){e="error"}let r="";try{r=this.common.hardfork()}catch(e){r="error"}let i=`tx type=${this.type} hash=${e} nonce=${this.nonce} value=${this.value} `;return i+=`signed=${t} hf=${r}`,i}}}}},{package:"eth-lattice-keyring>@ethereumjs/tx",file:"node_modules/eth-lattice-keyring/node_modules/@ethereumjs/tx/dist/baseTransaction.js"}],[2708,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BYTES_PER_FIELD_ELEMENT=r.FIELD_ELEMENTS_PER_BLOB=r.MAX_TX_WRAP_KZG_COMMITMENTS=r.LIMIT_BLOBS_PER_TX=r.MAX_VERSIONED_HASHES_LIST_SIZE=r.MAX_ACCESS_LIST_SIZE=r.MAX_CALLDATA_SIZE=void 0,r.MAX_CALLDATA_SIZE=16777216,r.MAX_ACCESS_LIST_SIZE=16777216,r.MAX_VERSIONED_HASHES_LIST_SIZE=16777216,r.LIMIT_BLOBS_PER_TX=16777216,r.MAX_TX_WRAP_KZG_COMMITMENTS=16777216,r.FIELD_ELEMENTS_PER_BLOB=4096,r.BYTES_PER_FIELD_ELEMENT=32}}},{package:"eth-lattice-keyring>@ethereumjs/tx",file:"node_modules/eth-lattice-keyring/node_modules/@ethereumjs/tx/dist/constants.js"}],[2709,{"./baseTransaction":2707,"./util":2718,"@ethereumjs/rlp":369,"@ethereumjs/util":393,buffer:2426,"ethereum-cryptography/keccak":2720},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.FeeMarketEIP1559Transaction=void 0;const i=e("@ethereumjs/rlp"),n=e("@ethereumjs/util"),s=e("ethereum-cryptography/keccak"),o=e("./baseTransaction"),a=e("./util"),u=t.from(2..toString(16).padStart(2,"0"),"hex");class c extends o.BaseTransaction{constructor(e,t={}){super({...e,type:2},t),this.DEFAULT_HARDFORK="london";const{chainId:r,accessList:i,maxFeePerGas:s,maxPriorityFeePerGas:u}=e;if(this.common=this._getCommon(t.common,r),this.chainId=this.common.chainId(),!1===this.common.isActivatedEIP(1559))throw new Error("EIP-1559 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const c=a.AccessLists.getAccessListData(i??[]);if(this.accessList=c.accessList,this.AccessListJSON=c.AccessListJSON,a.AccessLists.verifyAccessList(this.accessList),this.maxFeePerGas=(0,n.bufferToBigInt)((0,n.toBuffer)(""===s?"0x":s)),this.maxPriorityFeePerGas=(0,n.bufferToBigInt)((0,n.toBuffer)(""===u?"0x":u)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),o.BaseTransaction._validateNotArray(e),this.gasLimit*this.maxFeePerGas>n.MAX_INTEGER){const e=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(e)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const e=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(e)}this._validateYParity(),this._validateHighS(),this.common.isActivatedEIP(3860)&&(0,a.checkMaxInitCodeSize)(this.common,this.data.length);(t?.freeze??!0)&&Object.freeze(this)}static fromTxData(e,t={}){return new c(e,t)}static fromSerializedTx(e,t={}){if(!e.slice(0,1).equals(u))throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: 2, received: ${e.slice(0,1).toString("hex")}`);const r=(0,n.arrToBufArr)(i.RLP.decode(e.slice(1)));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return c.fromValuesArray(r,t)}static fromValuesArray(e,t={}){if(9!==e.length&&12!==e.length)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");const[r,i,s,o,a,u,h,l,f,d,p,g]=e;return this._validateNotArray({chainId:r,v:d}),(0,n.validateNoLeadingZeroes)({nonce:i,maxPriorityFeePerGas:s,maxFeePerGas:o,gasLimit:a,value:h,v:d,r:p,s:g}),new c({chainId:(0,n.bufferToBigInt)(r),nonce:i,maxPriorityFeePerGas:s,maxFeePerGas:o,gasLimit:a,to:u,value:h,data:l,accessList:f??[],v:d!==undefined?(0,n.bufferToBigInt)(d):undefined,r:p,s:g},t)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(a.AccessLists.getDataFeeEIP2930(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(e=BigInt(0)){const t=this.maxPriorityFeePerGas,r=this.maxFeePerGas-e,i=(t<r?t:r)+e;return this.gasLimit*i+this.value}raw(){return[(0,n.bigIntToUnpaddedBuffer)(this.chainId),(0,n.bigIntToUnpaddedBuffer)(this.nonce),(0,n.bigIntToUnpaddedBuffer)(this.maxPriorityFeePerGas),(0,n.bigIntToUnpaddedBuffer)(this.maxFeePerGas),(0,n.bigIntToUnpaddedBuffer)(this.gasLimit),this.to!==undefined?this.to.buf:t.from([]),(0,n.bigIntToUnpaddedBuffer)(this.value),this.data,this.accessList,this.v!==undefined?(0,n.bigIntToUnpaddedBuffer)(this.v):t.from([]),this.r!==undefined?(0,n.bigIntToUnpaddedBuffer)(this.r):t.from([]),this.s!==undefined?(0,n.bigIntToUnpaddedBuffer)(this.s):t.from([])]}serialize(){const e=this.raw();return t.concat([u,t.from(i.RLP.encode((0,n.bufArrToArr)(e)))])}getMessageToSign(e=!0){const r=this.raw().slice(0,9),o=t.concat([u,t.from(i.RLP.encode((0,n.bufArrToArr)(r)))]);return e?t.from((0,s.keccak256)(o)):o}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=t.from((0,s.keccak256)(this.serialize()))),this.cache.hash):t.from((0,s.keccak256)(this.serialize()))}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const e=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(e)}const e=this.getMessageToVerifySignature(),{v:t,r:r,s:i}=this;this._validateHighS();try{return(0,n.ecrecover)(e,t+BigInt(27),(0,n.bigIntToUnpaddedBuffer)(r),(0,n.bigIntToUnpaddedBuffer)(i))}catch(e){const t=this._errorMsg("Invalid Signature");throw new Error(t)}}_processSignature(e,t,r){const i={...this.txOptions,common:this.common};return c.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:(0,n.bufferToBigInt)(t),s:(0,n.bufferToBigInt)(r)},i)}toJSON(){const e=a.AccessLists.getAccessListJSON(this.accessList);return{chainId:(0,n.bigIntToHex)(this.chainId),nonce:(0,n.bigIntToHex)(this.nonce),maxPriorityFeePerGas:(0,n.bigIntToHex)(this.maxPriorityFeePerGas),maxFeePerGas:(0,n.bigIntToHex)(this.maxFeePerGas),gasLimit:(0,n.bigIntToHex)(this.gasLimit),to:this.to!==undefined?this.to.toString():undefined,value:(0,n.bigIntToHex)(this.value),data:"0x"+this.data.toString("hex"),accessList:e,v:this.v!==undefined?(0,n.bigIntToHex)(this.v):undefined,r:this.r!==undefined?(0,n.bigIntToHex)(this.r):undefined,s:this.s!==undefined?(0,n.bigIntToHex)(this.s):undefined}}errorStr(){let e=this._getSharedErrorPostfix();return e+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}r.FeeMarketEIP1559Transaction=c}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>@ethereumjs/tx",file:"node_modules/eth-lattice-keyring/node_modules/@ethereumjs/tx/dist/eip1559Transaction.js"}],[271,{"../type/basic":235,"../type/composite":243,"./abstract":267,"@chainsafe/persistent-merkle-tree":218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getContainerTreeViewDUClass=void 0;const i=e("@chainsafe/persistent-merkle-tree"),n=e("../type/basic"),s=e("../type/composite"),o=e("./abstract");class a extends o.TreeViewDU{constructor(e,t,r){super(),this.type=e,this._rootNode=t,this.nodes=[],this.nodesChanged=new Set,this.viewsChanged=new Map,r?(this.nodes=r.nodes,this.caches=r.caches,this.nodesPopulated=r.nodesPopulated):(this.nodes=[],this.caches=[],this.nodesPopulated=!1)}get node(){return this._rootNode}get cache(){return{nodes:this.nodes,caches:this.caches,nodesPopulated:this.nodesPopulated}}commit(){if(0===this.nodesChanged.size&&0===this.viewsChanged.size)return;const e=[];for(const[t,r]of this.viewsChanged){const i=this.type.fieldsEntries[t].fieldType,n=i.commitViewDU(r);this.nodes[t]=n,e.push({index:t,node:n});const s=i.cacheOfViewDU(r);s&&(this.caches[t]=s)}for(const t of this.nodesChanged)e.push({index:t,node:this.nodes[t]});const t=e.sort(((e,t)=>e.index-t.index)),r=t.map((e=>e.index)),n=t.map((e=>e.node));this._rootNode=i.setNodesAtDepth(this._rootNode,this.type.depth,r,n),this.nodesChanged.clear(),this.viewsChanged.clear()}clearCache(){this.nodes=[],this.caches=[],this.nodesPopulated=!1,this.nodesChanged.clear(),this.viewsChanged.clear()}}r.getContainerTreeViewDUClass=function(e){class t extends a{}for(let r=0;r<e.fieldsEntries.length;r++){const{fieldName:o,fieldType:a}=e.fieldsEntries[r];if(n.isBasicType(a))Object.defineProperty(t.prototype,o,{configurable:!1,enumerable:!0,get:function(){let e=this.nodes[r];return e===undefined&&(e=i.getNodeAtDepth(this._rootNode,this.type.depth,r),this.nodes[r]=e),a.tree_getFromNode(e)},set:function(e){let t;if(this.nodesChanged.has(r))t=this.nodes[r];else{t=(this.nodes[r]??i.getNodeAtDepth(this._rootNode,this.type.depth,r)).clone(),this.nodes[r]=t,this.nodesChanged.add(r)}a.tree_setToNode(t,e)}});else{if(!s.isCompositeType(a))throw Error(`Unknown fieldType ${a.typeName} for fieldName ${o}`);Object.defineProperty(t.prototype,o,{configurable:!1,enumerable:!0,get:function(){const e=this.viewsChanged.get(r);if(e)return e;let t=this.nodes[r];t===undefined&&(t=i.getNodeAtDepth(this._rootNode,this.type.depth,r),this.nodes[r]=t);const n=a.getViewDU(t,this.caches[r]);return a.isViewMutable&&this.viewsChanged.set(r,n),n},set:function(e){this.viewsChanged.set(r,e)}})}}return Object.defineProperty(t,"name",{value:e.typeName,writable:!1}),t}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/viewDU/container.js"}],[2710,{"./baseTransaction":2707,"./util":2718,"@ethereumjs/rlp":369,"@ethereumjs/util":393,buffer:2426,"ethereum-cryptography/keccak":2720},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.AccessListEIP2930Transaction=void 0;const i=e("@ethereumjs/rlp"),n=e("@ethereumjs/util"),s=e("ethereum-cryptography/keccak"),o=e("./baseTransaction"),a=e("./util"),u=t.from(1..toString(16).padStart(2,"0"),"hex");class c extends o.BaseTransaction{constructor(e,t={}){super({...e,type:1},t),this.DEFAULT_HARDFORK="berlin";const{chainId:r,accessList:i,gasPrice:s}=e;if(this.common=this._getCommon(t.common,r),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([2718,2930]);const u=a.AccessLists.getAccessListData(i??[]);if(this.accessList=u.accessList,this.AccessListJSON=u.AccessListJSON,a.AccessLists.verifyAccessList(this.accessList),this.gasPrice=(0,n.bufferToBigInt)((0,n.toBuffer)(""===s?"0x":s)),this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),o.BaseTransaction._validateNotArray(e),this.gasPrice*this.gasLimit>n.MAX_INTEGER){const e=this._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER");throw new Error(e)}this._validateYParity(),this._validateHighS(),this.common.isActivatedEIP(3860)&&(0,a.checkMaxInitCodeSize)(this.common,this.data.length);(t?.freeze??!0)&&Object.freeze(this)}static fromTxData(e,t={}){return new c(e,t)}static fromSerializedTx(e,t={}){if(!e.slice(0,1).equals(u))throw new Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: 1, received: ${e.slice(0,1).toString("hex")}`);const r=(0,n.arrToBufArr)(i.RLP.decode(Uint8Array.from(e.slice(1))));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return c.fromValuesArray(r,t)}static fromValuesArray(e,t={}){if(8!==e.length&&11!==e.length)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");const[r,i,s,o,a,u,h,l,f,d,p]=e;this._validateNotArray({chainId:r,v:f}),(0,n.validateNoLeadingZeroes)({nonce:i,gasPrice:s,gasLimit:o,value:u,v:f,r:d,s:p});return new c({chainId:(0,n.bufferToBigInt)(r),nonce:i,gasPrice:s,gasLimit:o,to:a,value:u,data:h,accessList:l??[],v:f!==undefined?(0,n.bufferToBigInt)(f):undefined,r:d,s:p},t)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(a.AccessLists.getDataFeeEIP2930(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}raw(){return[(0,n.bigIntToUnpaddedBuffer)(this.chainId),(0,n.bigIntToUnpaddedBuffer)(this.nonce),(0,n.bigIntToUnpaddedBuffer)(this.gasPrice),(0,n.bigIntToUnpaddedBuffer)(this.gasLimit),this.to!==undefined?this.to.buf:t.from([]),(0,n.bigIntToUnpaddedBuffer)(this.value),this.data,this.accessList,this.v!==undefined?(0,n.bigIntToUnpaddedBuffer)(this.v):t.from([]),this.r!==undefined?(0,n.bigIntToUnpaddedBuffer)(this.r):t.from([]),this.s!==undefined?(0,n.bigIntToUnpaddedBuffer)(this.s):t.from([])]}serialize(){const e=this.raw();return t.concat([u,t.from(i.RLP.encode((0,n.bufArrToArr)(e)))])}getMessageToSign(e=!0){const r=this.raw().slice(0,8),o=t.concat([u,t.from(i.RLP.encode((0,n.bufArrToArr)(r)))]);return e?t.from((0,s.keccak256)(o)):o}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=t.from((0,s.keccak256)(this.serialize()))),this.cache.hash):t.from((0,s.keccak256)(this.serialize()))}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const e=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(e)}const e=this.getMessageToVerifySignature(),{v:t,r:r,s:i}=this;this._validateHighS();try{return(0,n.ecrecover)(e,t+BigInt(27),(0,n.bigIntToUnpaddedBuffer)(r),(0,n.bigIntToUnpaddedBuffer)(i))}catch(e){const t=this._errorMsg("Invalid Signature");throw new Error(t)}}_processSignature(e,t,r){const i={...this.txOptions,common:this.common};return c.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:(0,n.bufferToBigInt)(t),s:(0,n.bufferToBigInt)(r)},i)}toJSON(){const e=a.AccessLists.getAccessListJSON(this.accessList);return{chainId:(0,n.bigIntToHex)(this.chainId),nonce:(0,n.bigIntToHex)(this.nonce),gasPrice:(0,n.bigIntToHex)(this.gasPrice),gasLimit:(0,n.bigIntToHex)(this.gasLimit),to:this.to!==undefined?this.to.toString():undefined,value:(0,n.bigIntToHex)(this.value),data:"0x"+this.data.toString("hex"),accessList:e,v:this.v!==undefined?(0,n.bigIntToHex)(this.v):undefined,r:this.r!==undefined?(0,n.bigIntToHex)(this.r):undefined,s:this.s!==undefined?(0,n.bigIntToHex)(this.s):undefined}}errorStr(){let e=this._getSharedErrorPostfix();return e+=` gasPrice=${this.gasPrice} accessListCount=${this.accessList?.length??0}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}r.AccessListEIP2930Transaction=c}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>@ethereumjs/tx",file:"node_modules/eth-lattice-keyring/node_modules/@ethereumjs/tx/dist/eip2930Transaction.js"}],[2711,{"./baseTransaction":2707,"./constants":2708,"./kzg/kzg":2714,"./types":2717,"./util":2718,"./utils/blobHelpers":2719,"@chainsafe/ssz":230,"@ethereumjs/util":393,buffer:2426,"ethereum-cryptography/keccak":2720},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.BlobEIP4844Transaction=void 0;const i=e("@chainsafe/ssz"),n=e("@ethereumjs/util"),s=e("ethereum-cryptography/keccak"),o=e("./baseTransaction"),a=e("./constants"),u=e("./kzg/kzg"),c=e("./types"),h=e("./util"),l=e("./utils/blobHelpers"),f=t.from(5..toString(16).padStart(2,"0"),"hex");class d extends o.BaseTransaction{constructor(e,t={}){super({...e,type:5},t);const{chainId:r,accessList:i,maxFeePerGas:s,maxPriorityFeePerGas:u,maxFeePerDataGas:c}=e;if(this.common=this._getCommon(t.common,r),this.chainId=this.common.chainId(),!1===this.common.isActivatedEIP(1559))throw new Error("EIP-1559 not enabled on Common");if(!1===this.common.isActivatedEIP(4844))throw new Error("EIP-4844 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const l=h.AccessLists.getAccessListData(i??[]);if(this.accessList=l.accessList,this.AccessListJSON=l.AccessListJSON,h.AccessLists.verifyAccessList(this.accessList),this.maxFeePerGas=(0,n.bufferToBigInt)((0,n.toBuffer)(""===s?"0x":s)),this.maxPriorityFeePerGas=(0,n.bufferToBigInt)((0,n.toBuffer)(""===u?"0x":u)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),o.BaseTransaction._validateNotArray(e),this.gasLimit*this.maxFeePerGas>n.MAX_INTEGER){const e=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(e)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const e=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(e)}this.maxFeePerDataGas=(0,n.bufferToBigInt)((0,n.toBuffer)(""===(c??"")?"0x":c)),this.versionedHashes=(e.versionedHashes??[]).map((e=>(0,n.toBuffer)(e))),this._validateYParity(),this._validateHighS(),this.common.isActivatedEIP(3860)&&(0,h.checkMaxInitCodeSize)(this.common,this.data.length);for(const e of this.versionedHashes){if(32!==e.length){const e=this._errorMsg("versioned hash is invalid length");throw new Error(e)}if(BigInt(e[0])!==this.common.paramByEIP("sharding","blobCommitmentVersionKzg",4844)){const e=this._errorMsg("versioned hash does not start with KZG commitment version");throw new Error(e)}}if(this.versionedHashes.length>a.LIMIT_BLOBS_PER_TX){const e=this._errorMsg(`tx can contain at most ${a.LIMIT_BLOBS_PER_TX} blobs`);throw new Error(e)}this.blobs=e.blobs?.map((e=>(0,n.toBuffer)(e))),this.kzgCommitments=e.kzgCommitments?.map((e=>(0,n.toBuffer)(e))),this.aggregateKzgProof=(0,n.toBuffer)(e.kzgProof);(t?.freeze??!0)&&Object.freeze(this)}static fromTxData(e,t){return new d(e,t)}static minimalFromNetworkWrapper(e,t){return d.fromTxData({...e,blobs:undefined,kzgCommitments:undefined,kzgProof:undefined},t)}static fromSerializedBlobTxNetworkWrapper(e,r){if(!r||!r.common)throw new Error("common instance required to validate versioned hashes");const s=c.BlobNetworkTransactionWrapper.deserialize(e.slice(1)),o=s.tx.message,a=Number(r.common.paramByEIP("sharding","blobCommitmentVersionKzg",4844));((e,t,r,n,s)=>{if(e.length!==t.length||t.length!==r.length)throw new Error("Number of versionedHashes, blobs, and commitments not all equal");try{u.kzg.verifyAggregateKzgProof(t,r,n)}catch(e){throw new Error("KZG proof cannot be verified from blobs/commitments")}for(let t=0;t<e.length;t++){const n=(0,l.computeVersionedHash)(r[t],s);if(!(0,i.byteArrayEquals)(n,e[t]))throw new Error(`commitment for blob at index ${t} does not match versionedHash`)}})(o.blobVersionedHashes,s.blobs,s.blobKzgs,s.kzgAggregatedProof,a);const h=[];for(const e of o.accessList){const r=[t.from(e.address),e.storageKeys.map((e=>t.from(e)))];h.push(r)}const f=null===o.to.value?undefined:n.Address.fromString((0,n.bufferToHex)(t.from(o.to.value))),p=o.blobVersionedHashes.map((e=>t.from(e))),g=s.blobKzgs.map((e=>t.from(e))),y=s.blobs.map((e=>t.from(e))),m={...o,versionedHashes:p,accessList:h,to:f,blobs:y,kzgCommitments:g,kzgProof:t.from(s.kzgAggregatedProof),r:s.tx.signature.r,s:s.tx.signature.s,v:BigInt(s.tx.signature.yParity),gasLimit:o.gas,maxFeePerGas:o.maxFeePerGas,maxPriorityFeePerGas:o.maxPriorityFeePerGas};return new d(m,r)}static fromSerializedTx(e,r){const i=c.SignedBlobTransactionType.deserialize(e.slice(1)),s=i.message,o=[];for(const e of s.accessList){const r=[t.from(e.address),e.storageKeys.map((e=>t.from(e)))];o.push(r)}const a=null===s.to.value?undefined:n.Address.fromString((0,n.bufferToHex)(t.from(s.to.value))),u=s.blobVersionedHashes.map((e=>t.from(e))),h={...s,versionedHashes:u,to:a,accessList:o,r:i.signature.r,s:i.signature.s,v:BigInt(i.signature.yParity),gasLimit:i.message.gas};return new d(h,r)}getUpfrontCost(e=BigInt(0)){const t=this.maxPriorityFeePerGas,r=this.maxFeePerGas-e,i=(t<r?t:r)+e;return this.gasLimit*i+this.value}raw(){throw new Error("Method not implemented.")}toValue(){const e={selector:this.to!==undefined?1:0,value:this.to?.toBuffer()??null};return{message:{chainId:this.common.chainId(),nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gas:this.gasLimit,to:e,value:this.value,data:this.data,accessList:this.accessList.map((e=>({address:e[0],storageKeys:e[1]}))),blobVersionedHashes:this.versionedHashes,maxFeePerDataGas:this.maxFeePerDataGas},signature:{r:this.r??BigInt(0),s:this.s??BigInt(0),yParity:this.v===BigInt(1)}}}serialize(){const e=c.SignedBlobTransactionType.serialize(this.toValue());return t.concat([f,e])}serializeNetworkWrapper(){if(this.blobs===undefined||this.kzgCommitments===undefined||this.aggregateKzgProof===undefined)throw new Error("cannot serialize network wrapper without blobs, KZG commitments and aggregate KZG proof provided");const e={selector:this.to!==undefined?1:0,value:this.to?.toBuffer()??null},r=this.blobs?.map((e=>Uint8Array.from(e)))??[],i=c.BlobNetworkTransactionWrapper.serialize({blobs:r,blobKzgs:this.kzgCommitments?.map((e=>Uint8Array.from(e)))??[],tx:{...(0,h.blobTxToNetworkWrapperDataFormat)(this),...e},kzgAggregatedProof:Uint8Array.from(this.aggregateKzgProof??[])});return t.concat([t.from([5]),i])}getMessageToSign(e){return this.unsignedHash()}unsignedHash(){const e=c.BlobTransactionType.serialize(this.toValue().message);return t.from((0,s.keccak256)(t.concat([f,e])))}hash(){return t.from((0,s.keccak256)(this.serialize()))}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const e=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(e)}const e=this.getMessageToVerifySignature(),{v:t,r:r,s:i}=this;this._validateHighS();try{return(0,n.ecrecover)(e,t+BigInt(27),(0,n.bigIntToUnpaddedBuffer)(r),(0,n.bigIntToUnpaddedBuffer)(i))}catch(e){const t=this._errorMsg("Invalid Signature");throw new Error(t)}}toJSON(){const e=h.AccessLists.getAccessListJSON(this.accessList);return{chainId:(0,n.bigIntToHex)(this.chainId),nonce:(0,n.bigIntToHex)(this.nonce),maxPriorityFeePerGas:(0,n.bigIntToHex)(this.maxPriorityFeePerGas),maxFeePerGas:(0,n.bigIntToHex)(this.maxFeePerGas),gasLimit:(0,n.bigIntToHex)(this.gasLimit),to:this.to!==undefined?this.to.toString():undefined,value:(0,n.bigIntToHex)(this.value),data:"0x"+this.data.toString("hex"),accessList:e,v:this.v!==undefined?(0,n.bigIntToHex)(this.v):undefined,r:this.r!==undefined?(0,n.bigIntToHex)(this.r):undefined,s:this.s!==undefined?(0,n.bigIntToHex)(this.s):undefined,maxFeePerDataGas:(0,n.bigIntToHex)(this.maxFeePerDataGas),versionedHashes:this.versionedHashes.map((e=>(0,n.bufferToHex)(e)))}}_processSignature(e,t,r){const i={...this.txOptions,common:this.common};return d.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:(0,n.bufferToBigInt)(t),s:(0,n.bufferToBigInt)(r),maxFeePerDataGas:this.maxFeePerDataGas,versionedHashes:this.versionedHashes,blobs:this.blobs,kzgCommitments:this.kzgCommitments,kzgProof:this.aggregateKzgProof},i)}errorStr(){let e=this._getSharedErrorPostfix();return e+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}numBlobs(){return this.versionedHashes.length}}r.BlobEIP4844Transaction=d}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>@ethereumjs/tx",file:"node_modules/eth-lattice-keyring/node_modules/@ethereumjs/tx/dist/eip4844Transaction.js"}],[2712,{"@ethereumjs/util":393},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.normalizeTxParams=void 0;const i=e("@ethereumjs/util");r.normalizeTxParams=e=>{const t=Object.assign({},e);return t.gasLimit=(0,i.toType)(t.gasLimit??t.gas,i.TypeOutput.BigInt),t.data=t.data===undefined?t.input:t.data,t.gasPrice=t.gasPrice!==undefined?BigInt(t.gasPrice):undefined,t.value=t.value!==undefined?BigInt(t.value):undefined,t.to=null!==t.to&&t.to!==undefined?(0,i.setLengthLeft)((0,i.toBuffer)(t.to),20):null,t.v=(0,i.toType)(t.v,i.TypeOutput.BigInt),t}}}},{package:"eth-lattice-keyring>@ethereumjs/tx",file:"node_modules/eth-lattice-keyring/node_modules/@ethereumjs/tx/dist/fromRpc.js"}],[2713,{"./eip1559Transaction":2709,"./eip2930Transaction":2710,"./eip4844Transaction":2711,"./kzg/kzg":2714,"./legacyTransaction":2715,"./transactionFactory":2716,"./types":2717,"./utils/blobHelpers":2719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){i===undefined&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){i===undefined&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.computeVersionedHash=r.TransactionFactory=r.Transaction=r.kzg=r.initKZG=r.BlobEIP4844Transaction=r.AccessListEIP2930Transaction=r.FeeMarketEIP1559Transaction=void 0;var s=e("./eip1559Transaction");Object.defineProperty(r,"FeeMarketEIP1559Transaction",{enumerable:!0,get:function(){return s.FeeMarketEIP1559Transaction}});var o=e("./eip2930Transaction");Object.defineProperty(r,"AccessListEIP2930Transaction",{enumerable:!0,get:function(){return o.AccessListEIP2930Transaction}});var a=e("./eip4844Transaction");Object.defineProperty(r,"BlobEIP4844Transaction",{enumerable:!0,get:function(){return a.BlobEIP4844Transaction}});var u=e("./kzg/kzg");Object.defineProperty(r,"initKZG",{enumerable:!0,get:function(){return u.initKZG}}),Object.defineProperty(r,"kzg",{enumerable:!0,get:function(){return u.kzg}});var c=e("./legacyTransaction");Object.defineProperty(r,"Transaction",{enumerable:!0,get:function(){return c.Transaction}});var h=e("./transactionFactory");Object.defineProperty(r,"TransactionFactory",{enumerable:!0,get:function(){return h.TransactionFactory}}),n(e("./types"),r);var l=e("./utils/blobHelpers");Object.defineProperty(r,"computeVersionedHash",{enumerable:!0,get:function(){return l.computeVersionedHash}})}}},{package:"eth-lattice-keyring>@ethereumjs/tx",file:"node_modules/eth-lattice-keyring/node_modules/@ethereumjs/tx/dist/index.js"}],[2714,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function i(){throw Error("kzg library not loaded")}Object.defineProperty(r,"__esModule",{value:!0}),r.initKZG=r.kzg=void 0,r.kzg={freeTrustedSetup:i,loadTrustedSetup:i,blobToKzgCommitment:i,computeAggregateKzgProof:i,verifyKzgProof:i,verifyAggregateKzgProof:i},r.initKZG=function(e,t){r.kzg=e,r.kzg.loadTrustedSetup(t)}}}},{package:"eth-lattice-keyring>@ethereumjs/tx",file:"node_modules/eth-lattice-keyring/node_modules/@ethereumjs/tx/dist/kzg/kzg.js"}],[2715,{"./baseTransaction":2707,"./types":2717,"./util":2718,"@ethereumjs/rlp":369,"@ethereumjs/util":393,buffer:2426,"ethereum-cryptography/keccak":2720},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.Transaction=void 0;const i=e("@ethereumjs/rlp"),n=e("@ethereumjs/util"),s=e("ethereum-cryptography/keccak"),o=e("./baseTransaction"),a=e("./types"),u=e("./util");function c(e,t){const r=Number(e),i=2*Number(t);return r===i+35||r===i+36}class h extends o.BaseTransaction{constructor(e,t={}){if(super({...e,type:0},t),this.common=this._validateTxV(this.v,t.common),this.gasPrice=(0,n.bufferToBigInt)((0,n.toBuffer)(""===e.gasPrice?"0x":e.gasPrice)),this.gasPrice*this.gasLimit>n.MAX_INTEGER){const e=this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(e)}this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),o.BaseTransaction._validateNotArray(e),this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?c(this.v,this.common.chainId())&&this.activeCapabilities.push(a.Capability.EIP155ReplayProtection):this.activeCapabilities.push(a.Capability.EIP155ReplayProtection)),this.common.isActivatedEIP(3860)&&(0,u.checkMaxInitCodeSize)(this.common,this.data.length);(t?.freeze??!0)&&Object.freeze(this)}static fromTxData(e,t={}){return new h(e,t)}static fromSerializedTx(e,t={}){const r=(0,n.arrToBufArr)(i.RLP.decode(Uint8Array.from(e)));if(!Array.isArray(r))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(r,t)}static fromValuesArray(e,t={}){if(6!==e.length&&9!==e.length)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");const[r,i,s,o,a,u,c,l,f]=e;return(0,n.validateNoLeadingZeroes)({nonce:r,gasPrice:i,gasLimit:s,value:a,v:c,r:l,s:f}),new h({nonce:r,gasPrice:i,gasLimit:s,to:o,value:a,data:u,v:c,r:l,s:f},t)}raw(){return[(0,n.bigIntToUnpaddedBuffer)(this.nonce),(0,n.bigIntToUnpaddedBuffer)(this.gasPrice),(0,n.bigIntToUnpaddedBuffer)(this.gasLimit),this.to!==undefined?this.to.buf:t.from([]),(0,n.bigIntToUnpaddedBuffer)(this.value),this.data,this.v!==undefined?(0,n.bigIntToUnpaddedBuffer)(this.v):t.from([]),this.r!==undefined?(0,n.bigIntToUnpaddedBuffer)(this.r):t.from([]),this.s!==undefined?(0,n.bigIntToUnpaddedBuffer)(this.s):t.from([])]}serialize(){return t.from(i.RLP.encode((0,n.bufArrToArr)(this.raw())))}_getMessageToSign(){const e=[(0,n.bigIntToUnpaddedBuffer)(this.nonce),(0,n.bigIntToUnpaddedBuffer)(this.gasPrice),(0,n.bigIntToUnpaddedBuffer)(this.gasLimit),this.to!==undefined?this.to.buf:t.from([]),(0,n.bigIntToUnpaddedBuffer)(this.value),this.data];return this.supports(a.Capability.EIP155ReplayProtection)&&(e.push((0,n.toBuffer)(this.common.chainId())),e.push((0,n.unpadBuffer)((0,n.toBuffer)(0))),e.push((0,n.unpadBuffer)((0,n.toBuffer)(0)))),e}getMessageToSign(e=!0){const r=this._getMessageToSign();return e?t.from((0,s.keccak256)(i.RLP.encode((0,n.bufArrToArr)(r)))):r}getDataFee(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:super.getDataFee(),hardfork:this.common.hardfork()}),super.getDataFee())}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=t.from((0,s.keccak256)(i.RLP.encode((0,n.bufArrToArr)(this.raw()))))),this.cache.hash):t.from((0,s.keccak256)(i.RLP.encode((0,n.bufArrToArr)(this.raw()))))}getMessageToVerifySignature(){if(!this.isSigned()){const e=this._errorMsg("This transaction is not signed");throw new Error(e)}const e=this._getMessageToSign();return t.from((0,s.keccak256)(i.RLP.encode((0,n.bufArrToArr)(e))))}getSenderPublicKey(){const e=this.getMessageToVerifySignature(),{v:t,r:r,s:i}=this;this._validateHighS();try{return(0,n.ecrecover)(e,t,(0,n.bigIntToUnpaddedBuffer)(r),(0,n.bigIntToUnpaddedBuffer)(i),this.supports(a.Capability.EIP155ReplayProtection)?this.common.chainId():undefined)}catch(e){const t=this._errorMsg("Invalid Signature");throw new Error(t)}}_processSignature(e,t,r){this.supports(a.Capability.EIP155ReplayProtection)&&(e+=this.common.chainId()*BigInt(2)+BigInt(8));const i={...this.txOptions,common:this.common};return h.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:e,r:(0,n.bufferToBigInt)(t),s:(0,n.bufferToBigInt)(r)},i)}toJSON(){return{nonce:(0,n.bigIntToHex)(this.nonce),gasPrice:(0,n.bigIntToHex)(this.gasPrice),gasLimit:(0,n.bigIntToHex)(this.gasLimit),to:this.to!==undefined?this.to.toString():undefined,value:(0,n.bigIntToHex)(this.value),data:"0x"+this.data.toString("hex"),v:this.v!==undefined?(0,n.bigIntToHex)(this.v):undefined,r:this.r!==undefined?(0,n.bigIntToHex)(this.r):undefined,s:this.s!==undefined?(0,n.bigIntToHex)(this.s):undefined}}_validateTxV(e,t){let r;const i=e!==undefined?Number(e):undefined;if(i!==undefined&&i<37&&27!==i&&28!==i)throw new Error(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${i}`);if(i!==undefined&&0!==i&&(!t||t.gteHardfork("spuriousDragon"))&&27!==i&&28!==i)if(t){if(!c(BigInt(i),t.chainId()))throw new Error(`Incompatible EIP155-based V ${i} and chain id ${t.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`)}else{let e;e=(i-35)%2==0?35:36,r=BigInt(i-e)/BigInt(2)}return this._getCommon(t,r)}errorStr(){let e=this._getSharedErrorPostfix();return e+=` gasPrice=${this.gasPrice}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}r.Transaction=h}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>@ethereumjs/tx",file:"node_modules/eth-lattice-keyring/node_modules/@ethereumjs/tx/dist/legacyTransaction.js"}],[2716,{"../../../../../is-buffer/index.js":3308,"./eip1559Transaction":2709,"./eip2930Transaction":2710,"./eip4844Transaction":2711,"./fromRpc":2712,"./legacyTransaction":2715,"@ethereumjs/util":393,"@ethersproject/providers":485},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.TransactionFactory=void 0;const i=e("@ethereumjs/util"),n=e("@ethersproject/providers"),s=e("./eip1559Transaction"),o=e("./eip2930Transaction"),a=e("./eip4844Transaction"),u=e("./fromRpc"),c=e("./legacyTransaction");class h{constructor(){}static fromTxData(e,t={}){if("type"in e&&e.type!==undefined){const r=Number((0,i.bufferToBigInt)((0,i.toBuffer)(e.type)));if(0===r)return c.Transaction.fromTxData(e,t);if(1===r)return o.AccessListEIP2930Transaction.fromTxData(e,t);if(2===r)return s.FeeMarketEIP1559Transaction.fromTxData(e,t);if(5===r)return a.BlobEIP4844Transaction.fromTxData(e,t);throw new Error(`Tx instantiation with type ${r} not supported`)}return c.Transaction.fromTxData(e,t)}static fromSerializedData(e,t={}){if(!(e[0]<=127))return c.Transaction.fromSerializedTx(e,t);switch(e[0]){case 1:return o.AccessListEIP2930Transaction.fromSerializedTx(e,t);case 2:return s.FeeMarketEIP1559Transaction.fromSerializedTx(e,t);case 5:return a.BlobEIP4844Transaction.fromSerializedTx(e,t);default:throw new Error(`TypedTransaction with ID ${e[0]} unknown`)}}static fromBlockBodyData(e,r={}){if(t.isBuffer(e))return this.fromSerializedData(e,r);if(Array.isArray(e))return c.Transaction.fromValuesArray(e,r);throw new Error("Cannot decode transaction: unknown type input")}static async fromEthersProvider(e,t,r){const i="string"==typeof e?new n.JsonRpcProvider(e):e,s=await i.send("eth_getTransactionByHash",[t]),o=(0,u.normalizeTxParams)(s);return h.fromTxData(o,r)}}r.TransactionFactory=h}).call(this)}).call(this,{isBuffer:e("../../../../../is-buffer/index.js")})}}},{package:"eth-lattice-keyring>@ethereumjs/tx",file:"node_modules/eth-lattice-keyring/node_modules/@ethereumjs/tx/dist/transactionFactory.js"}],[2717,{"./constants":2708,"@chainsafe/ssz":230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BlobNetworkTransactionWrapper=r.KZGProofType=r.KZGCommitmentType=r.SignedBlobTransactionType=r.ECDSASignatureType=r.BlobTransactionType=r.AccessTupleType=r.AddressType=r.isAccessList=r.isAccessListBuffer=r.Capability=void 0;const i=e("@chainsafe/ssz"),n=e("./constants"),s=new i.ByteVectorType(20),o=new i.ByteVectorType(32),a=new i.ByteVectorType(48),u=new i.UintBigintType(8),c=new i.UintBigintType(32);function h(e){if(0===e.length)return!0;const t=e[0];return!!Array.isArray(t)}!function(e){e[e.EIP155ReplayProtection=155]="EIP155ReplayProtection",e[e.EIP1559FeeMarket=1559]="EIP1559FeeMarket",e[e.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",e[e.EIP2930AccessLists=2930]="EIP2930AccessLists"}(r.Capability||(r.Capability={})),r.isAccessListBuffer=h,r.isAccessList=function(e){return!h(e)},r.AddressType=s,r.AccessTupleType=new i.ContainerType({address:r.AddressType,storageKeys:new i.ListCompositeType(o,n.MAX_VERSIONED_HASHES_LIST_SIZE)}),r.BlobTransactionType=new i.ContainerType({chainId:c,nonce:u,maxPriorityFeePerGas:c,maxFeePerGas:c,gas:u,to:new i.UnionType([new i.NoneType,r.AddressType]),value:c,data:new i.ByteListType(n.MAX_CALLDATA_SIZE),accessList:new i.ListCompositeType(r.AccessTupleType,n.MAX_ACCESS_LIST_SIZE),maxFeePerDataGas:c,blobVersionedHashes:new i.ListCompositeType(o,n.MAX_VERSIONED_HASHES_LIST_SIZE)}),r.ECDSASignatureType=new i.ContainerType({yParity:new i.BooleanType,r:c,s:c}),r.SignedBlobTransactionType=new i.ContainerType({message:r.BlobTransactionType,signature:r.ECDSASignatureType}),r.KZGCommitmentType=a,r.KZGProofType=r.KZGCommitmentType,r.BlobNetworkTransactionWrapper=new i.ContainerType({tx:r.SignedBlobTransactionType,blobKzgs:new i.ListCompositeType(r.KZGCommitmentType,n.MAX_TX_WRAP_KZG_COMMITMENTS),blobs:new i.ListCompositeType(new i.ByteVectorType(n.FIELD_ELEMENTS_PER_BLOB*n.BYTES_PER_FIELD_ELEMENT),n.LIMIT_BLOBS_PER_TX),kzgAggregatedProof:r.KZGProofType})}}},{package:"eth-lattice-keyring>@ethereumjs/tx",file:"node_modules/eth-lattice-keyring/node_modules/@ethereumjs/tx/dist/types.js"}],[2718,{"./types":2717,"@ethereumjs/util":393},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.blobTxToNetworkWrapperDataFormat=r.AccessLists=r.checkMaxInitCodeSize=void 0;const i=e("@ethereumjs/util"),n=e("./types");r.checkMaxInitCodeSize=function(e,t){const r=e.param("vm","maxInitCodeSize");if(r&&BigInt(t)>r)throw new Error(`the initcode size of this transaction is too large: it is ${t} while the max is ${e.param("vm","maxInitCodeSize")}`)};r.AccessLists=class{static getAccessListData(e){let t,r;if((0,n.isAccessList)(e)){t=e;const n=[];for(let t=0;t<e.length;t++){const r=e[t],s=(0,i.toBuffer)(r.address),o=[];for(let e=0;e<r.storageKeys.length;e++)o.push((0,i.toBuffer)(r.storageKeys[e]));n.push([s,o])}r=n}else{r=e??[];const n=[];for(let e=0;e<r.length;e++){const t=r[e],s=(0,i.bufferToHex)(t[0]),o=[];for(let e=0;e<t[1].length;e++)o.push((0,i.bufferToHex)(t[1][e]));const a={address:s,storageKeys:o};n.push(a)}t=n}return{AccessListJSON:t,accessList:r}}static verifyAccessList(e){for(let t=0;t<e.length;t++){const r=e[t],i=r[0],n=r[1];if(r[2]!==undefined)throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(20!==i.length)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let e=0;e<n.length;e++)if(32!==n[e].length)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}}static getAccessListJSON(e){const t=[];for(let r=0;r<e.length;r++){const n=e[r],s={address:"0x"+(0,i.setLengthLeft)(n[0],20).toString("hex"),storageKeys:[]},o=n[1];for(let e=0;e<o.length;e++){const t=o[e];s.storageKeys.push("0x"+(0,i.setLengthLeft)(t,32).toString("hex"))}t.push(s)}return t}static getDataFeeEIP2930(e,t){const r=t.param("gasPrices","accessListStorageKeyCost"),i=t.param("gasPrices","accessListAddressCost");let n=0;for(let t=0;t<e.length;t++){n+=e[t][1].length}return e.length*Number(i)+n*Number(r)}};r.blobTxToNetworkWrapperDataFormat=e=>{const t={selector:e.to!==undefined?1:0,value:e.to?.toBuffer()??null};return{message:{chainId:e.common.chainId(),nonce:e.nonce,maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas,gas:e.gasLimit,to:t,value:e.value,data:e.data,accessList:e.accessList.map((e=>({address:e[0],storageKeys:e[1]}))),blobVersionedHashes:e.versionedHashes,maxFeePerDataGas:e.maxFeePerDataGas},signature:{r:e.r??BigInt(0),s:e.s??BigInt(0),yParity:e.v===BigInt(1)}}}}}},{package:"eth-lattice-keyring>@ethereumjs/tx",file:"node_modules/eth-lattice-keyring/node_modules/@ethereumjs/tx/dist/util.js"}],[2719,{"../kzg/kzg":2714,buffer:2426,"ethereum-cryptography/sha256":2728},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.commitmentsToVersionedHashes=r.computeVersionedHash=r.blobsToCommitments=r.getBlobs=void 0;const i=e("ethereum-cryptography/sha256"),n=e("../kzg/kzg"),s=4096,o=131072;function a(e){const r=t.alloc(131072,"binary");for(let i=0;i<s;i++){const n=t.alloc(32,"binary");n.fill(e.subarray(31*i,31*(i+1)),0,31),r.fill(n,32*i,32*(i+1))}return r}r.getBlobs=e=>{const r=t.from(e,"binary"),i=t.byteLength(r);if(0===i)throw Error("invalid blob data");if(i>262143)throw Error("blob data is too large");const n=Math.ceil(i/o),s=function(e,r){const i=t.alloc(r*o),n=t.byteLength(e);return i.fill(e,0,n),i[n]=128,i}(r,n),u=[];for(let e=0;e<n;e++){const t=a(s.subarray(e*o,(e+1)*o));u.push(t)}return u};r.blobsToCommitments=e=>{const r=[];for(const i of e)r.push(t.from(n.kzg.blobToKzgCommitment(i)));return r};r.computeVersionedHash=(e,t)=>{const r=new Uint8Array(32);return r.set([t],0),r.set((0,i.sha256)(e).slice(1),1),r};r.commitmentsToVersionedHashes=e=>{const i=[];for(const n of e)i.push(t.from((0,r.computeVersionedHash)(n,1)));return i}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>@ethereumjs/tx",file:"node_modules/eth-lattice-keyring/node_modules/@ethereumjs/tx/dist/utils/blobHelpers.js"}],[272,{"../type/composite":243,"./abstract":267},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getContainerTreeViewDUClass=void 0;const i=e("../type/composite"),n=e("./abstract");class s extends n.TreeViewDU{constructor(e,t){super(),this.type=e,this.valueChanged=null,this._rootNode=t}get node(){return this._rootNode}get cache(){}commit(){if(null===this.valueChanged)return;const e=this.valueChanged;this.valueChanged=null,this._rootNode=this.type.value_toTree(e)}clearCache(){this.valueChanged=null}}r.getContainerTreeViewDUClass=function(e){class t extends s{}for(let r=0;r<e.fieldsEntries.length;r++){const{fieldName:n,fieldType:s}=e.fieldsEntries[r];if(s.isBasic)Object.defineProperty(t.prototype,n,{configurable:!1,enumerable:!0,get:function(){return(this.valueChanged||this._rootNode.value)[n]},set:function(e){null===this.valueChanged&&(this.valueChanged=this.type.clone(this._rootNode.value)),this.valueChanged[n]=e}});else{if(!i.isCompositeType(s))throw Error(`Unknown fieldType ${s.typeName} for fieldName ${n}`);Object.defineProperty(t.prototype,n,{configurable:!1,enumerable:!0,get:function(){const e=this.valueChanged||this._rootNode.value;return s.toViewDU(e[n])},set:function(e){null===this.valueChanged&&(this.valueChanged=this.type.clone(this._rootNode.value));const t=s.toValueFromViewDU(e);this.valueChanged[n]=t}})}}return Object.defineProperty(t,"name",{value:e.typeName,writable:!1}),t}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/viewDU/containerNodeStruct.js"}],[2720,{"./utils":2729,"@noble/hashes/sha3":2726},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.keccak512=r.keccak384=r.keccak256=r.keccak224=void 0;const i=e("@noble/hashes/sha3"),n=e("./utils");r.keccak224=(0,n.wrapHash)(i.keccak_224),r.keccak256=(()=>{const e=(0,n.wrapHash)(i.keccak_256);return e.create=i.keccak_256.create,e})(),r.keccak384=(0,n.wrapHash)(i.keccak_384),r.keccak512=(0,n.wrapHash)(i.keccak_512)}}},{package:"eth-lattice-keyring>@ethereumjs/tx>ethereum-cryptography",file:"node_modules/eth-lattice-keyring/node_modules/ethereum-cryptography/keccak.js"}],[2721,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function i(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function n(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function s(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function o(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");i(e.outputLen),i(e.blockLen)}function a(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function u(e,t){s(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(r,"__esModule",{value:!0}),r.output=r.exists=r.hash=r.bytes=r.bool=r.number=void 0,r.number=i,r.bool=n,r.bytes=s,r.hash=o,r.exists=a,r.output=u;const c={number:i,bool:n,bytes:s,hash:o,exists:a,output:u};r.default=c}}},{package:"eth-lattice-keyring>@ethereumjs/tx>ethereum-cryptography>@noble/hashes",file:"node_modules/eth-lattice-keyring/node_modules/ethereum-cryptography/node_modules/@noble/hashes/_assert.js"}],[2722,{"./_assert.js":2721,"./utils.js":2727},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SHA2=void 0;const i=e("./_assert.js"),n=e("./utils.js");class s extends n.Hash{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,n.createView)(this.buffer)}update(e){i.default.exists(this);const{view:t,buffer:r,blockLen:s}=this,o=(e=(0,n.toBytes)(e)).length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a!==s)r.set(e.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(t,0),this.pos=0);else{const t=(0,n.createView)(e);for(;s<=o-i;i+=s)this.process(t,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){i.default.exists(this),i.default.output(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:o}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let e=a;e<s;e++)t[e]=0;!function(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);const n=BigInt(32),s=BigInt(4294967295),o=Number(r>>n&s),a=Number(r&s),u=i?4:0,c=i?0:4;e.setUint32(t+u,o,i),e.setUint32(t+c,a,i)}(r,s-8,BigInt(8*this.length),o),this.process(r,0);const u=(0,n.createView)(e);this.get().forEach(((e,t)=>u.setUint32(4*t,e,o)))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:n,destroyed:s,pos:o}=this;return e.length=i,e.pos=o,e.finished=n,e.destroyed=s,i%t&&e.buffer.set(r),e}}r.SHA2=s}}},{package:"eth-lattice-keyring>@ethereumjs/tx>ethereum-cryptography>@noble/hashes",file:"node_modules/eth-lattice-keyring/node_modules/ethereum-cryptography/node_modules/@noble/hashes/_sha2.js"}],[2723,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.add=r.toBig=r.split=r.fromBig=void 0;const i=BigInt(2**32-1),n=BigInt(32);function s(e,t=!1){return t?{h:Number(e&i),l:Number(e>>n&i)}:{h:0|Number(e>>n&i),l:0|Number(e&i)}}function o(e,t=!1){let r=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let n=0;n<e.length;n++){const{h:o,l:a}=s(e[n],t);[r[n],i[n]]=[o,a]}return[r,i]}r.fromBig=s,r.split=o;r.toBig=(e,t)=>BigInt(e>>>0)<<n|BigInt(t>>>0);function a(e,t,r,i){const n=(t>>>0)+(i>>>0);return{h:e+r+(n/2**32|0)|0,l:0|n}}r.add=a;const u={fromBig:s,split:o,toBig:r.toBig,shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:a,add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,i)=>t+r+i+(e/2**32|0)|0,add4L:(e,t,r,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),add4H:(e,t,r,i,n)=>t+r+i+n+(e/2**32|0)|0,add5H:(e,t,r,i,n,s)=>t+r+i+n+s+(e/2**32|0)|0,add5L:(e,t,r,i,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0)+(n>>>0)};r.default=u}}},{package:"eth-lattice-keyring>@ethereumjs/tx>ethereum-cryptography>@noble/hashes",file:"node_modules/eth-lattice-keyring/node_modules/ethereum-cryptography/node_modules/@noble/hashes/_u64.js"}],[2724,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=void 0,r.crypto={node:undefined,web:"object"==typeof self&&"crypto"in self?self.crypto:undefined}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>ethereum-cryptography>@noble/hashes",file:"node_modules/eth-lattice-keyring/node_modules/ethereum-cryptography/node_modules/@noble/hashes/cryptoBrowser.js"}],[2725,{"./_sha2.js":2722,"./utils.js":2727},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sha256=void 0;const i=e("./_sha2.js"),n=e("./utils.js"),s=(e,t,r)=>e&t^e&r^t&r,o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u=new Uint32Array(64);class c extends i.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:r,D:i,E:n,F:s,G:o,H:a}=this;return[e,t,r,i,n,s,o,a]}set(e,t,r,i,n,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|i,this.E=0|n,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)u[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=u[e-15],r=u[e-2],i=(0,n.rotr)(t,7)^(0,n.rotr)(t,18)^t>>>3,s=(0,n.rotr)(r,17)^(0,n.rotr)(r,19)^r>>>10;u[e]=s+u[e-7]+i+u[e-16]|0}let{A:r,B:i,C:a,D:c,E:h,F:l,G:f,H:d}=this;for(let e=0;e<64;e++){const t=d+((0,n.rotr)(h,6)^(0,n.rotr)(h,11)^(0,n.rotr)(h,25))+((p=h)&l^~p&f)+o[e]+u[e]|0,g=((0,n.rotr)(r,2)^(0,n.rotr)(r,13)^(0,n.rotr)(r,22))+s(r,i,a)|0;d=f,f=l,l=h,h=c+t|0,c=a,a=i,i=r,r=t+g|0}var p;r=r+this.A|0,i=i+this.B|0,a=a+this.C|0,c=c+this.D|0,h=h+this.E|0,l=l+this.F|0,f=f+this.G|0,d=d+this.H|0,this.set(r,i,a,c,h,l,f,d)}roundClean(){u.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}r.sha256=(0,n.wrapConstructor)((()=>new c))}}},{package:"eth-lattice-keyring>@ethereumjs/tx>ethereum-cryptography>@noble/hashes",file:"node_modules/eth-lattice-keyring/node_modules/ethereum-cryptography/node_modules/@noble/hashes/sha256.js"}],[2726,{"./_assert.js":2721,"./_u64.js":2723,"./utils.js":2727},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.shake256=r.shake128=r.keccak_512=r.keccak_384=r.keccak_256=r.keccak_224=r.sha3_512=r.sha3_384=r.sha3_256=r.sha3_224=r.Keccak=r.keccakP=void 0;const i=e("./_assert.js"),n=e("./_u64.js"),s=e("./utils.js"),[o,a,u]=[[],[],[]],c=BigInt(0),h=BigInt(1),l=BigInt(2),f=BigInt(7),d=BigInt(256),p=BigInt(113);for(let e=0,t=h,r=1,i=0;e<24;e++){[r,i]=[i,(2*r+3*i)%5],o.push(2*(5*i+r)),a.push((e+1)*(e+2)/2%64);let n=c;for(let e=0;e<7;e++)t=(t<<h^(t>>f)*p)%d,t&l&&(n^=h<<(h<<BigInt(e))-h);u.push(n)}const[g,y]=n.default.split(u,!0),m=(e,t,r)=>r>32?n.default.rotlBH(e,t,r):n.default.rotlSH(e,t,r),b=(e,t,r)=>r>32?n.default.rotlBL(e,t,r):n.default.rotlSL(e,t,r);function w(e,t=24){const r=new Uint32Array(10);for(let i=24-t;i<24;i++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const i=(t+8)%10,n=(t+2)%10,s=r[n],o=r[n+1],a=m(s,o,1)^r[i],u=b(s,o,1)^r[i+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=u}let t=e[2],n=e[3];for(let r=0;r<24;r++){const i=a[r],s=m(t,n,i),u=b(t,n,i),c=o[r];t=e[c],n=e[c+1],e[c]=s,e[c+1]=u}for(let t=0;t<50;t+=10){for(let i=0;i<10;i++)r[i]=e[t+i];for(let i=0;i<10;i++)e[t+i]^=~r[(i+2)%10]&r[(i+4)%10]}e[0]^=g[i],e[1]^=y[i]}r.fill(0)}r.keccakP=w;class v extends s.Hash{constructor(e,t,r,n=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,i.default.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,s.u32)(this.state)}keccak(){w(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){i.default.exists(this);const{blockLen:t,state:r}=this,n=(e=(0,s.toBytes)(e)).length;for(let i=0;i<n;){const s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,0!=(128&t)&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){i.default.exists(this,!1),i.default.bytes(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,n=e.length;i<n;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,n-i);e.set(t.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return i.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(i.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:n,enableXOF:s}=this;return e||(e=new v(t,r,i,s,n)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=n,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}r.Keccak=v;const _=(e,t,r)=>(0,s.wrapConstructor)((()=>new v(t,e,r)));r.sha3_224=_(6,144,28),r.sha3_256=_(6,136,32),r.sha3_384=_(6,104,48),r.sha3_512=_(6,72,64),r.keccak_224=_(1,144,28),r.keccak_256=_(1,136,32),r.keccak_384=_(1,104,48),r.keccak_512=_(1,72,64);const T=(e,t,r)=>(0,s.wrapConstructorWithOpts)(((i={})=>new v(t,e,i.dkLen===undefined?r:i.dkLen,!0)));r.shake128=T(31,168,16),r.shake256=T(31,136,32)}}},{package:"eth-lattice-keyring>@ethereumjs/tx>ethereum-cryptography>@noble/hashes",file:"node_modules/eth-lattice-keyring/node_modules/ethereum-cryptography/node_modules/@noble/hashes/sha3.js"}],[2727,{"@noble/hashes/crypto":2724},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(r,"__esModule",{value:!0}),r.randomBytes=r.wrapConstructorWithOpts=r.wrapConstructor=r.checkOpts=r.Hash=r.concatBytes=r.toBytes=r.utf8ToBytes=r.asyncLoop=r.nextTick=r.hexToBytes=r.bytesToHex=r.isLE=r.rotr=r.createView=r.u32=r.u8=void 0;const i=e("@noble/hashes/crypto");r.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);r.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));r.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(r.rotr=(e,t)=>e<<32-t|e>>>t,r.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!r.isLE)throw new Error("Non little-endian hardware is not supported");const n=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));r.bytesToHex=function(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=n[e[r]];return t},r.hexToBytes=function(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const i=2*r,n=e.slice(i,i+2),s=Number.parseInt(n,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[r]=s}return t};function s(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}function o(e){if("string"==typeof e&&(e=s(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}r.nextTick=async()=>{},r.asyncLoop=async function(e,t,i){let n=Date.now();for(let s=0;s<e;s++){i(s);const e=Date.now()-n;e>=0&&e<t||(await(0,r.nextTick)(),n+=e)}},r.utf8ToBytes=s,r.toBytes=o,r.concatBytes=function(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);for(let t=0,i=0;t<e.length;t++){const n=e[t];r.set(n,i),i+=n.length}return r};r.Hash=class{clone(){return this._cloneInto()}};r.checkOpts=function(e,t){if(t!==undefined&&("object"!=typeof t||(r=t,"[object Object]"!==Object.prototype.toString.call(r)||r.constructor!==Object)))throw new TypeError("Options should be object or undefined");var r;return Object.assign(e,t)},r.wrapConstructor=function(e){const t=t=>e().update(o(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},r.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(o(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},r.randomBytes=function(e=32){if(i.crypto.web)return i.crypto.web.getRandomValues(new Uint8Array(e));if(i.crypto.node)return new Uint8Array(i.crypto.node.randomBytes(e).buffer);throw new Error("The environment doesn't have randomBytes function")}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>ethereum-cryptography>@noble/hashes",file:"node_modules/eth-lattice-keyring/node_modules/ethereum-cryptography/node_modules/@noble/hashes/utils.js"}],[2728,{"./utils":2729,"@noble/hashes/sha256":2725},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sha256=void 0;const i=e("@noble/hashes/sha256"),n=e("./utils");r.sha256=(0,n.wrapHash)(i.sha256)}}},{package:"eth-lattice-keyring>@ethereumjs/tx>ethereum-cryptography",file:"node_modules/eth-lattice-keyring/node_modules/ethereum-cryptography/sha256.js"}],[2729,{"@noble/hashes/_assert":2721,"@noble/hashes/utils":2727},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=r.wrapHash=r.equalsBytes=r.hexToBytes=r.bytesToUtf8=r.utf8ToBytes=r.createView=r.concatBytes=r.toHex=r.bytesToHex=r.assertBytes=r.assertBool=void 0;const n=i(e("@noble/hashes/_assert")),s=e("@noble/hashes/utils"),o=n.default.bool;r.assertBool=o;const a=n.default.bytes;r.assertBytes=a;var u=e("@noble/hashes/utils");Object.defineProperty(r,"bytesToHex",{enumerable:!0,get:function(){return u.bytesToHex}}),Object.defineProperty(r,"toHex",{enumerable:!0,get:function(){return u.bytesToHex}}),Object.defineProperty(r,"concatBytes",{enumerable:!0,get:function(){return u.concatBytes}}),Object.defineProperty(r,"createView",{enumerable:!0,get:function(){return u.createView}}),Object.defineProperty(r,"utf8ToBytes",{enumerable:!0,get:function(){return u.utf8ToBytes}}),r.bytesToUtf8=function(e){if(!(e instanceof Uint8Array))throw new TypeError("bytesToUtf8 expected Uint8Array, got "+typeof e);return(new TextDecoder).decode(e)},r.hexToBytes=function(e){const t=e.startsWith("0x")?e.substring(2):e;return(0,s.hexToBytes)(t)},r.equalsBytes=function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},r.wrapHash=function(e){return t=>(n.default.bytes(t),e(t))},r.crypto=(()=>{const e="object"==typeof self&&"crypto"in self?self.crypto:undefined,r=void 0!==t&&"function"==typeof t.require&&t.require.bind(t);return{node:r&&!e?r("crypto"):undefined,web:e}})()}}},{package:"eth-lattice-keyring>@ethereumjs/tx>ethereum-cryptography",file:"node_modules/eth-lattice-keyring/node_modules/ethereum-cryptography/utils.js"}],[273,{"./arrayBasic":268,"@chainsafe/persistent-merkle-tree":218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ListBasicTreeViewDU=void 0;const i=e("@chainsafe/persistent-merkle-tree"),n=e("./arrayBasic");class s extends n.ArrayBasicTreeViewDU{constructor(e,t,r){super(e,t,r),this.type=e,this._rootNode=t}push(e){if(this._length>=this.type.limit)throw Error("Error pushing over limit");this.dirtyLength=!0;const t=this._length++;if(t%this.type.itemsPerChunk==0){const e=Math.floor(t/this.type.itemsPerChunk);this.nodes[e]=i.zeroNode(0)}this.set(t,e)}}r.ListBasicTreeViewDU=s}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/viewDU/listBasic.js"}],[2730,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function i(e){if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++)t.push(i(e[r]));const r=d(...t);return d(o(r.length,192),r)}const t=m(e);return 1===t.length&&t[0]<128?t:d(o(t.length,128),t)}function n(e,t,r){if(r>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,r)}function s(e){if(0===e[0])throw new Error("invalid RLP: extra zeros");return l(h(e))}function o(e,t){if(e<56)return Uint8Array.from([e+t]);const r=g(e),i=g(t+55+r.length/2);return Uint8Array.from(f(i+r))}function a(e,t=!1){if(!e||0===e.length)return Uint8Array.from([]);const r=u(m(e));if(t)return r;if(0!==r.remainder.length)throw new Error("invalid RLP: remainder must be zero");return r.data}function u(e){let t,r,i,o,a;const c=[],h=e[0];if(h<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(h<=183){if(t=h-127,i=128===h?Uint8Array.from([]):n(e,1,t),2===t&&i[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:i,remainder:e.slice(t)}}if(h<=191){if(r=h-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(t=s(n(e,1,r)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return i=n(e,r,t+r),{data:i,remainder:e.slice(t+r)}}if(h<=247){for(t=h-191,o=n(e,1,t);o.length;)a=u(o),c.push(a.data),o=a.remainder;return{data:c,remainder:e.slice(t)}}{if(r=h-246,t=s(n(e,1,r)),t<56)throw new Error("invalid RLP: encoded list too short");const i=r+t;if(i>e.length)throw new Error("invalid RLP: total length is larger than the data");for(o=n(e,r,i);o.length;)a=u(o),c.push(a.data),o=a.remainder;return{data:c,remainder:e.slice(i)}}}Object.defineProperty(r,"__esModule",{value:!0}),r.utils=r.decode=r.encode=void 0,r.encode=i,r.decode=a;const c=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function h(e){let t="";for(let r=0;r<e.length;r++)t+=c[e[r]];return t}function l(e){const t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function f(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const i=2*r;t[r]=l(e.slice(i,i+2))}return t}function d(...e){if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);for(let t=0,i=0;t<e.length;t++){const n=e[t];r.set(n,i),i+=n.length}return r}function p(e){return(new TextEncoder).encode(e)}function g(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?`0${t}`:t}function y(e){return e.length>=2&&"0"===e[0]&&"x"===e[1]}function m(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)return y(e)?f((t="string"!=typeof(r=e)?r:y(r)?r.slice(2):r).length%2?`0${t}`:t):p(e);var t,r;if("number"==typeof e||"bigint"==typeof e)return e?f(g(e)):Uint8Array.from([]);if(null===e||e===undefined)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}r.utils={bytesToHex:h,concatBytes:d,hexToBytes:f,utf8ToBytes:p};const b={encode:i,decode:a};r.default=b}}},{package:"eth-lattice-keyring>rlp",file:"node_modules/eth-lattice-keyring/node_modules/rlp/dist/index.js"}],[2734,{"fast-levenshtein":3031},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const i=e("fast-levenshtein");function n(e){return e.map(s)}function s(e){try{return e.split(".").reverse()}catch(t){throw new Error(JSON.stringify(e))}}function o(e){return e.slice(1).reverse().join(".")}function a(e,t){return t.some((t=>!(t.length>e.length)&&t.every(((t,r)=>e[r]===t))))}t.exports=class{constructor(e){Array.isArray(e)?(this.configs=function(e=[]){return e.map((e=>(function(e){if(null===e||"object"!=typeof e)throw new Error("Invalid config");if(e.tolerance&&!e.fuzzylist)throw new Error("Fuzzylist tolerance provided without fuzzylist");if("string"!=typeof e.name||""===e.name)throw new Error("Invalid config parameter: 'name'");if(!["number","string"].includes(typeof e.version)||""===e.version)throw new Error("Invalid config parameter: 'version'")}(e),Object.assign({},e,{allowlist:n(e.allowlist||[]),blocklist:n(e.blocklist||[]),fuzzylist:n(e.fuzzylist||[]),tolerance:"tolerance"in e?e.tolerance:3}))))}(e),this.legacyConfig=!1):(this.configs=[{allowlist:n(e.whitelist||[]),blocklist:n(e.blacklist||[]),fuzzylist:n(e.fuzzylist||[]),tolerance:"tolerance"in e?e.tolerance:3}],this.legacyConfig=!0)}check(e){const t=this._check(e);if(this.legacyConfig){let e=t.type;return"allowlist"===e?e="whitelist":"blocklist"===e&&(e="blacklist"),{match:t.match,result:t.result,type:e}}return t}_check(e){const t=s("."===e.substring(e.length-1)?e.slice(0,-1):e);for(const{allowlist:e,name:r,version:i}of this.configs){if(a(t,e))return{name:r,result:!1,type:"allowlist",version:i}}for(const{blocklist:e,fuzzylist:r,name:n,tolerance:s,version:u}of this.configs){if(a(t,e))return{name:n,result:!0,type:"blocklist",version:u};if(s>0){let e=o(t);e=e.replace("www.","");const a=r.find((t=>{const r=o(t);return i.get(e,r)<=s}));if(a){return{name:n,match:a.slice().reverse().join("."),result:!0,type:"fuzzy",version:u}}}}return{result:!1,type:"all"}}}}}},{package:"@metamask/phishing-warning>eth-phishing-detect",file:"node_modules/eth-phishing-detect/src/detector.js"}],[274,{"./arrayComposite":269,"@chainsafe/persistent-merkle-tree":218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ListCompositeTreeViewDU=void 0;const i=e("@chainsafe/persistent-merkle-tree"),n=e("./arrayComposite");class s extends n.ArrayCompositeTreeViewDU{constructor(e,t,r){super(e,t,r),this.type=e,this._rootNode=t}push(e){if(this._length>=this.type.limit)throw Error("Error pushing over limit");this.dirtyLength=!0;const t=this._length++;this.set(t,e)}sliceTo(e){this.commit();const t=this._rootNode;if(e>=this.type.tree_getLength(t)-1)return this;const r=this.type.tree_getChunksNode(t),n=i.treeZeroAfterIndex(r,this.type.chunkDepth,e),s=e+1,o=this.type.tree_setChunksNode(t,n,s);return this.type.getViewDU(o)}}r.ListCompositeTreeViewDU=s}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/viewDU/listComposite.js"}],[2741,{buffer:2426,"ethereumjs-abi":2761,"ethereumjs-util":2742,tweetnacl:3932,"tweetnacl-util":3931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){i===undefined&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===undefined&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.recoverTypedSignature_v4=r.recoverTypedSignature=r.signTypedData_v4=r.signTypedData=r.recoverTypedMessage=r.signTypedMessage=r.getEncryptionPublicKey=r.decryptSafely=r.decrypt=r.encryptSafely=r.encrypt=r.recoverTypedSignatureLegacy=r.signTypedDataLegacy=r.typedSignatureHash=r.extractPublicKey=r.recoverPersonalSignature=r.personalSign=r.normalize=r.concatSig=r.TypedDataUtils=r.TYPED_MESSAGE_SCHEMA=void 0;const o=s(e("ethereumjs-util")),a=s(e("ethereumjs-abi")),u=s(e("tweetnacl")),c=s(e("tweetnacl-util")),h={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]};r.TYPED_MESSAGE_SCHEMA=h;const l={encodeData(e,r,i,n=!0){const s=["bytes32"],u=[this.hashType(e,i)];if(n){const c=(e,r,s)=>{if(i[r]!==undefined)return["bytes32",null==s?"0x0000000000000000000000000000000000000000000000000000000000000000":o.keccak(this.encodeData(r,s,i,n))];if(s===undefined)throw new Error(`missing value for field ${e} of type ${r}`);if("bytes"===r)return["bytes32",o.keccak(s)];if("string"===r)return"string"==typeof s&&(s=t.from(s,"utf8")),["bytes32",o.keccak(s)];if(r.lastIndexOf("]")===r.length-1){const t=r.slice(0,r.lastIndexOf("[")),i=s.map((r=>c(e,t,r)));return["bytes32",o.keccak(a.rawEncode(i.map((([e])=>e)),i.map((([,e])=>e))))]}return[r,s]};for(const t of i[e]){const[e,i]=c(t.name,t.type,r[t.name]);s.push(e),u.push(i)}}else for(const a of i[e]){let e=r[a.name];if(e!==undefined)if("bytes"===a.type)s.push("bytes32"),e=o.keccak(e),u.push(e);else if("string"===a.type)s.push("bytes32"),"string"==typeof e&&(e=t.from(e,"utf8")),e=o.keccak(e),u.push(e);else if(i[a.type]!==undefined)s.push("bytes32"),e=o.keccak(this.encodeData(a.type,e,i,n)),u.push(e);else{if(a.type.lastIndexOf("]")===a.type.length-1)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");s.push(a.type),u.push(e)}}return a.rawEncode(s,u)},encodeType(e,t){let r="",i=this.findTypeDependencies(e,t).filter((t=>t!==e));i=[e].concat(i.sort());for(const e of i){if(!t[e])throw new Error(`No type definition specified: ${e}`);r+=`${e}(${t[e].map((({name:e,type:t})=>`${t} ${e}`)).join(",")})`}return r},findTypeDependencies(e,t,r=[]){if([e]=e.match(/^\w*/u),r.includes(e)||t[e]===undefined)return r;r.push(e);for(const i of t[e])for(const e of this.findTypeDependencies(i.type,t,r))!r.includes(e)&&r.push(e);return r},hashStruct(e,t,r,i=!0){return o.keccak(this.encodeData(e,t,r,i))},hashType(e,t){return o.keccak(this.encodeType(e,t))},sanitizeData(e){const t={};for(const r in h.properties)e[r]&&(t[r]=e[r]);return"types"in t&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},sign(e,r=!0){const i=this.sanitizeData(e),n=[t.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",i.domain,i.types,r)),"EIP712Domain"!==i.primaryType&&n.push(this.hashStruct(i.primaryType,i.message,i.types,r)),o.keccak(t.concat(n))}};function f(e,t,r){const i=o.fromSigned(t),n=o.fromSigned(r),s=o.bufferToInt(e),a=E(o.toUnsigned(i).toString("hex"),64),u=E(o.toUnsigned(n).toString("hex"),64),c=o.stripHexPrefix(o.intToHex(s));return o.addHexPrefix(a.concat(u,c)).toString("hex")}function d(e,t){const r=_(t.data),i=o.ecsign(r,e);return o.bufferToHex(f(i.v,i.r,i.s))}function p(e){const t=T(_(e.data),e.sig),r=o.publicToAddress(t);return o.bufferToHex(r)}function g(e,t,r){if("x25519-xsalsa20-poly1305"===r){if("string"!=typeof t.data)throw new Error('Cannot detect secret message, message params should be of the form {data: "secret message"} ');const r=u.box.keyPair();let i;try{i=c.decodeBase64(e)}catch(e){throw new Error("Bad public key")}const n=c.decodeUTF8(t.data),s=u.randomBytes(u.box.nonceLength),o=u.box(n,s,i,r.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:c.encodeBase64(s),ephemPublicKey:c.encodeBase64(r.publicKey),ciphertext:c.encodeBase64(o)}}throw new Error("Encryption type/version not supported")}function y(e,t){if("x25519-xsalsa20-poly1305"===e.version){const r=A(t),i=u.box.keyPair.fromSecretKey(r).secretKey,n=c.decodeBase64(e.nonce),s=c.decodeBase64(e.ciphertext),o=c.decodeBase64(e.ephemPublicKey),a=u.box.open(s,n,o,i);let h;try{h=c.encodeUTF8(a)}catch(e){throw new Error("Decryption failed.")}if(h)return h;throw new Error("Decryption failed.")}throw new Error("Encryption type/version not supported.")}function m(e,t){const r=l.sign(t.data,!1),i=o.ecsign(r,e);return o.bufferToHex(f(i.v,i.r,i.s))}function b(e,t){const r=l.sign(t.data),i=o.ecsign(r,e);return o.bufferToHex(f(i.v,i.r,i.s))}function w(e){const t=T(l.sign(e.data,!1),e.sig),r=o.publicToAddress(t);return o.bufferToHex(r)}function v(e){const t=T(l.sign(e.data),e.sig),r=o.publicToAddress(t);return o.bufferToHex(r)}function _(e){const t=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!("length"in e)||!e.length)throw t;const r=e.map((function(e){return"bytes"===e.type?o.toBuffer(e.value):e.value})),i=e.map((function(e){return e.type})),n=e.map((function(e){if(!e.name)throw t;return`${e.type} ${e.name}`}));return a.soliditySHA3(["bytes32","bytes32"],[a.soliditySHA3(new Array(e.length).fill("string"),n),a.soliditySHA3(i,r)])}function T(e,t){const r=o.toBuffer(t),i=o.fromRpcSig(r);return o.ecrecover(e,i.v,i.r,i.s)}function k(e){const t=o.toBuffer(e.data);return T(o.hashPersonalMessage(t),e.sig)}function E(e,t){let r=`${e}`;for(;r.length<t;)r=`0${r}`;return r}function A(e){const r=t.from(e,"hex").toString("base64");return c.decodeBase64(r)}r.TypedDataUtils=l,r.concatSig=f,r.normalize=function(e){if(!e)return undefined;if("number"==typeof e){const t=o.toBuffer(e);e=o.bufferToHex(t)}if("string"!=typeof e){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return o.addHexPrefix(e.toLowerCase())},r.personalSign=function(e,t){const r=o.toBuffer(t.data),i=o.hashPersonalMessage(r),n=o.ecsign(i,e);return o.bufferToHex(f(n.v,n.r,n.s))},r.recoverPersonalSignature=function(e){const t=k(e),r=o.publicToAddress(t);return o.bufferToHex(r)},r.extractPublicKey=function(e){return`0x${k(e).toString("hex")}`},r.typedSignatureHash=function(e){const t=_(e);return o.bufferToHex(t)},r.signTypedDataLegacy=d,r.recoverTypedSignatureLegacy=p,r.encrypt=g,r.encryptSafely=function(e,r,i){const{data:n}=r;if(!n)throw new Error("Cannot encrypt empty msg.data");if("object"==typeof n&&"toJSON"in n)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const s={data:n,padding:""},o=t.byteLength(JSON.stringify(s),"utf-8")%2048;let a=0;return o>0&&(a=2048-o-16),s.padding="0".repeat(a),g(e,{data:JSON.stringify(s)},i)},r.decrypt=y,r.decryptSafely=function(e,t){return JSON.parse(y(e,t)).data},r.getEncryptionPublicKey=function(e){const t=A(e),r=u.box.keyPair.fromSecretKey(t).publicKey;return c.encodeBase64(r)},r.signTypedMessage=function(e,t,r="V4"){switch(r){case"V1":return d(e,t);case"V3":return m(e,t);default:return b(e,t)}},r.recoverTypedMessage=function(e,t="V4"){switch(t){case"V1":return p(e);case"V3":return w(e);default:return v(e)}},r.signTypedData=m,r.signTypedData_v4=b,r.recoverTypedSignature=w,r.recoverTypedSignature_v4=v}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-sig-util",file:"node_modules/eth-sig-util/dist/index.js"}],[2742,{"./secp256k1-adapter":2743,assert:2422,"bn.js":2377,"create-hash":2627,"ethereum-cryptography/keccak":2750,"ethjs-util":2818,rlp:3827,"safe-buffer":3828},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=e("ethereum-cryptography/keccak"),s=n.keccak224,o=n.keccak384,a=n.keccak256,u=n.keccak512,c=e("./secp256k1-adapter"),h=e("assert"),l=e("rlp"),f=e("bn.js"),d=e("create-hash"),p=e("safe-buffer").Buffer;Object.assign(r,e("ethjs-util")),r.MAX_INTEGER=new f("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),r.TWO_POW256=new f("10000000000000000000000000000000000000000000000000000000000000000",16),r.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.SHA3_NULL_S=r.KECCAK256_NULL_S,r.KECCAK256_NULL=p.from(r.KECCAK256_NULL_S,"hex"),r.SHA3_NULL=r.KECCAK256_NULL,r.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.SHA3_RLP_ARRAY_S=r.KECCAK256_RLP_ARRAY_S,r.KECCAK256_RLP_ARRAY=p.from(r.KECCAK256_RLP_ARRAY_S,"hex"),r.SHA3_RLP_ARRAY=r.KECCAK256_RLP_ARRAY,r.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.SHA3_RLP_S=r.KECCAK256_RLP_S,r.KECCAK256_RLP=p.from(r.KECCAK256_RLP_S,"hex"),r.SHA3_RLP=r.KECCAK256_RLP,r.BN=f,r.rlp=l,r.secp256k1=c,r.zeros=function(e){return p.allocUnsafe(e).fill(0)},r.zeroAddress=function(){var e=r.zeros(20);return r.bufferToHex(e)},r.setLengthLeft=r.setLength=function(e,t,i){var n=r.zeros(t);return e=r.toBuffer(e),i?e.length<t?(e.copy(n),n):e.slice(0,t):e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)},r.setLengthRight=function(e,t){return r.setLength(e,t,!0)},r.unpad=r.stripZeros=function(e){for(var t=(e=r.stripHexPrefix(e))[0];e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e},r.toBuffer=function(e){if(!p.isBuffer(e))if(Array.isArray(e))e=p.from(e);else if("string"==typeof e)e=r.isHexString(e)?p.from(r.padToEven(r.stripHexPrefix(e)),"hex"):p.from(e);else if("number"==typeof e)e=r.intToBuffer(e);else if(null===e||e===undefined)e=p.allocUnsafe(0);else if(f.isBN(e))e=e.toArrayLike(p);else{if(!e.toArray)throw new Error("invalid type");e=p.from(e.toArray())}return e},r.bufferToInt=function(e){return new f(r.toBuffer(e)).toNumber()},r.bufferToHex=function(e){return"0x"+(e=r.toBuffer(e)).toString("hex")},r.fromSigned=function(e){return new f(e).fromTwos(256)},r.toUnsigned=function(e){return p.from(e.toTwos(256).toArray())},r.keccak=function(e,t){switch(e=r.toBuffer(e),t||(t=256),t){case 224:return s(e);case 256:return a(e);case 384:return o(e);case 512:return u(e);default:throw new Error("Invald algorithm: keccak"+t)}},r.keccak256=function(e){return r.keccak(e)},r.sha3=r.keccak,r.sha256=function(e){return e=r.toBuffer(e),d("sha256").update(e).digest()},r.ripemd160=function(e,t){e=r.toBuffer(e);var i=d("rmd160").update(e).digest();return!0===t?r.setLength(i,32):i},r.rlphash=function(e){return r.keccak(l.encode(e))},r.isValidPrivate=function(e){return c.privateKeyVerify(e)},r.isValidPublic=function(e,t){return 64===e.length?c.publicKeyVerify(p.concat([p.from([4]),e])):!!t&&c.publicKeyVerify(e)},r.pubToAddress=r.publicToAddress=function(e,t){return e=r.toBuffer(e),t&&64!==e.length&&(e=c.publicKeyConvert(e,!1).slice(1)),h(64===e.length),r.keccak(e).slice(-20)};var g=r.privateToPublic=function(e){return e=r.toBuffer(e),c.publicKeyCreate(e,!1).slice(1)};r.importPublic=function(e){return 64!==(e=r.toBuffer(e)).length&&(e=c.publicKeyConvert(e,!1).slice(1)),e},r.ecsign=function(e,t){var r=c.sign(e,t),i={};return i.r=r.signature.slice(0,32),i.s=r.signature.slice(32,64),i.v=r.recovery+27,i},r.hashPersonalMessage=function(e){var t=r.toBuffer("Ethereum Signed Message:\n"+e.length.toString());return r.keccak(p.concat([t,e]))},r.ecrecover=function(e,t,i,n){var s=p.concat([r.setLength(i,32),r.setLength(n,32)],64),o=t-27;if(0!==o&&1!==o)throw new Error("Invalid signature v value");var a=c.recover(e,s,o);return c.publicKeyConvert(a,!1).slice(1)},r.toRpcSig=function(e,t,i){if(27!==e&&28!==e)throw new Error("Invalid recovery id");return r.bufferToHex(p.concat([r.setLengthLeft(t,32),r.setLengthLeft(i,32),r.toBuffer(e-27)]))},r.fromRpcSig=function(e){if(65!==(e=r.toBuffer(e)).length)throw new Error("Invalid signature length");var t=e[64];return t<27&&(t+=27),{v:t,r:e.slice(0,32),s:e.slice(32,64)}},r.privateToAddress=function(e){return r.publicToAddress(g(e))},r.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)},r.isZeroAddress=function(e){return r.zeroAddress()===r.addHexPrefix(e)},r.toChecksumAddress=function(e){e=r.stripHexPrefix(e).toLowerCase();for(var t=r.keccak(e).toString("hex"),i="0x",n=0;n<e.length;n++)parseInt(t[n],16)>=8?i+=e[n].toUpperCase():i+=e[n];return i},r.isValidChecksumAddress=function(e){return r.isValidAddress(e)&&r.toChecksumAddress(e)===e},r.generateAddress=function(e,t){return e=r.toBuffer(e),t=(t=new f(t)).isZero()?null:p.from(t.toArray()),r.rlphash([e,t]).slice(-20)},r.isPrecompiled=function(e){var t=r.unpad(e);return 1===t.length&&t[0]>=1&&t[0]<=8},r.addHexPrefix=function(e){return"string"!=typeof e||r.isHexPrefixed(e)?e:"0x"+e},r.isValidSignature=function(e,t,r,i){var n=new f("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),s=new f("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);return 32===t.length&&32===r.length&&((27===e||28===e)&&(t=new f(t),r=new f(r),!(t.isZero()||t.gt(s)||r.isZero()||r.gt(s))&&(!1!==i||1!==new f(r).cmp(n))))},r.baToJSON=function(e){if(p.isBuffer(e))return"0x"+e.toString("hex");if(e instanceof Array){for(var t=[],i=0;i<e.length;i++)t.push(r.baToJSON(e[i]));return t}},r.defineProperties=function(e,t,n){if(e.raw=[],e._fields=[],e.toJSON=function(t){if(t){var i={};return e._fields.forEach((function(t){i[t]="0x"+e[t].toString("hex")})),i}return r.baToJSON(this.raw)},e.serialize=function(){return l.encode(e.raw)},t.forEach((function(t,i){function n(){return e.raw[i]}function s(n){"00"!==(n=r.toBuffer(n)).toString("hex")||t.allowZero||(n=p.allocUnsafe(0)),t.allowLess&&t.length?(n=r.stripZeros(n),h(t.length>=n.length,"The field "+t.name+" must not have more "+t.length+" bytes")):t.allowZero&&0===n.length||!t.length||h(t.length===n.length,"The field "+t.name+" must have byte length of "+t.length),e.raw[i]=n}e._fields.push(t.name),Object.defineProperty(e,t.name,{enumerable:!0,configurable:!0,get:n,set:s}),t.default&&(e[t.name]=t.default),t.alias&&Object.defineProperty(e,t.alias,{enumerable:!1,configurable:!0,set:s,get:n})})),n)if("string"==typeof n&&(n=p.from(r.stripHexPrefix(n),"hex")),p.isBuffer(n)&&(n=l.decode(n)),Array.isArray(n)){if(n.length>e._fields.length)throw new Error("wrong number of fields in data");n.forEach((function(t,i){e[e._fields[i]]=r.toBuffer(t)}))}else{if("object"!==(void 0===n?"undefined":i(n)))throw new Error("invalid data");var s=Object.keys(n);t.forEach((function(t){-1!==s.indexOf(t.name)&&(e[t.name]=n[t.name]),-1!==s.indexOf(t.alias)&&(e[t.alias]=n[t.alias])}))}}}}},{package:"eth-sig-util>ethereumjs-util",file:"node_modules/eth-sig-util/node_modules/ethereumjs-util/dist/index.js"}],[2743,{"./secp256k1-lib/der":2744,"./secp256k1-lib/index":2745,buffer:2426,"ethereum-cryptography/secp256k1":2758},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){var i=e("ethereum-cryptography/secp256k1");function n(){return e("./secp256k1-lib/index")}var s=e("./secp256k1-lib/der"),o=function(e){return 32===e.length&&i.privateKeyVerify(Uint8Array.from(e))};t.exports={privateKeyVerify:o,privateKeyExport:function(e,t){var r=n();if(32!==e.length)throw new RangeError("private key length is invalid");var i=r.privateKeyExport(e,t);return s.privateKeyExport(e,i,t)},privateKeyImport:function(e){if(null!==(e=s.privateKeyImport(e))&&32===e.length&&o(e))return e;throw new Error("couldn't import from DER format")},privateKeyNegate:function(e){return r.from(i.privateKeyNegate(Uint8Array.from(e)))},privateKeyModInverse:function(e){if(32!==e.length)throw new Error("private key length is invalid");var t=n();return r.from(t.privateKeyModInverse(Uint8Array.from(e)))},privateKeyTweakAdd:function(e,t){return r.from(i.privateKeyTweakAdd(Uint8Array.from(e),t))},privateKeyTweakMul:function(e,t){return r.from(i.privateKeyTweakMul(Uint8Array.from(e),Uint8Array.from(t)))},publicKeyCreate:function(e,t){return r.from(i.publicKeyCreate(Uint8Array.from(e),t))},publicKeyConvert:function(e,t){return r.from(i.publicKeyConvert(Uint8Array.from(e),t))},publicKeyVerify:function(e){return(33===e.length||65===e.length)&&i.publicKeyVerify(Uint8Array.from(e))},publicKeyTweakAdd:function(e,t,n){return r.from(i.publicKeyTweakAdd(Uint8Array.from(e),Uint8Array.from(t),n))},publicKeyTweakMul:function(e,t,n){return r.from(i.publicKeyTweakMul(Uint8Array.from(e),Uint8Array.from(t),n))},publicKeyCombine:function(e,t){var n=[];return e.forEach((function(e){n.push(Uint8Array.from(e))})),r.from(i.publicKeyCombine(n,t))},signatureNormalize:function(e){return r.from(i.signatureNormalize(Uint8Array.from(e)))},signatureExport:function(e){return r.from(i.signatureExport(Uint8Array.from(e)))},signatureImport:function(e){return r.from(i.signatureImport(Uint8Array.from(e)))},signatureImportLax:function(e){if(0===e.length)throw new RangeError("signature length is invalid");var t=n(),r=s.signatureImportLax(e);if(null===r)throw new Error("couldn't parse DER signature");return t.signatureImport(r)},sign:function(e,t,n){if(null===n)throw new TypeError("options should be an Object");var s=void 0;if(n){if(s={},null===n.data)throw new TypeError("options.data should be a Buffer");if(n.data){if(32!==n.data.length)throw new RangeError("options.data length is invalid");s.data=new Uint8Array(n.data)}if(null===n.noncefn)throw new TypeError("options.noncefn should be a Function");n.noncefn&&(s.noncefn=function(e,t,i,s,o){var a=null!=i?r.from(i):null,u=null!=s?r.from(s):null,c=r.from("");return n.noncefn&&(c=n.noncefn(r.from(e),r.from(t),a,u,o)),Uint8Array.from(c)})}var o=i.ecdsaSign(Uint8Array.from(e),Uint8Array.from(t),s);return{signature:r.from(o.signature),recovery:o.recid}},verify:function(e,t,r){return i.ecdsaVerify(Uint8Array.from(t),Uint8Array.from(e),r)},recover:function(e,t,n,s){return r.from(i.ecdsaRecover(Uint8Array.from(t),n,Uint8Array.from(e),s))},ecdh:function(e,t){return r.from(i.ecdh(Uint8Array.from(e),Uint8Array.from(t),{}))},ecdhUnsafe:function(e,t,i){if(33!==e.length&&65!==e.length)throw new RangeError("public key length is invalid");if(32!==t.length)throw new RangeError("private key length is invalid");var s=n();return r.from(s.ecdhUnsafe(Uint8Array.from(e),Uint8Array.from(t),i))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-sig-util>ethereumjs-util",file:"node_modules/eth-sig-util/node_modules/ethereumjs-util/dist/secp256k1-adapter.js"}],[2744,{buffer:2426},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){var t=e.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),i=e.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);r.privateKeyExport=function(r,n,s){var o=e.from(s?t:i);return r.copy(o,s?8:9),n.copy(o,s?181:214),o},r.privateKeyImport=function(e){var t=e.length,r=0;if(t<r+1||48!==e[r])return null;if(t<(r+=1)+1||!(128&e[r]))return null;var i=127&e[r];if(i<1||i>2)return null;if(t<(r+=1)+i)return null;var n=e[r+i-1]|(i>1?e[r+i-2]<<8:0);return t<(r+=i)+n||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||t<(r+=3)+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1]?null:e.slice(r+2,r+2+e[r+1])},r.signatureImportLax=function(t){var r=e.alloc(32,0),i=e.alloc(32,0),n=t.length,s=0;if(48!==t[s++])return null;var o=t[s++];if(128&o&&(s+=o-128)>n)return null;if(2!==t[s++])return null;var a=t[s++];if(128&a){if(s+(o=a-128)>n)return null;for(;o>0&&0===t[s];s+=1,o-=1);for(a=0;o>0;s+=1,o-=1)a=(a<<8)+t[s]}if(a>n-s)return null;var u=s;if(s+=a,2!==t[s++])return null;var c=t[s++];if(128&c){if(s+(o=c-128)>n)return null;for(;o>0&&0===t[s];s+=1,o-=1);for(c=0;o>0;s+=1,o-=1)c=(c<<8)+t[s]}if(c>n-s)return null;var h=s;for(s+=c;a>0&&0===t[u];a-=1,u+=1);if(a>32)return null;var l=t.slice(u,u+a);for(l.copy(r,32-l.length);c>0&&0===t[h];c-=1,h+=1);if(c>32)return null;var f=t.slice(h,h+c);return f.copy(i,32-f.length),{r:r,s:i}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-sig-util>ethereumjs-util",file:"node_modules/eth-sig-util/node_modules/ethereumjs-util/dist/secp256k1-lib/der.js"}],[2745,{"bn.js":2377,buffer:2426,elliptic:2666},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var i=e("bn.js"),n=new(0,e("elliptic").ec)("secp256k1"),s=n.curve;r.privateKeyExport=function(e,t){var r=new i(e);if(r.ucmp(s.n)>=0)throw new Error("couldn't export to DER format");var a=n.g.mul(r);return o(a.getX(),a.getY(),t)},r.privateKeyModInverse=function(e){var r=new i(e);if(r.ucmp(s.n)>=0||r.isZero())throw new Error("private key range is invalid");return r.invm(s.n).toArrayLike(t,"be",32)},r.signatureImport=function(e){var r=new i(e.r);r.ucmp(s.n)>=0&&(r=new i(0));var n=new i(e.s);return n.ucmp(s.n)>=0&&(n=new i(0)),t.concat([r.toArrayLike(t,"be",32),n.toArrayLike(t,"be",32)])},r.ecdhUnsafe=function(e,t,r){var a=n.keyFromPublic(e),u=new i(t);if(u.ucmp(s.n)>=0||u.isZero())throw new Error("scalar was invalid (zero or overflow)");var c=a.pub.mul(u);return o(c.getX(),c.getY(),r)};var o=function(e,r,i){var n=void 0;return i?((n=t.alloc(33))[0]=r.isOdd()?3:2,e.toArrayLike(t,"be",32).copy(n,1)):((n=t.alloc(65))[0]=4,e.toArrayLike(t,"be",32).copy(n,1),r.toArrayLike(t,"be",32).copy(n,33)),n}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-sig-util>ethereumjs-util",file:"node_modules/eth-sig-util/node_modules/ethereumjs-util/dist/secp256k1-lib/index.js"}],[2751,{"./vendor/hdkey-without-crypto":2756},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var i=e("./vendor/hdkey-without-crypto");r.HDKey=i}}},{package:"ethereumjs-util>ethereum-cryptography",file:"node_modules/ethereum-cryptography/pure/hdkey.js"}],[2752,{"../hash-utils":2749,"hash.js/lib/hash/ripemd":3284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var i=e("hash.js/lib/hash/ripemd").ripemd160,n=e("../hash-utils");r.ripemd160=n.createHashFunction((function(){return new i}))}}},{package:"ethereumjs-util>ethereum-cryptography",file:"node_modules/ethereum-cryptography/pure/ripemd160.js"}],[2753,{"../hash-utils":2749,"hash.js/lib/hash/sha/256":3288},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var i=e("hash.js/lib/hash/sha/256"),n=e("../hash-utils");r.sha256=n.createHashFunction((function(){return new i}))}}},{package:"ethereumjs-util>ethereum-cryptography",file:"node_modules/ethereum-cryptography/pure/sha256.js"}],[2754,{"../ripemd160":2752,"../sha256":2753,buffer:2426,"create-hmac":2629,randombytes:3717},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0});var i=e("../ripemd160"),n=e("../sha256");r.createHmac=e("create-hmac"),r.randomBytes=e("randombytes");var s=function(){function e(e){this.hashFunction=e,this.buffers=[]}return e.prototype.update=function(e){if(!t.isBuffer(e))throw new Error("hdkey-crypto shim is outdated");return this.buffers.push(e),this},e.prototype.digest=function(e){if(e)throw new Error("hdkey-crypto shim is outdated");return this.hashFunction(t.concat(this.buffers))},e}();r.createHash=function(e){if("ripemd160"===e)return new s(i.ripemd160);if("sha256"===e)return new s(n.sha256);throw new Error("hdkey-crypto shim is outdated")}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethereumjs-util>ethereum-cryptography",file:"node_modules/ethereum-cryptography/pure/shims/hdkey-crypto.js"}],[2755,{"../../shims/hdkey-secp256k1v3":2759},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),function(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}(e("../../shims/hdkey-secp256k1v3"))}}},{package:"ethereumjs-util>ethereum-cryptography",file:"node_modules/ethereum-cryptography/pure/shims/hdkey-secp256k1v3.js"}],[2756,{"../shims/hdkey-crypto":2754,"../shims/hdkey-secp256k1v3":2755,assert:2422,bs58check:2436,"safe-buffer":3828},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var n=i(e("assert")),s=i(e("safe-buffer")),o=i(e("bs58check")),a=e("../shims/hdkey-crypto"),u=e("../shims/hdkey-secp256k1v3"),c=s.Buffer,h=c.from("Bitcoin seed","utf8"),l=2147483648,f={private:76066276,public:76067358};function d(e){this.versions=e||f,this.depth=0,this.index=0,this._privateKey=null,this._publicKey=null,this.chainCode=null,this._fingerprint=0,this.parentFingerprint=0}function p(e,t,r){var i=c.allocUnsafe(78);i.writeUInt32BE(t,0),i.writeUInt8(e.depth,4);var n=e.depth?e.parentFingerprint:0;return i.writeUInt32BE(n,5),i.writeUInt32BE(e.index,9),e.chainCode.copy(i,13),r.copy(i,45),i}function g(e){var t=a.createHash("sha256").update(e).digest();return a.createHash("ripemd160").update(t).digest()}Object.defineProperty(d.prototype,"fingerprint",{get:function(){return this._fingerprint}}),Object.defineProperty(d.prototype,"identifier",{get:function(){return this._identifier}}),Object.defineProperty(d.prototype,"pubKeyHash",{get:function(){return this.identifier}}),Object.defineProperty(d.prototype,"privateKey",{get:function(){return this._privateKey},set:function(e){n.equal(e.length,32,"Private key must be 32 bytes."),n(!0===u.privateKeyVerify(e),"Invalid private key"),this._privateKey=e,this._publicKey=u.publicKeyCreate(e,!0),this._identifier=g(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0)}}),Object.defineProperty(d.prototype,"publicKey",{get:function(){return this._publicKey},set:function(e){n(33===e.length||65===e.length,"Public key must be 33 or 65 bytes."),n(!0===u.publicKeyVerify(e),"Invalid public key"),this._publicKey=u.publicKeyConvert(e,!0),this._identifier=g(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0),this._privateKey=null}}),Object.defineProperty(d.prototype,"privateExtendedKey",{get:function(){return this._privateKey?o.encode(p(this,this.versions.private,c.concat([c.alloc(1,0),this.privateKey]))):null}}),Object.defineProperty(d.prototype,"publicExtendedKey",{get:function(){return o.encode(p(this,this.versions.public,this.publicKey))}}),d.prototype.derive=function(e){if("m"===e||"M"===e||"m'"===e||"M'"===e)return this;var t=e.split("/"),r=this;return t.forEach((function(e,t){if(0!==t){var i=e.length>1&&"'"===e[e.length-1],s=parseInt(e,10);n(s<l,"Invalid index"),i&&(s+=l),r=r.deriveChild(s)}else n(/^[mM]{1}/.test(e),'Path must start with "m" or "M"')})),r},d.prototype.deriveChild=function(e){var t,r=e>=l,i=c.allocUnsafe(4);if(i.writeUInt32BE(e,0),r){n(this.privateKey,"Could not derive hardened child key");var s=this.privateKey,o=c.alloc(1,0);s=c.concat([o,s]),t=c.concat([s,i])}else t=c.concat([this.publicKey,i]);var h=a.createHmac("sha512",this.chainCode).update(t).digest(),f=h.slice(0,32),p=h.slice(32),g=new d(this.versions);if(this.privateKey)try{g.privateKey=u.privateKeyTweakAdd(this.privateKey,f)}catch(t){return this.deriveChild(e+1)}else try{g.publicKey=u.publicKeyTweakAdd(this.publicKey,f,!0)}catch(t){return this.deriveChild(e+1)}return g.chainCode=p,g.depth=this.depth+1,g.parentFingerprint=this.fingerprint,g.index=e,g},d.prototype.sign=function(e){return u.sign(e,this.privateKey).signature},d.prototype.verify=function(e,t){return u.verify(e,t,this.publicKey)},d.prototype.wipePrivateData=function(){return this._privateKey&&a.randomBytes(this._privateKey.length).copy(this._privateKey),this._privateKey=null,this},d.prototype.toJSON=function(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}},d.fromMasterSeed=function(e,t){var r=a.createHmac("sha512",h).update(e).digest(),i=r.slice(0,32),n=r.slice(32),s=new d(t);return s.chainCode=n,s.privateKey=i,s},d.fromExtendedKey=function(e,t){var r=new d(t=t||f),i=o.decode(e),s=i.readUInt32BE(0);n(s===t.private||s===t.public,"Version mismatch: does not match private or public"),r.depth=i.readUInt8(4),r.parentFingerprint=i.readUInt32BE(5),r.index=i.readUInt32BE(9),r.chainCode=i.slice(13,45);var a=i.slice(45);return 0===a.readUInt8(0)?(n(s===t.private,"Version mismatch: version does not match private"),r.privateKey=a.slice(1)):(n(s===t.public,"Version mismatch: version does not match public"),r.publicKey=a),r},d.fromJSON=function(e){return d.fromExtendedKey(e.xpriv)},d.HARDENED_OFFSET=l;var y=d;t.exports=y}}},{package:"ethereumjs-util>ethereum-cryptography",file:"node_modules/ethereum-cryptography/pure/vendor/hdkey-without-crypto.js"}],[2759,{buffer:2426,secp256k1:3839},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(r,"__esModule",{value:!0});var n=i(e("secp256k1"));r.privateKeyVerify=function(e){return n.privateKeyVerify(e)},r.publicKeyCreate=function(e,r){return void 0===r&&(r=!0),t.from(n.publicKeyCreate(e,r))},r.publicKeyVerify=function(e){return n.publicKeyVerify(e)},r.publicKeyConvert=function(e,r){return void 0===r&&(r=!0),t.from(n.publicKeyConvert(e,r))},r.privateKeyTweakAdd=function(e,r){return t.from(n.privateKeyTweakAdd(t.from(e),r))},r.publicKeyTweakAdd=function(e,r,i){return void 0===i&&(i=!0),t.from(n.publicKeyTweakAdd(t.from(e),r,i))},r.sign=function(e,r){var i=n.ecdsaSign(e,r);return{signature:t.from(i.signature),recovery:i.recid}},r.verify=function(e,t,r){return n.ecdsaVerify(t,e,r)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethereumjs-util>ethereum-cryptography",file:"node_modules/ethereum-cryptography/shims/hdkey-secp256k1v3.js"}],[277,{"./util":280},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const{encodeText:i}=e("./util");t.exports=class{constructor(e,t,r,n){this.name=e,this.code=t,this.codeBuf=i(this.code),this.alphabet=n,this.codec=r(n)}encode(e){return this.codec.encode(e)}decode(e){for(const t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}}}}},{package:"@ensdomains/content-hash>multicodec>uint8arrays>multibase",file:"node_modules/@ensdomains/content-hash/node_modules/multibase/src/base.js"}],[278,{"./base.js":277,"./rfc4648":279,"./util":280,"@multiformats/base-x":1585},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const i=e("@multiformats/base-x"),n=e("./base.js"),{rfc4648:s}=e("./rfc4648"),{decodeText:o,encodeText:a}=e("./util"),u=[["identity","\0",()=>({encode:o,decode:a}),""],["base2","0",s(1),"01"],["base8","7",s(3),"01234567"],["base10","9",i,"0123456789"],["base16","f",s(4),"0123456789abcdef"],["base16upper","F",s(4),"0123456789ABCDEF"],["base32hex","v",s(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",s(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",s(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",s(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",s(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",s(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",s(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",s(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",s(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",i,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",i,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",i,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",i,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",s(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",s(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",s(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",s(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],c=u.reduce(((e,t)=>(e[t[0]]=new n(t[0],t[1],t[2],t[3]),e)),{}),h=u.reduce(((e,t)=>(e[t[1]]=c[t[0]],e)),{});t.exports={names:c,codes:h}}}},{package:"@ensdomains/content-hash>multicodec>uint8arrays>multibase",file:"node_modules/@ensdomains/content-hash/node_modules/multibase/src/constants.js"}],[2785,{bs58check:2436,crypto:2636,"ethereumjs-util":2790,randombytes:3717,"safe-buffer":3828,scryptsy:3838,"uuid/v4":2798},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=e("safe-buffer").Buffer,s=e("ethereumjs-util"),o=e("crypto"),a=e("randombytes"),u=e("scryptsy"),c=e("uuid/v4"),h=e("bs58check");function l(e,t){if(!e)throw new Error(t||"Assertion failed")}function f(e,t){return n.concat([e.update(t),e.final()])}var d=function(e,t){if(e&&t)throw new Error("Cannot supply both a private and a public key to the constructor");if(e&&!s.isValidPrivate(e))throw new Error("Private key does not satisfy the curve requirements (ie. it is invalid)");if(t&&!s.isValidPublic(t))throw new Error("Invalid public key");this._privKey=e,this._pubKey=t};Object.defineProperty(d.prototype,"privKey",{get:function(){return l(this._privKey,"This is a public key only wallet"),this._privKey}}),Object.defineProperty(d.prototype,"pubKey",{get:function(){return this._pubKey||(this._pubKey=s.privateToPublic(this.privKey)),this._pubKey}}),d.generate=function(e){if(!e)return new d(a(32));for(var t=new s.BN("088f924eeceeda7fe92e1f5b0fffffffffffffff",16);;){var r=a(32);if(new s.BN(s.privateToAddress(r)).lte(t))return new d(r)}},d.generateVanityAddress=function(e){for("object"!==(void 0===e?"undefined":i(e))&&(e=new RegExp(e));;){var t=a(32),r=s.privateToAddress(t);if(e.test(r.toString("hex")))return new d(t)}},d.prototype.getPrivateKey=function(){return this.privKey},d.prototype.getPrivateKeyString=function(){return s.bufferToHex(this.getPrivateKey())},d.prototype.getPublicKey=function(){return this.pubKey},d.prototype.getPublicKeyString=function(){return s.bufferToHex(this.getPublicKey())},d.prototype.getAddress=function(){return s.publicToAddress(this.pubKey)},d.prototype.getAddressString=function(){return s.bufferToHex(this.getAddress())},d.prototype.getChecksumAddressString=function(){return s.toChecksumAddress(this.getAddressString())},d.prototype.toV3=function(e,t){l(this._privKey,"This is a public key only wallet");var r,i=(t=t||{}).salt||a(32),h=t.iv||a(16),d=t.kdf||"scrypt",p={dklen:t.dklen||32,salt:i.toString("hex")};if("pbkdf2"===d)p.c=t.c||262144,p.prf="hmac-sha256",r=o.pbkdf2Sync(n.from(e),i,p.c,p.dklen,"sha256");else{if("scrypt"!==d)throw new Error("Unsupported kdf");p.n=t.n||262144,p.r=t.r||8,p.p=t.p||1,r=u(n.from(e),i,p.n,p.r,p.p,p.dklen)}var g=o.createCipheriv(t.cipher||"aes-128-ctr",r.slice(0,16),h);if(!g)throw new Error("Unsupported cipher");var y=f(g,this.privKey),m=s.keccak256(n.concat([r.slice(16,32),n.from(y,"hex")]));return{version:3,id:c({random:t.uuid||a(16)}),address:this.getAddress().toString("hex"),crypto:{ciphertext:y.toString("hex"),cipherparams:{iv:h.toString("hex")},cipher:t.cipher||"aes-128-ctr",kdf:d,kdfparams:p,mac:m.toString("hex")}}},d.prototype.getV3Filename=function(e){return["UTC--",(e?new Date(e):new Date).toJSON().replace(/:/g,"-"),"--",this.getAddress().toString("hex")].join("")},d.prototype.toV3String=function(e,t){return JSON.stringify(this.toV3(e,t))},d.fromPublicKey=function(e,t){return t&&(e=s.importPublic(e)),new d(null,e)},d.fromExtendedPublicKey=function(e){return l("xpub"===e.slice(0,4),"Not an extended public key"),e=h.decode(e).slice(45),d.fromPublicKey(e,!0)},d.fromPrivateKey=function(e){return new d(e)},d.fromExtendedPrivateKey=function(e){l("xprv"===e.slice(0,4),"Not an extended private key");var t=h.decode(e);return l(0===t[45],"Invalid extended private key"),d.fromPrivateKey(t.slice(46))},d.fromV1=function(e,t){l("string"==typeof t);var r="object"===(void 0===e?"undefined":i(e))?e:JSON.parse(e);if("1"!==r.Version)throw new Error("Not a V1 wallet");if("scrypt"!==r.Crypto.KeyHeader.Kdf)throw new Error("Unsupported key derivation scheme");var a=r.Crypto.KeyHeader.KdfParams,c=u(n.from(t),n.from(r.Crypto.Salt,"hex"),a.N,a.R,a.P,a.DkLen),h=n.from(r.Crypto.CipherText,"hex");if(s.keccak256(n.concat([c.slice(16,32),h])).toString("hex")!==r.Crypto.MAC)throw new Error("Key derivation failed - possibly wrong passphrase");var p=f(o.createDecipheriv("aes-128-cbc",s.keccak256(c.slice(0,16)).slice(0,16),n.from(r.Crypto.IV,"hex")),h);return new d(p)},d.fromV3=function(e,t,r){l("string"==typeof t);var a,c,h="object"===(void 0===e?"undefined":i(e))?e:JSON.parse(r?e.toLowerCase():e);if(3!==h.version)throw new Error("Not a V3 wallet");if("scrypt"===h.crypto.kdf)c=h.crypto.kdfparams,a=u(n.from(t),n.from(c.salt,"hex"),c.n,c.r,c.p,c.dklen);else{if("pbkdf2"!==h.crypto.kdf)throw new Error("Unsupported key derivation scheme");if("hmac-sha256"!==(c=h.crypto.kdfparams).prf)throw new Error("Unsupported parameters to PBKDF2");a=o.pbkdf2Sync(n.from(t),n.from(c.salt,"hex"),c.c,c.dklen,"sha256")}var p=n.from(h.crypto.ciphertext,"hex");if(s.keccak256(n.concat([a.slice(16,32),p])).toString("hex")!==h.crypto.mac)throw new Error("Key derivation failed - possibly wrong passphrase");var g=f(o.createDecipheriv(h.crypto.cipher,a.slice(0,16),n.from(h.crypto.cipherparams.iv,"hex")),p);return new d(g)},d.fromEthSale=function(e,t){l("string"==typeof t);var r="object"===(void 0===e?"undefined":i(e))?e:JSON.parse(e),a=n.from(r.encseed,"hex"),u=o.pbkdf2Sync(t,t,2e3,32,"sha256").slice(0,16),c=f(o.createDecipheriv("aes-128-cbc",u,a.slice(0,16)),a.slice(16)),h=new d(s.keccak256(c));if(h.getAddress().toString("hex")!==r.ethaddr)throw new Error("Decoded key mismatch - possibly wrong passphrase");return h},t.exports=d}}},{package:"ethereumjs-wallet",file:"node_modules/ethereumjs-wallet/index.js"}],[2786,{"./bytes":2787,"./hash":2789,"./secp256k1v3-adapter":2792,assert:2422,"bn.js":2377,buffer:2426,"ethjs-util":2818},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.importPublic=r.privateToPublic=r.privateToAddress=r.publicToAddress=r.pubToAddress=r.isValidPublic=r.isValidPrivate=r.isPrecompiled=r.generateAddress2=r.generateAddress=r.isValidChecksumAddress=r.toChecksumAddress=r.isZeroAddress=r.isValidAddress=r.zeroAddress=void 0;var i=e("assert"),n=e("ethjs-util"),s=e("./secp256k1v3-adapter"),o=e("bn.js"),a=e("./bytes"),u=e("./hash");r.zeroAddress=function(){var e=a.zeros(20);return a.bufferToHex(e)},r.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)},r.isZeroAddress=function(e){return r.zeroAddress()===a.addHexPrefix(e)},r.toChecksumAddress=function(e,t){e=n.stripHexPrefix(e).toLowerCase();for(var r=t!==undefined?t.toString()+"0x":"",i=u.keccak(r+e).toString("hex"),s="0x",o=0;o<e.length;o++)parseInt(i[o],16)>=8?s+=e[o].toUpperCase():s+=e[o];return s},r.isValidChecksumAddress=function(e,t){return r.isValidAddress(e)&&r.toChecksumAddress(e,t)===e},r.generateAddress=function(e,r){e=a.toBuffer(e);var i=new o(r);return i.isZero()?u.rlphash([e,null]).slice(-20):u.rlphash([e,t.from(i.toArray())]).slice(-20)},r.generateAddress2=function(e,r,n){var s=a.toBuffer(e),o=a.toBuffer(r),c=a.toBuffer(n);return i(20===s.length),i(32===o.length),u.keccak256(t.concat([t.from("ff","hex"),s,o,u.keccak256(c)])).slice(-20)},r.isPrecompiled=function(e){var t=a.unpad(e);return 1===t.length&&t[0]>=1&&t[0]<=8},r.isValidPrivate=function(e){return s.privateKeyVerify(e)},r.isValidPublic=function(e,r){return void 0===r&&(r=!1),64===e.length?s.publicKeyVerify(t.concat([t.from([4]),e])):!!r&&s.publicKeyVerify(e)},r.pubToAddress=function(e,t){return void 0===t&&(t=!1),e=a.toBuffer(e),t&&64!==e.length&&(e=s.publicKeyConvert(e,!1).slice(1)),i(64===e.length),u.keccak(e).slice(-20)},r.publicToAddress=r.pubToAddress,r.privateToAddress=function(e){return r.publicToAddress(r.privateToPublic(e))},r.privateToPublic=function(e){return e=a.toBuffer(e),s.publicKeyCreate(e,!1).slice(1)},r.importPublic=function(e){return 64!==(e=a.toBuffer(e)).length&&(e=s.publicKeyConvert(e,!1).slice(1)),e}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethereumjs-wallet>ethereumjs-util",file:"node_modules/ethereumjs-wallet/node_modules/ethereumjs-util/dist/account.js"}],[2787,{"bn.js":2377,buffer:2426,"ethjs-util":2818},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.baToJSON=r.addHexPrefix=r.toUnsigned=r.fromSigned=r.bufferToHex=r.bufferToInt=r.toBuffer=r.stripZeros=r.unpad=r.setLengthRight=r.setLength=r.setLengthLeft=r.zeros=void 0;var i=e("ethjs-util"),n=e("bn.js");r.zeros=function(e){return t.allocUnsafe(e).fill(0)},r.setLengthLeft=function(e,t,i){void 0===i&&(i=!1);var n=r.zeros(t);return e=r.toBuffer(e),i?e.length<t?(e.copy(n),n):e.slice(0,t):e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)},r.setLength=r.setLengthLeft,r.setLengthRight=function(e,t){return r.setLength(e,t,!0)},r.unpad=function(e){for(var t=(e=i.stripHexPrefix(e))[0];e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e},r.stripZeros=r.unpad,r.toBuffer=function(e){if(!t.isBuffer(e))if(Array.isArray(e))e=t.from(e);else if("string"==typeof e){if(!i.isHexString(e))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+e);e=t.from(i.padToEven(i.stripHexPrefix(e)),"hex")}else if("number"==typeof e)e=i.intToBuffer(e);else if(null===e||e===undefined)e=t.allocUnsafe(0);else if(n.isBN(e))e=e.toArrayLike(t);else{if(!e.toArray)throw new Error("invalid type");e=t.from(e.toArray())}return e},r.bufferToInt=function(e){return new n(r.toBuffer(e)).toNumber()},r.bufferToHex=function(e){return"0x"+(e=r.toBuffer(e)).toString("hex")},r.fromSigned=function(e){return new n(e).fromTwos(256)},r.toUnsigned=function(e){return t.from(e.toTwos(256).toArray())},r.addHexPrefix=function(e){return"string"!=typeof e||i.isHexPrefixed(e)?e:"0x"+e},r.baToJSON=function(e){if(t.isBuffer(e))return"0x"+e.toString("hex");if(e instanceof Array){for(var i=[],n=0;n<e.length;n++)i.push(r.baToJSON(e[n]));return i}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethereumjs-wallet>ethereumjs-util",file:"node_modules/ethereumjs-wallet/node_modules/ethereumjs-util/dist/bytes.js"}],[2788,{"bn.js":2377,buffer:2426},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.KECCAK256_RLP=r.KECCAK256_RLP_S=r.KECCAK256_RLP_ARRAY=r.KECCAK256_RLP_ARRAY_S=r.KECCAK256_NULL=r.KECCAK256_NULL_S=r.TWO_POW256=r.MAX_INTEGER=void 0;var i=e("bn.js");r.MAX_INTEGER=new i("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),r.TWO_POW256=new i("10000000000000000000000000000000000000000000000000000000000000000",16),r.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.KECCAK256_NULL=t.from(r.KECCAK256_NULL_S,"hex"),r.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.KECCAK256_RLP_ARRAY=t.from(r.KECCAK256_RLP_ARRAY_S,"hex"),r.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.KECCAK256_RLP=t.from(r.KECCAK256_RLP_S,"hex")}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethereumjs-wallet>ethereumjs-util",file:"node_modules/ethereumjs-wallet/node_modules/ethereumjs-util/dist/constants.js"}],[2789,{"./bytes":2787,buffer:2426,"create-hash":2627,"ethereum-cryptography/keccak":2750,"ethjs-util":2818,rlp:3827},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.rlphash=r.ripemd160=r.sha256=r.keccak256=r.keccak=void 0;var i=e("ethereum-cryptography/keccak"),n=i.keccak224,s=i.keccak384,o=i.keccak256,a=i.keccak512,u=e("create-hash"),c=e("ethjs-util"),h=e("rlp"),l=e("./bytes");r.keccak=function(e,r){switch(void 0===r&&(r=256),e="string"!=typeof e||c.isHexString(e)?l.toBuffer(e):t.from(e,"utf8"),r||(r=256),r){case 224:return n(e);case 256:return o(e);case 384:return s(e);case 512:return a(e);default:throw new Error("Invald algorithm: keccak"+r)}},r.keccak256=function(e){return r.keccak(e)},r.sha256=function(e){return e=l.toBuffer(e),u("sha256").update(e).digest()},r.ripemd160=function(e,t){e=l.toBuffer(e);var r=u("rmd160").update(e).digest();return!0===t?l.setLength(r,32):r},r.rlphash=function(e){return r.keccak(h.encode(e))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethereumjs-wallet>ethereumjs-util",file:"node_modules/ethereumjs-wallet/node_modules/ethereumjs-util/dist/hash.js"}],[279,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports={rfc4648:e=>t=>({encode:r=>((e,t,r)=>{const i="="===t[t.length-1],n=(1<<r)-1;let s="",o=0,a=0;for(let i=0;i<e.length;++i)for(a=a<<8|e[i],o+=8;o>r;)o-=r,s+=t[n&a>>o];if(o&&(s+=t[n&a<<r-o]),i)for(;s.length*r&7;)s+="=";return s})(r,t,e),decode:r=>((e,t,r)=>{const i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let n=e.length;for(;"="===e[n-1];)--n;const s=new Uint8Array(n*r/8|0);let o=0,a=0,u=0;for(let t=0;t<n;++t){const n=i[e[t]];if(n===undefined)throw new SyntaxError("Invalid character "+e[t]);a=a<<r|n,o+=r,o>=8&&(o-=8,s[u++]=255&a>>o)}if(o>=r||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return s})(r,t,e)})}}}},{package:"@ensdomains/content-hash>multicodec>uint8arrays>multibase",file:"node_modules/@ensdomains/content-hash/node_modules/multibase/src/rfc4648.js"}],[2790,{"./account":2786,"./bytes":2787,"./constants":2788,"./hash":2789,"./object":2791,"./secp256k1v3-adapter":2792,"./signature":2795,"bn.js":2377,"ethjs-util":2818,rlp:3827},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){i===undefined&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===undefined&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.secp256k1=r.rlp=r.BN=void 0;var s=e("./secp256k1v3-adapter");r.secp256k1=s;var o=e("ethjs-util"),a=e("bn.js");r.BN=a;var u=e("rlp");r.rlp=u,Object.assign(r,o),n(e("./constants"),r),n(e("./account"),r),n(e("./hash"),r),n(e("./signature"),r),n(e("./bytes"),r),n(e("./object"),r)}}},{package:"ethereumjs-wallet>ethereumjs-util",file:"node_modules/ethereumjs-wallet/node_modules/ethereumjs-util/dist/index.js"}],[2791,{"./bytes":2787,assert:2422,buffer:2426,"ethjs-util":2818,rlp:3827},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.defineProperties=void 0;var i=e("assert"),n=e("ethjs-util"),s=e("rlp"),o=e("./bytes");r.defineProperties=function(e,r,a){if(e.raw=[],e._fields=[],e.toJSON=function(t){if(void 0===t&&(t=!1),t){var r={};return e._fields.forEach((function(t){r[t]="0x"+e[t].toString("hex")})),r}return o.baToJSON(e.raw)},e.serialize=function(){return s.encode(e.raw)},r.forEach((function(r,n){function s(){return e.raw[n]}function a(s){"00"!==(s=o.toBuffer(s)).toString("hex")||r.allowZero||(s=t.allocUnsafe(0)),r.allowLess&&r.length?(s=o.stripZeros(s),i(r.length>=s.length,"The field "+r.name+" must not have more "+r.length+" bytes")):r.allowZero&&0===s.length||!r.length||i(r.length===s.length,"The field "+r.name+" must have byte length of "+r.length),e.raw[n]=s}e._fields.push(r.name),Object.defineProperty(e,r.name,{enumerable:!0,configurable:!0,get:s,set:a}),r.default&&(e[r.name]=r.default),r.alias&&Object.defineProperty(e,r.alias,{enumerable:!1,configurable:!0,set:a,get:s})})),a)if("string"==typeof a&&(a=t.from(n.stripHexPrefix(a),"hex")),t.isBuffer(a)&&(a=s.decode(a)),Array.isArray(a)){if(a.length>e._fields.length)throw new Error("wrong number of fields in data");a.forEach((function(t,r){e[e._fields[r]]=o.toBuffer(t)}))}else{if("object"!=typeof a)throw new Error("invalid data");var u=Object.keys(a);r.forEach((function(t){-1!==u.indexOf(t.name)&&(e[t.name]=a[t.name]),-1!==u.indexOf(t.alias)&&(e[t.alias]=a[t.alias])}))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethereumjs-wallet>ethereumjs-util",file:"node_modules/ethereumjs-wallet/node_modules/ethereumjs-util/dist/object.js"}],[2792,{"./secp256k1v3-lib/der":2793,"./secp256k1v3-lib/index":2794,buffer:2426,"ethereum-cryptography/secp256k1":2758},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.ecdhUnsafe=r.ecdh=r.recover=r.verify=r.sign=r.signatureImportLax=r.signatureImport=r.signatureExport=r.signatureNormalize=r.publicKeyCombine=r.publicKeyTweakMul=r.publicKeyTweakAdd=r.publicKeyVerify=r.publicKeyConvert=r.publicKeyCreate=r.privateKeyTweakMul=r.privateKeyTweakAdd=r.privateKeyModInverse=r.privateKeyNegate=r.privateKeyImport=r.privateKeyExport=r.privateKeyVerify=void 0;var i=e("ethereum-cryptography/secp256k1"),n=e("./secp256k1v3-lib/index"),s=e("./secp256k1v3-lib/der");r.privateKeyVerify=function(e){return 32===e.length&&i.privateKeyVerify(Uint8Array.from(e))},r.privateKeyExport=function(e,t){if(32!==e.length)throw new RangeError("private key length is invalid");var r=n.privateKeyExport(e,t);return s.privateKeyExport(e,r,t)},r.privateKeyImport=function(e){if(null!==(e=s.privateKeyImport(e))&&32===e.length&&r.privateKeyVerify(e))return e;throw new Error("couldn't import from DER format")},r.privateKeyNegate=function(e){return t.from(i.privateKeyNegate(Uint8Array.from(e)))},r.privateKeyModInverse=function(e){if(32!==e.length)throw new Error("private key length is invalid");return t.from(n.privateKeyModInverse(Uint8Array.from(e)))},r.privateKeyTweakAdd=function(e,r){return t.from(i.privateKeyTweakAdd(Uint8Array.from(e),r))},r.privateKeyTweakMul=function(e,r){return t.from(i.privateKeyTweakMul(Uint8Array.from(e),Uint8Array.from(r)))},r.publicKeyCreate=function(e,r){return t.from(i.publicKeyCreate(Uint8Array.from(e),r))},r.publicKeyConvert=function(e,r){return t.from(i.publicKeyConvert(Uint8Array.from(e),r))},r.publicKeyVerify=function(e){return(33===e.length||65===e.length)&&i.publicKeyVerify(Uint8Array.from(e))},r.publicKeyTweakAdd=function(e,r,n){return t.from(i.publicKeyTweakAdd(Uint8Array.from(e),Uint8Array.from(r),n))},r.publicKeyTweakMul=function(e,r,n){return t.from(i.publicKeyTweakMul(Uint8Array.from(e),Uint8Array.from(r),n))},r.publicKeyCombine=function(e,r){var n=[];return e.forEach((function(e){n.push(Uint8Array.from(e))})),t.from(i.publicKeyCombine(n,r))},r.signatureNormalize=function(e){return t.from(i.signatureNormalize(Uint8Array.from(e)))},r.signatureExport=function(e){return t.from(i.signatureExport(Uint8Array.from(e)))},r.signatureImport=function(e){return t.from(i.signatureImport(Uint8Array.from(e)))},r.signatureImportLax=function(e){if(0===e.length)throw new RangeError("signature length is invalid");var t=s.signatureImportLax(e);if(null===t)throw new Error("couldn't parse DER signature");return n.signatureImport(t)},r.sign=function(e,r,n){if(null===n)throw new TypeError("options should be an Object");var s=undefined;if(n){if(s={},null===n.data)throw new TypeError("options.data should be a Buffer");if(n.data){if(32!=n.data.length)throw new RangeError("options.data length is invalid");s.data=new Uint8Array(n.data)}if(null===n.noncefn)throw new TypeError("options.noncefn should be a Function");n.noncefn&&(s.noncefn=function(e,r,i,s,o){var a=null!=i?t.from(i):null,u=null!=s?t.from(s):null,c=t.from("");return n.noncefn&&(c=n.noncefn(t.from(e),t.from(r),a,u,o)),new Uint8Array(c)})}var o=i.ecdsaSign(Uint8Array.from(e),Uint8Array.from(r),s);return{signature:t.from(o.signature),recovery:o.recid}},r.verify=function(e,t,r){return i.ecdsaVerify(Uint8Array.from(t),Uint8Array.from(e),r)},r.recover=function(e,r,n,s){return t.from(i.ecdsaRecover(Uint8Array.from(r),n,Uint8Array.from(e),s))},r.ecdh=function(e,r){return t.from(i.ecdh(Uint8Array.from(e),Uint8Array.from(r),{}))},r.ecdhUnsafe=function(e,r,i){if(33!==e.length&&65!==e.length)throw new RangeError("public key length is invalid");if(32!==r.length)throw new RangeError("private key length is invalid");return t.from(n.ecdhUnsafe(Uint8Array.from(e),Uint8Array.from(r),i))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethereumjs-wallet>ethereumjs-util",file:"node_modules/ethereumjs-wallet/node_modules/ethereumjs-util/dist/secp256k1v3-adapter.js"}],[2793,{buffer:2426},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){Object.defineProperty(r,"__esModule",{value:!0});var t=e.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),i=e.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);r.privateKeyExport=function(r,n,s){void 0===s&&(s=!0);var o=e.from(s?t:i);return r.copy(o,s?8:9),n.copy(o,s?181:214),o},r.privateKeyImport=function(e){var t=e.length,r=0;if(t<r+1||48!==e[r])return null;if(t<(r+=1)+1||!(128&e[r]))return null;var i=127&e[r];if(i<1||i>2)return null;if(t<(r+=1)+i)return null;var n=e[r+i-1]|(i>1?e[r+i-2]<<8:0);return t<(r+=i)+n||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||t<(r+=3)+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1]?null:e.slice(r+2,r+2+e[r+1])},r.signatureImportLax=function(t){var r=e.alloc(32,0),i=e.alloc(32,0),n=t.length,s=0;if(48!==t[s++])return null;var o=t[s++];if(128&o&&(s+=o-128)>n)return null;if(2!==t[s++])return null;var a=t[s++];if(128&a){if(s+(o=a-128)>n)return null;for(;o>0&&0===t[s];s+=1,o-=1);for(a=0;o>0;s+=1,o-=1)a=(a<<8)+t[s]}if(a>n-s)return null;var u=s;if(s+=a,2!==t[s++])return null;var c=t[s++];if(128&c){if(s+(o=c-128)>n)return null;for(;o>0&&0===t[s];s+=1,o-=1);for(c=0;o>0;s+=1,o-=1)c=(c<<8)+t[s]}if(c>n-s)return null;var h=s;for(s+=c;a>0&&0===t[u];a-=1,u+=1);if(a>32)return null;var l=t.slice(u,u+a);for(l.copy(r,32-l.length);c>0&&0===t[h];c-=1,h+=1);if(c>32)return null;var f=t.slice(h,h+c);return f.copy(i,32-f.length),{r:r,s:i}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethereumjs-wallet>ethereumjs-util",file:"node_modules/ethereumjs-wallet/node_modules/ethereumjs-util/dist/secp256k1v3-lib/der.js"}],[2794,{"bn.js":2377,buffer:2426,elliptic:2666},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0});var i=e("bn.js"),n=new(0,e("elliptic").ec)("secp256k1"),s=n.curve;r.privateKeyExport=function(e,t){void 0===t&&(t=!0);var r=new i(e);if(r.ucmp(s.n)>=0)throw new Error("couldn't export to DER format");var a=n.g.mul(r);return o(a.getX(),a.getY(),t)},r.privateKeyModInverse=function(e){var r=new i(e);if(r.ucmp(s.n)>=0||r.isZero())throw new Error("private key range is invalid");return r.invm(s.n).toArrayLike(t,"be",32)},r.signatureImport=function(e){var r=new i(e.r);r.ucmp(s.n)>=0&&(r=new i(0));var n=new i(e.s);return n.ucmp(s.n)>=0&&(n=new i(0)),t.concat([r.toArrayLike(t,"be",32),n.toArrayLike(t,"be",32)])},r.ecdhUnsafe=function(e,t,r){void 0===r&&(r=!0);var a=n.keyFromPublic(e),u=new i(t);if(u.ucmp(s.n)>=0||u.isZero())throw new Error("scalar was invalid (zero or overflow)");var c=a.pub.mul(u);return o(c.getX(),c.getY(),r)};var o=function(e,r,i){var n;return i?((n=t.alloc(33))[0]=r.isOdd()?3:2,e.toArrayLike(t,"be",32).copy(n,1)):((n=t.alloc(65))[0]=4,e.toArrayLike(t,"be",32).copy(n,1),r.toArrayLike(t,"be",32).copy(n,33)),n}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethereumjs-wallet>ethereumjs-util",file:"node_modules/ethereumjs-wallet/node_modules/ethereumjs-util/dist/secp256k1v3-lib/index.js"}]],[],{});